"use strict";(self.webpackChunknoctua=self.webpackChunknoctua||[]).push([[557],{2557:(mq,hp,Gs)=>{Gs.r(hp),Gs.d(hp,{go_loading_spinner:()=>vp,wc_genes_panel:()=>pv,wc_gocam_legend:()=>hv,wc_gocam_viz:()=>Km});var ha=Gs(73014),Ae=Gs(64278);const vp=class{constructor(t){(0,Ae.r)(this,t),this.message=void 0}render(){return(0,Ae.h)("div",{class:"wrapper"},(0,Ae.h)("div",{class:"ring"}),this.message)}};vp.style='.wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.ring{display:inline-block;position:relative;width:5em;height:5em}.ring::after{content:"";box-sizing:border-box;display:block;position:absolute;width:4em;height:4em;margin:0.5em;border-width:0.5em;border-style:solid;border-radius:50%;border-color:#703770 #703770 #703770 transparent;animation:ring-frames 1.2s ease-in-out infinite}@keyframes ring-frames{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}';class Ms{static cleanID(e){return e&&e.replace(/\W/g,"_")}static pad(e,r){let n=0,a="";for(;n++<r;)a+=e;return a}static handleize(e){return e.toString().toLowerCase().replace(new RegExp("/s+/g"),"-").replace(new RegExp("/[^w-]+/g"),"").replace(new RegExp("/--+/g"),"-").replace(new RegExp("/^-+/"),"").replace(new RegExp("/-+$/"),"")}static cleanModelId(e){if(!e)return e;const r="gomodel:";let n=e.trim();return n.includes(r)||(n=r+n),n}static splitAndAppend(e,r,n){const a=e.split(r);return[...a.splice(0,n),a.join(r)]}static areArraysEqualByKey(e,r,n){return!(!e||!r||e.length!==r.length)&&e.every((a,i)=>a[n]===r[i][n])}}var zs=function(t){return t.ACTIVITY_NODE="activity_node",t.EVIDENCE="evidence",t.ENTITY="entity",t.ARTICLE="article",t.CONTRIBUTOR="contributor",t}(zs||{});class Se{constructor(e,r,n,a,i){this.id=e,this.label=r,this.url=n,this.modelId=i,this.entityType=zs.ENTITY,this.termHistory=[],this.weight=1,this._uuid=null,this.uuid=a}static createEntity(e){return new Se(e?.id,e?.label)}get uuid(){return this._uuid}set uuid(e){e&&(this._uuid=e),this.displayId="noc-node-"+Ms.cleanID(e)}hasValue(){return null!=this.id&&this.id.length>0}}const Ti={definitions:{activityRelationship:{regulation:{id:"activityRelationship:regulation",label:"Regulation",description:"The upstream activity conditionally controls the downstream activity"},constitutivelyUpstream:{id:"activityRelationship:constitutivelyUpstream",label:"Constitutively Upstream",description:"The upstream activity is normally present and required for the downstream activity."},providesInputFor:{id:"activityRelationship:providesInputFor",label:"Provides Input For",description:"The upstream activity produces a molecule that is an input for the downstream activity."},removesInputFor:{id:"activityRelationship:removesInputFor",label:"Removes Input For",description:"The upstream and downstream activities have the same input but the upstream activity makes the input unavailable for the downstream activity."},undetermined:{id:"activityRelationship:undetermined",label:"Undetermined",description:"There is insufficient data to specify a precise causal mechanism."}},activityMoleculeRelationship:{product:{id:"activityMoleculeRelationship:product",label:"Product",description:"The activity creates the molecule as a reaction product"}},moleculeActivityRelationship:{regulates:{id:"moleculeActivityRelationship:regulates",label:"Regulation",description:"The chemical regulates the activity"},substrate:{id:"moleculeActivityRelationship:substrate",label:"Substrate",description:"The chemical is the substrate that the activity acts upon"}},effectDirection:{positive:{id:"effectDirection:positive",label:"Positive"},negative:{id:"effectDirection:negative",label:"Negative"}},directness:{direct:{id:"directness:direct",label:"Direct",description:"The upstream activity immediately precedes the downstream activity"},indirect:{id:"directness:indirect",label:"Indirect",description:"There are intervening activities between the upstream and downstream activities."}}},decisionTree:{"activityRelationship:constitutivelyUpstream":{edge:"RO:0012009"},"activityRelationship:providesInputFor":{edge:"RO:0002413"},"activityRelationship:removesInputFor":{edge:"RO:0012010"},"activityRelationship:undetermined":{"effectDirection:positive":{edge:"RO:0002304"},"effectDirection:negative":{edge:"RO:0002305"}},"activityRelationship:regulation":{"effectDirection:positive":{"directness:direct":{edge:"RO:0002629"},"directness:indirect":{edge:"RO:0002407"}},"effectDirection:negative":{"directness:direct":{edge:"RO:0002630"},"directness:indirect":{edge:"RO:0002409"}}},"activityMoleculeRelationship:product":{edge:"RO:0002234"},"moleculeActivityRelationship:regulates":{"effectDirection:positive":{edge:"RO:0012005"},"effectDirection:negative":{edge:"RO:0012006"}},"moleculeActivityRelationship:substrate":{edge:"RO:0002233"}}},Ce={placeholder:{id:null,label:null},enabledBy:{id:"RO:0002333",label:"enabled by"},hasInput:{id:"RO:0002233",label:"has input"},hasOutput:{id:"RO:0002234",label:"has output"},happensDuring:{id:"RO:0002092",label:"happens during"},locatedIn:{id:"RO:0001025",label:"located in"},occursIn:{id:"BFO:0000066",label:"occurs in"},partOf:{id:"BFO:0000050",label:"part of"},isActiveIn:{id:"RO:0002432",label:"is active in"},hasPart:{id:"BFO:0000051",label:"has part"},existenceOverlaps:{id:"RO:0002490",label:"existence overlaps"},existenceStartsEndsDuring:{id:"RO:0002491",label:"existence starts and ends during"},causallyUpstreamOf:{id:"RO:0002411",label:"causally upstream of"},causallyUpstreamOfOrWithin:{id:"RO:0002418",label:"causally upstream of or within"},causallyUpstreamOfPositiveEffect:{id:"RO:0002304",label:"causally upstream of, positive effect"},causallyUpstreamOfNegativeEffect:{id:"RO:0002305",label:"causally upstream of, negative effect"},causallyUpstreamOfOrWithinPositiveEffect:{id:"RO:0004047",label:"causally upstream of or within, positive effect"},causallyUpstreamOfOrWithinNegativeEffect:{id:"RO:0004046",label:"causally upstream of or within, negative effect"},constitutivelyUpstreamOf:{id:"RO:0012009",label:"constitutively upstream of"},contributesTo:{id:"RO:0002326",label:"contributes to"},directlyProvidesInput:{id:"RO:0002413",label:"directly provides input for"},regulates:{id:"RO:0002211",label:"regulates"},positivelyRegulates:{id:"RO:0002213",label:"positively regulates"},negativelyRegulates:{id:"RO:0002212",label:"negatively regulates"},directlyRegulates:{id:"RO:0002578",label:"directly regulates"},directlyPositivelyRegulates:{id:"RO:0002629",label:"directly positively regulates"},directlyNegativelyRegulates:{id:"RO:0002630",label:"directly negatively regulates"},indirectlyPositivelyRegulates:{id:"RO:0002407",label:"indirectly positively regulates"},indirectlyNegativelyRegulates:{id:"RO:0002409",label:"indirectly negatively regulates"},isSmallMoleculeRegulator:{id:"RO:0012004",label:"is small molecule regulator"},isSmallMoleculeActivator:{id:"RO:0012005",label:"is small molecule activator"},isSmallMoleculeInhibitor:{id:"RO:0012006",label:"is small molecule inhibitor"},removesInputFor:{id:"RO:0012010",label:"removes input for"}},nn={enables:{id:"RO:0002327",label:"enables"},isActiveIn:{id:"RO:0002432",label:"is active in"},involvedIn:{id:"RO:0002331",label:"involved in"},locatedIn:{id:"RO:0001025",label:"located in"},contributesTo:{id:"RO:0002326",label:"contributes to"},actsUpstreamOf:{id:"RO:0002263",label:"acts upstream of"},actsUpstreamOfOrWithin:{id:"RO:0002264",label:"acts upstream of or within"},actsUpstreamOfOrWithinPositive:{id:"RO:0004032",label:"acts upstream of or within, positive effect"},actsUpstreamOfOrWithinNegative:{id:"RO:0004033",label:"acts upstream of or within, negative effect"},actsUpstreamOfPositive:{id:"RO:0004034",label:"acts upstream of, positive effect"},actsUpstreamOfNegative:{id:"RO:0004035",label:"acts upstream of, negative effect"}},C_={[nn.enables.id]:{gpToTermPredicate:Ce.enabledBy.id,gpToTermReverse:!0,mfNodeRequired:!1},[nn.involvedIn.id]:{gpToTermPredicate:Ce.enabledBy.id,mfToTermPredicate:Ce.partOf.id,mfNodeRequired:!0},[nn.isActiveIn.id]:{gpToTermPredicate:Ce.isActiveIn.id,mfNodeRequired:!1,gpToTermReverse:!1},[nn.actsUpstreamOf.id]:{gpToTermPredicate:Ce.enabledBy.id,mfToTermPredicate:Ce.causallyUpstreamOf.id,mfNodeRequired:!0},[nn.actsUpstreamOfOrWithin.id]:{gpToTermPredicate:Ce.enabledBy.id,mfToTermPredicate:Ce.causallyUpstreamOfOrWithin.id,mfNodeRequired:!0},[nn.actsUpstreamOfOrWithinPositive.id]:{gpToTermPredicate:Ce.enabledBy.id,mfToTermPredicate:Ce.causallyUpstreamOfOrWithinPositiveEffect.id,mfNodeRequired:!0},[nn.actsUpstreamOfOrWithinNegative.id]:{gpToTermPredicate:Ce.enabledBy.id,mfToTermPredicate:Ce.causallyUpstreamOfOrWithinNegativeEffect.id,mfNodeRequired:!0},[nn.actsUpstreamOfPositive.id]:{gpToTermPredicate:Ce.enabledBy.id,mfToTermPredicate:Ce.causallyUpstreamOfPositiveEffect.id,mfNodeRequired:!0},[nn.actsUpstreamOfNegative.id]:{gpToTermPredicate:Ce.enabledBy.id,mfToTermPredicate:Ce.causallyUpstreamOfNegativeEffect.id,mfNodeRequired:!0},[nn.contributesTo.id]:{gpToTermPredicate:Ce.contributesTo.id,mfNodeRequired:!1,gpToTermReverse:!1},[nn.locatedIn.id]:{gpToTermPredicate:Ce.locatedIn.id,mfNodeRequired:!1,gpToTermReverse:!1},[Ce.partOf.id]:{gpToTermPredicate:Ce.partOf.id,mfNodeRequired:!1,gpToTermReverse:!1}},W={activitySortField:{options:{gp:{id:"gp",label:"Gene Product (default)"},date:{id:"date",label:"Annotation Date"}}},graphLayoutDetail:{options:{preview:{id:"preview",label:"Preview"},simple:{id:"activity",label:"Simple view"},detailed:{id:"detailed",label:"Default"}}},activityType:{options:{default:{name:"default",label:"Activity Unit"},ccOnly:{name:"ccOnly",label:"CC Annotation"},bpOnly:{name:"bpOnly",label:"BP Annotation"},molecule:{name:"molecule",label:"Chemical"},proteinComplex:{name:"proteinComplex",label:"Protein Complex"}}},evidenceDB:{options:{pmid:{name:"PMID",label:"PMID:"},doi:{name:"DOI",label:"DOI:"},goRef:{name:"GO_REF",label:"GO_REF:"}}},modelState:{options:{development:{name:"development",label:"Development"},production:{name:"production",label:"Production"},review:{name:"review",label:"Review"},closed:{name:"closed",label:"Closed"},delete:{name:"delete",label:"Delete"},internal_test:{name:"internal_test",label:"Internal Test"}}},findReplaceCategory:{options:{term:{name:"term",label:"Ontology Term"},gp:{name:"gp",label:"Gene Product"},reference:{name:"reference",label:"Reference"}}},decisionTree:Ti.decisionTree,directness:Ti.definitions.directness,effectDirection:Ti.definitions.effectDirection,activityRelationship:Ti.definitions.activityRelationship,activityMoleculeRelationship:Ti.definitions.activityMoleculeRelationship,moleculeActivityRelationship:Ti.definitions.moleculeActivityRelationship,displaySection:{gp:{id:"gp",label:"Gene Product"},fd:{id:"fd",label:"Macromolecular Complex"}},displayGroup:{gp:{id:"gp",shorthand:"GP",label:"Gene Product"},mc:{id:"mc",shorthand:"MC",label:"Macromolecular Complex"},mf:{id:"mf",shorthand:"MF",label:"Molecular Function"},bp:{id:"bp",shorthand:"BP",label:"Biological Process"},cc:{id:"cc",shorthand:"CC",label:"Location of Activity"}},edge:Ce,inverseEdge:nn,allEdges:[{id:"BFO:0000050",label:"part of",relevant:!0},{id:"BFO:0000051",label:"has part",relevant:!1},{id:"BFO:0000054",label:"realized in",relevant:!1},{id:"BFO:0000055",label:"realizes",relevant:!1},{id:"BFO:0000060",label:"obsolete preceded by",relevant:!1},{id:"BFO:0000062",label:"preceded_by",relevant:!1},{id:"BFO:0000063",label:"precedes",relevant:!1},{id:"BFO:0000066",label:"occurs in",relevant:!0},{id:"BFO:0000067",label:"contains process",relevant:!1},{id:"BFO:0000070",relevant:!1},{id:"BSPO:0000096",label:"anterior to",relevant:!1},{id:"BSPO:0000097",label:"distal to",relevant:!1},{id:"BSPO:0000098",label:"dorsal to",relevant:!1},{id:"BSPO:0000099",label:"posterior to",relevant:!1},{id:"BSPO:0000100",label:"proximal to",relevant:!1},{id:"BSPO:0000102",label:"ventral to",relevant:!1},{id:"BSPO:0000107",label:"deep to",relevant:!1},{id:"BSPO:0000108",label:"superficial to",relevant:!1},{id:"BSPO:0000120",label:"in left side of",relevant:!1},{id:"BSPO:0000121",label:"in right side of",relevant:!1},{id:"BSPO:0000122",label:"in posterior side of",relevant:!1},{id:"BSPO:0000123",label:"in anterior side of",relevant:!1},{id:"BSPO:0000124",label:"in proximal side of",relevant:!1},{id:"BSPO:0000125",relevant:!1},{id:"BSPO:0000126",label:"in lateral side of",relevant:!1},{id:"BSPO:0001100",label:"in superficial part of",relevant:!1},{id:"BSPO:0001101",label:"in deep part of",relevant:!1},{id:"BSPO:0001106",label:"proximalmost part of",relevant:!1},{id:"BSPO:0001107",label:"immediately deep to",relevant:!1},{id:"BSPO:0001108",label:"distalmost part of",relevant:!1},{id:"BSPO:0001113",label:"preaxialmost part of",relevant:!1},{id:"BSPO:0001115",label:"postaxialmost part of",relevant:!1},{id:"BSPO:0005001",label:"intersects midsagittal plane of",relevant:!1},{id:"BSPO:0015009",relevant:!1},{id:"BSPO:0015012",relevant:!1},{id:"BSPO:0015014",label:"immediately superficial to",relevant:!1},{id:"BSPO:0015101",label:"in dorsal side of",relevant:!1},{id:"BSPO:0015102",label:"in ventral side of",relevant:!1},{id:"BSPO:0015202",relevant:!1},{id:"BSPO:0020001",relevant:!1},{id:"CL:4030044",label:"has_not_completed",relevant:!1},{id:"CL:4030045",label:"lacks_part",relevant:!1},{id:"CL:4030046",label:"lacks_plasma_membrane_part",relevant:!1},{id:"ECO:9000000",label:"used_in",relevant:!1},{id:"ECO:9000001",label:"uses",relevant:!1},{id:"FBdv:00018001",label:"substage of",relevant:!1},{id:"obo:GOREL_0000040",label:"results_in",relevant:!1},{id:"obo:GOREL_0001006",label:"acts_on_population_of",relevant:!1},{id:"obo:GOREL_0001019",label:"results_in_division_of",relevant:!1},{id:"obo:GOREL_0002001",label:"obsolete results_in_assembly_of",relevant:!1},{id:"obo:GOREL_0002002",label:"obsolete results_in_disassembly_of",relevant:!1},{id:"obo:GOREL_0002003",label:"results in distribution of",relevant:!1},{id:"obo:GOREL_0002004",label:"results_in_fission_of",relevant:!1},{id:"obo:GOREL_0002005",label:"results_in_fusion_of",relevant:!1},{id:"obo:GOREL_0002006",label:"obsolete results_in_organization_of",relevant:!1},{id:"obo:GOREL_0002007",label:"obsolete results_in_remodeling_of",relevant:!1},{id:"obo:GOREL_0002008",label:"obsolete has intermediate",relevant:!1},{id:"obo:GOREL_0012006",label:"results_in_maintenance_of",relevant:!1},{id:"IAO:0000136",label:"is about",relevant:!1},{id:"obo:LEGOREL_0000000",label:"lego relation",relevant:!1},{id:"OBI:0000295",relevant:!1},{id:"RO:0000052",label:"characteristic of",relevant:!1},{id:"RO:0000053",label:"has characteristic",relevant:!1},{id:"RO:0000056",label:"participates in",relevant:!1},{id:"RO:0000057",label:"has_participant",relevant:!1},{id:"RO:0000058",label:"is concretized as",relevant:!1},{id:"RO:0000059",label:"concretizes",relevant:!1},{id:"RO:0000079",label:"function of",relevant:!1},{id:"RO:0000080",label:"quality of",relevant:!1},{id:"RO:0000081",label:"role of",relevant:!1},{id:"RO:0000085",label:"has function",relevant:!1},{id:"RO:0000086",label:"has quality",relevant:!1},{id:"RO:0000087",label:"has role",relevant:!1},{id:"RO:0000091",label:"has disposition",relevant:!1},{id:"RO:0000092",label:"disposition of",relevant:!1},{id:"RO:0000300",label:"obsolete in neural circuit with",relevant:!1},{id:"RO:0000301",label:"obsolete upstream in neural circuit with",relevant:!1},{id:"RO:0000302",label:"obsolete downstream in neural circuit with",relevant:!1},{id:"RO:0001000",label:"derives from",relevant:!1},{id:"RO:0001001",label:"derives into",relevant:!1},{id:"RO:0001015",label:"location of",relevant:!1},{id:"RO:0001018",label:"obsolete contained in",relevant:!1},{id:"RO:0001019",label:"obsolete contains",relevant:!1},{id:"RO:0001020",label:"is allergic trigger for",relevant:!1},{id:"RO:0001021",label:"is autoimmune trigger for",relevant:!1},{id:"RO:0001022",label:"has allergic trigger",relevant:!1},{id:"RO:0001023",label:"has autoimmune trigger",relevant:!1},{id:"RO:0001025",label:"located_in",relevant:!1},{id:"RO:0002000",label:"2D boundary of",relevant:!1},{id:"RO:0002001",label:"aligned with",relevant:!1},{id:"RO:0002002",label:"has 2D boundary",relevant:!1},{id:"RO:0002003",label:"electrically_synapsed_to",relevant:!1},{id:"RO:0002004",label:"tracheates",relevant:!1},{id:"RO:0002005",label:"innervated_by",relevant:!1},{id:"RO:0002006",label:"has synaptic terminal of",relevant:!1},{id:"RO:0002007",label:"bounding layer of",relevant:!1},{id:"RO:0002008",label:"coincident with",relevant:!1},{id:"RO:0002009",label:"cell expresses",relevant:!1},{id:"RO:0002010",label:"regulates in another organism",relevant:!1},{id:"RO:0002011",label:"regulates transport of",relevant:!1},{id:"RO:0002012",label:"occurrent part of",relevant:!1},{id:"RO:0002013",label:"has regulatory component activity",relevant:!1},{id:"RO:0002014",label:"has negative regulatory component activity",relevant:!1},{id:"RO:0002015",label:"has positive regulatory component activity",relevant:!1},{id:"RO:0002016",label:"has necessary component activity",relevant:!1},{id:"RO:0002017",label:"has component activity",relevant:!1},{id:"RO:0002018",label:"has component process",relevant:!1},{id:"RO:0002019",label:"has ligand",relevant:!1},{id:"RO:0002020",label:"transports",relevant:!1},{id:"RO:0002021",label:"occurs across",relevant:!1},{id:"RO:0002022",label:"directly regulated by",relevant:!1},{id:"RO:0002023",label:"directly negatively regulated by",relevant:!1},{id:"RO:0002024",label:"directly positively regulated by",relevant:!1},{id:"RO:0002025",label:"has effector activity",relevant:!1},{id:"RO:0002026",label:"in register with",relevant:!1},{id:"RO:0002081",label:"before or simultaneous with",relevant:!1},{id:"RO:0002082",label:"simultaneous with",relevant:!1},{id:"RO:0002083",label:"before",relevant:!1},{id:"RO:0002084",label:"during which ends",relevant:!1},{id:"RO:0002085",label:"encompasses",relevant:!1},{id:"RO:0002086",label:"ends after",relevant:!1},{id:"RO:0002087",label:"immediately preceded by",relevant:!1},{id:"RO:0002088",label:"during which starts",relevant:!1},{id:"RO:0002089",label:"starts before",relevant:!1},{id:"RO:0002090",label:"immediately precedes",relevant:!1},{id:"RO:0002091",label:"starts during",relevant:!1},{id:"RO:0002092",label:"happens during",relevant:!1},{id:"RO:0002093",label:"ends during",relevant:!1},{id:"RO:0002100",label:"has soma location",relevant:!1},{id:"RO:0002101",label:"fasciculates with",relevant:!1},{id:"RO:0002102",label:"axon synapses in",relevant:!1},{id:"RO:0002103",label:"synapsed by",relevant:!1},{id:"RO:0002104",label:"has plasma membrane part",relevant:!1},{id:"RO:0002105",label:"synapsed_via_type_Ib_bouton_to",relevant:!1},{id:"RO:0002106",label:"synapsed_via_type_Is_bouton_to",relevant:!1},{id:"RO:0002107",label:"synapsed_via_type_II_bouton_to",relevant:!1},{id:"RO:0002108",label:"synapsed_by_via_type_II_bouton",relevant:!1},{id:"RO:0002109",label:"synapsed_by_via_type_Ib_bouton",relevant:!1},{id:"RO:0002110",label:"has postsynaptic terminal in",relevant:!1},{id:"RO:0002111",label:"releases neurotransmitter",relevant:!1},{id:"RO:0002112",label:"synapsed_by_via_type_Is_bouton",relevant:!1},{id:"RO:0002113",label:"has presynaptic terminal in",relevant:!1},{id:"RO:0002114",label:"synapsed_via_type_III_bouton_to",relevant:!1},{id:"RO:0002115",label:"synapsed_by_via_type_III_bouton",relevant:!1},{id:"RO:0002120",label:"synapsed to",relevant:!1},{id:"RO:0002121",label:"dendrite synapsed in",relevant:!1},{id:"RO:0002130",label:"has synaptic terminal in",relevant:!1},{id:"RO:0002131",label:"overlaps",relevant:!1},{id:"RO:0002132",label:"has fasciculating neuron projection",relevant:!1},{id:"RO:0002134",label:"innervates",relevant:!1},{id:"RO:0002150",label:"continuous with",relevant:!1},{id:"RO:0002151",label:"partially overlaps",relevant:!1},{id:"RO:0002156",label:"derived by descent from",relevant:!1},{id:"RO:0002157",label:"has derived by descendant",relevant:!1},{id:"RO:0002158",label:"shares ancestor with",relevant:!1},{id:"RO:0002159",label:"serially homologous to",relevant:!1},{id:"RO:0002160",label:"only in taxon",relevant:!1},{id:"RO:0002162",label:"in taxon",relevant:!1},{id:"RO:0002163",label:"spatially disjoint from",relevant:!1},{id:"RO:0002170",label:"connected to",relevant:!1},{id:"RO:0002176",label:"connects",relevant:!1},{id:"RO:0002177",label:"attached to part of",relevant:!1},{id:"RO:0002178",label:"supplies",relevant:!1},{id:"RO:0002179",label:"drains",relevant:!1},{id:"RO:0002180",label:"has component",relevant:!1},{id:"RO:0002200",label:"has phenotype",relevant:!1},{id:"RO:0002201",label:"phenotype of",relevant:!1},{id:"RO:0002202",label:"develops from",relevant:!1},{id:"RO:0002203",label:"develops into",relevant:!1},{id:"RO:0002204",label:"gene product of",relevant:!1},{id:"RO:0002205",label:"has gene product",relevant:!1},{id:"RO:0002206",label:"expressed in",relevant:!1},{id:"RO:0002207",label:"directly develops from",relevant:!1},{id:"RO:0002208",label:"parasitoid of",relevant:!1},{id:"RO:0002209",label:"has parasitoid",relevant:!1},{id:"RO:0002210",label:"directly develops into",relevant:!1},{id:"RO:0002211",label:"regulates",relevant:!1},{id:"RO:0002212",label:"negatively regulates",relevant:!1},{id:"RO:0002213",label:"positively regulates",relevant:!1},{id:"RO:0002214",label:"has prototype",relevant:!1},{id:"RO:0002215",label:"capable of",relevant:!1},{id:"RO:0002216",label:"capable of part of",relevant:!1},{id:"RO:0002217",label:"obsolete actively participates in",relevant:!1},{id:"RO:0002218",label:"obsolete has active participant",relevant:!1},{id:"RO:0002219",label:"surrounded by",relevant:!1},{id:"RO:0002220",label:"adjacent_to",relevant:!1},{id:"RO:0002221",label:"surrounds",relevant:!1},{id:"RO:0002222",label:"temporally related to",relevant:!1},{id:"RO:0002223",label:"starts",relevant:!1},{id:"RO:0002224",label:"starts with",relevant:!0},{id:"RO:0002225",label:"develops from part of",relevant:!1},{id:"RO:0002226",label:"develops in",relevant:!1},{id:"RO:0002227",label:"obligate parasite of",relevant:!1},{id:"RO:0002228",label:"facultative parasite of",relevant:!1},{id:"RO:0002229",label:"ends",relevant:!1},{id:"RO:0002230",label:"ends with",relevant:!0},{id:"RO:0002231",label:"has start location",relevant:!1},{id:"RO:0002232",label:"has end location",relevant:!1},{id:"RO:0002233",label:"has input",relevant:!0},{id:"RO:0002234",label:"has output",relevant:!0},{id:"RO:0002235",label:"stem parasite of",relevant:!1},{id:"RO:0002236",label:"root parasite of",relevant:!1},{id:"RO:0002237",label:"hemiparasite of",relevant:!1},{id:"RO:0002238",label:"has component participant",relevant:!1},{id:"RO:0002240",label:"has exposure receptor",relevant:!1},{id:"RO:0002241",label:"has exposure stressor",relevant:!1},{id:"RO:0002242",label:"has exposure route",relevant:!1},{id:"RO:0002243",label:"has exposure transport path",relevant:!1},{id:"RO:0002244",label:"related via exposure to",relevant:!1},{id:"RO:0002245",label:"over-expressed in",relevant:!1},{id:"RO:0002246",label:"under-expressed in",relevant:!1},{id:"RO:0002248",label:"has active ingredient",relevant:!1},{id:"RO:0002249",label:"active ingredient in",relevant:!1},{id:"RO:0002252",label:"connecting branch of",relevant:!1},{id:"RO:0002253",label:"has connecting branch",relevant:!1},{id:"RO:0002254",label:"has developmental contribution from",relevant:!1},{id:"RO:0002255",label:"developmentally contributes to",relevant:!1},{id:"RO:0002256",label:"developmentally induced by",relevant:!1},{id:"RO:0002257",label:"developmentally induces",relevant:!1},{id:"RO:0002258",label:"developmentally preceded by",relevant:!1},{id:"RO:0002260",label:"has biological role",relevant:!1},{id:"RO:0002261",label:"has application role",relevant:!1},{id:"RO:0002262",label:"has chemical role",relevant:!1},{id:"RO:0002263",label:"acts upstream of",relevant:!1},{id:"RO:0002264",label:"acts upstream of or within",relevant:!1},{id:"RO:0002285",label:"developmentally replaces",relevant:!1},{id:"RO:0002286",label:"developmentally succeeded by",relevant:!1},{id:"RO:0002287",label:"part of developmental precursor of",relevant:!1},{id:"RO:0002291",label:"ubiquitously expressed in",relevant:!1},{id:"RO:0002292",label:"expresses",relevant:!1},{id:"RO:0002293",label:"ubiquitously expresses",relevant:!1},{id:"RO:0002295",label:"results in developmental progression of",relevant:!1},{id:"RO:0002296",label:"results in development of",relevant:!1},{id:"RO:0002297",label:"results in formation of anatomical entity",relevant:!1},{id:"RO:0002298",label:"results in morphogenesis of",relevant:!1},{id:"RO:0002299",label:"results in maturation of",relevant:!1},{id:"RO:0002300",label:"results in disappearance of",relevant:!1},{id:"RO:0002301",label:"results in developmental regression of",relevant:!1},{id:"RO:0002302",label:"is treated by substance",relevant:!1},{id:"RO:0002303",label:"has habitat",relevant:!1},{id:"RO:0002304",label:"causally upstream of, positive effect",relevant:!1},{id:"RO:0002305",label:"causally upstream of, negative effect",relevant:!1},{id:"RO:0002309",label:"has exposure stimulus",relevant:!1},{id:"RO:0002312",label:"evolutionary variant of",relevant:!1},{id:"RO:0002313",label:"transports or maintains localization of",relevant:!1},{id:"RO:0002314",label:"characteristic of part of",relevant:!1},{id:"RO:0002315",label:"results in acquisition of features of",relevant:!1},{id:"RO:0002320",label:"evolutionarily related to",relevant:!1},{id:"RO:0002321",label:"ecologically related to",relevant:!1},{id:"RO:0002322",label:"confers advantage in",relevant:!1},{id:"RO:0002323",label:"mereotopologically related to",relevant:!1},{id:"RO:0002324",label:"developmentally related to",relevant:!1},{id:"RO:0002325",label:"colocalizes with",relevant:!1},{id:"RO:0002326",label:"contributes to",relevant:!1},{id:"RO:0002327",label:"enables",relevant:!1},{id:"RO:0002328",label:"functionally related to",relevant:!1},{id:"RO:0002329",label:"part of structure that is capable of",relevant:!1},{id:"RO:0002330",label:"genomically related to",relevant:!1},{id:"RO:0002331",label:"involved in",relevant:!1},{id:"RO:0002332",label:"regulates levels of",relevant:!1},{id:"RO:0002333",label:"enabled by",relevant:!0},{id:"RO:0002334",label:"regulated by",relevant:!1},{id:"RO:0002335",label:"negatively regulated by",relevant:!1},{id:"RO:0002336",label:"positively regulated by",relevant:!1},{id:"RO:0002337",label:"related via localization to",relevant:!1},{id:"RO:0002338",label:"has target start location",relevant:!1},{id:"RO:0002339",label:"has target end location",relevant:!1},{id:"RO:0002340",label:"imports",relevant:!1},{id:"RO:0002341",label:"results in transport along",relevant:!1},{id:"RO:0002342",label:"results in transport across",relevant:!1},{id:"RO:0002343",label:"results in growth of",relevant:!1},{id:"RO:0002344",label:"results in transport to from or in",relevant:!1},{id:"RO:0002345",label:"exports",relevant:!1},{id:"RO:0002348",label:"results in commitment to",relevant:!1},{id:"RO:0002349",label:"results in determination of",relevant:!1},{id:"RO:0002350",label:"member of",relevant:!1},{id:"RO:0002351",label:"has member",relevant:!1},{id:"RO:0002352",label:"input of",relevant:!1},{id:"RO:0002353",label:"output of",relevant:!1},{id:"RO:0002354",label:"formed as result of",relevant:!1},{id:"RO:0002355",label:"results in structural organization of",relevant:!1},{id:"RO:0002356",label:"results in specification of",relevant:!1},{id:"RO:0002357",label:"results in developmental induction of",relevant:!1},{id:"RO:0002360",label:"has dendrite location",relevant:!1},{id:"RO:0002371",label:"attached to",relevant:!1},{id:"RO:0002372",label:"has muscle origin",relevant:!1},{id:"RO:0002373",label:"has muscle insertion",relevant:!1},{id:"RO:0002374",label:"derived from ancestral fusion of",relevant:!1},{id:"RO:0002375",label:"in branching relationship with",relevant:!1},{id:"RO:0002376",label:"tributary of",relevant:!1},{id:"RO:0002377",label:"distributary of",relevant:!1},{id:"RO:0002378",label:"anabranch of",relevant:!1},{id:"RO:0002379",label:"spatially coextensive with",relevant:!1},{id:"RO:0002380",label:"branching part of",relevant:!1},{id:"RO:0002381",label:"main stem of",relevant:!1},{id:"RO:0002382",label:"proper distributary of",relevant:!1},{id:"RO:0002383",label:"proper tributary of",relevant:!1},{id:"RO:0002384",label:"has developmental potential involving",relevant:!1},{id:"RO:0002385",label:"has potential to developmentally contribute to",relevant:!1},{id:"RO:0002386",label:"has potential to developmentally induce",relevant:!1},{id:"RO:0002387",label:"has potential to develop into",relevant:!1},{id:"RO:0002388",label:"has potential to directly develop into",relevant:!1},{id:"RO:0002400",label:"has direct input",relevant:!1},{id:"RO:0002401",label:"obsolete has indirect input",relevant:!1},{id:"RO:0002402",label:"obsolete has direct output",relevant:!1},{id:"RO:0002403",label:"obsolete has indirect output",relevant:!1},{id:"RO:0002404",label:"causally downstream of",relevant:!1},{id:"RO:0002405",label:"immediately causally downstream of",relevant:!1},{id:"RO:0002406",label:"obsolete directly activates",relevant:!0},{id:"RO:0002407",label:"indirectly positively regulates",relevant:!1},{id:"RO:0002408",label:"obsolete directly inhibits",relevant:!0},{id:"RO:0002409",label:"indirectly negatively regulates",relevant:!1},{id:"RO:0002410",label:"causally related to",relevant:!1},{id:"RO:0002411",label:"causally upstream of",relevant:!1},{id:"RO:0002412",label:"immediately causally upstream of",relevant:!1},{id:"RO:0002413",label:"provides input for",relevant:!0},{id:"RO:0002414",label:"transitively provides input for",relevant:!1},{id:"RO:0002418",label:"causally upstream of or within",relevant:!1},{id:"RO:0002424",label:"differs in",relevant:!1},{id:"RO:0002425",label:"differs in attribute of",relevant:!1},{id:"RO:0002426",label:"differs in attribute",relevant:!1},{id:"RO:0002427",label:"causally downstream of or within",relevant:!1},{id:"RO:0002428",label:"involved in regulation of",relevant:!1},{id:"RO:0002429",label:"involved in positive regulation of",relevant:!1},{id:"RO:0002430",label:"involved in negative regulation of",relevant:!1},{id:"RO:0002431",label:"involved in or involved in regulation of",relevant:!1},{id:"RO:0002432",label:"is active in",relevant:!1},{id:"RO:0002433",label:"contributes to morphology of",relevant:!1},{id:"RO:0002434",label:"interacts with",relevant:!1},{id:"RO:0002435",label:"genetically interacts with",relevant:!1},{id:"RO:0002436",label:"molecularly interacts with",relevant:!1},{id:"RO:0002437",label:"biotically interacts with",relevant:!1},{id:"RO:0002438",label:"trophically interacts with",relevant:!1},{id:"RO:0002439",label:"preys on",relevant:!1},{id:"RO:0002440",label:"symbiotically interacts with",relevant:!1},{id:"RO:0002441",label:"commensually interacts with",relevant:!1},{id:"RO:0002442",label:"mutualistically interacts with",relevant:!1},{id:"RO:0002443",label:"interacts with via parasite-host interaction",relevant:!1},{id:"RO:0002444",label:"parasite of",relevant:!1},{id:"RO:0002445",label:"parasitized by",relevant:!1},{id:"RO:0002446",label:"participates in a abiotic-biotic interaction with",relevant:!1},{id:"RO:0002447",label:"phosphorylates",relevant:!1},{id:"RO:0002448",label:"directly regulates activity of",relevant:!1},{id:"RO:0002449",label:"directly negatively regulates activity of",relevant:!1},{id:"RO:0002450",label:"directly positively regulates activity of",relevant:!1},{id:"RO:0002451",label:"transmitted by",relevant:!1},{id:"RO:0002452",label:"has symptom",relevant:!1},{id:"RO:0002453",label:"host of",relevant:!1},{id:"RO:0002454",label:"has host",relevant:!1},{id:"RO:0002455",label:"pollinates",relevant:!1},{id:"RO:0002456",label:"pollinated by",relevant:!1},{id:"RO:0002457",label:"acquires nutrients from",relevant:!1},{id:"RO:0002458",label:"preyed upon by",relevant:!1},{id:"RO:0002459",label:"is vector for",relevant:!1},{id:"RO:0002460",label:"has vector",relevant:!1},{id:"RO:0002461",label:"partner in",relevant:!1},{id:"RO:0002462",label:"subject participant in",relevant:!1},{id:"RO:0002463",label:"target participant in",relevant:!1},{id:"RO:0002464",label:"helper property (not for use in curation)",relevant:!1},{id:"RO:0002465",label:"is symbiosis",relevant:!1},{id:"RO:0002466",label:"is commensalism",relevant:!1},{id:"RO:0002467",label:"is mutualism",relevant:!1},{id:"RO:0002468",label:"is parasitism",relevant:!1},{id:"RO:0002469",label:"provides nutrients for",relevant:!1},{id:"RO:0002470",label:"eats",relevant:!1},{id:"RO:0002471",label:"is eaten by",relevant:!1},{id:"RO:0002472",label:"is evidence for",relevant:!1},{id:"RO:0002473",label:"composed primarily of",relevant:!1},{id:"RO:0002476",label:"child nucleus of",relevant:!1},{id:"RO:0002477",label:"child nucleus of in hermaphrodite",relevant:!1},{id:"RO:0002478",label:"child nucleus of in male",relevant:!1},{id:"RO:0002479",label:"has part that occurs in",relevant:!1},{id:"RO:0002480",label:"ubiquitinates",relevant:!1},{id:"RO:0002481",label:"is kinase activity",relevant:!1},{id:"RO:0002482",label:"is ubiquitination",relevant:!1},{id:"RO:0002485",label:"receives input from",relevant:!1},{id:"RO:0002486",label:"sends output to",relevant:!1},{id:"RO:0002487",label:"relation between physical entity and a process or stage",relevant:!1},{id:"RO:0002488",label:"existence starts during",relevant:!1},{id:"RO:0002489",label:"existence starts with",relevant:!1},{id:"RO:0002490",label:"existence overlaps",relevant:!1},{id:"RO:0002491",label:"existence starts and ends during",relevant:!1},{id:"RO:0002492",label:"existence ends during",relevant:!1},{id:"RO:0002493",label:"existence ends with",relevant:!1},{id:"RO:0002494",label:"transformation of",relevant:!1},{id:"RO:0002495",label:"immediate transformation of",relevant:!1},{id:"RO:0002496",label:"existence starts during or after",relevant:!1},{id:"RO:0002497",label:"existence ends during or before",relevant:!1},{id:"RO:0002500",label:"causal agent in process",relevant:!1},{id:"RO:0002501",label:"causal relation between processes",relevant:!1},{id:"RO:0002502",label:"depends on",relevant:!1},{id:"RO:0002503",label:"towards",relevant:!1},{id:"RO:0002505",label:"has intermediate",relevant:!1},{id:"RO:0002506",label:"causal relation between entities",relevant:!1},{id:"RO:0002507",label:"determined by",relevant:!1},{id:"RO:0002508",label:"determines",relevant:!1},{id:"RO:0002509",label:"determined by part of",relevant:!1},{id:"RO:0002510",label:"transcribed from",relevant:!1},{id:"RO:0002511",label:"transcribed to",relevant:!1},{id:"RO:0002512",label:"ribosomal translation of",relevant:!1},{id:"RO:0002513",label:"ribosomally translates to",relevant:!1},{id:"RO:0002514",label:"sequentially related to",relevant:!1},{id:"RO:0002515",label:"sequentially adjacent to",relevant:!1},{id:"RO:0002516",label:"has start sequence",relevant:!1},{id:"RO:0002517",label:"is start sequence of",relevant:!1},{id:"RO:0002518",label:"has end sequence",relevant:!1},{id:"RO:0002519",label:"is end sequence of",relevant:!1},{id:"RO:0002520",label:"is consecutive sequence of",relevant:!1},{id:"RO:0002521",label:"is sequentially aligned with",relevant:!1},{id:"RO:0002522",label:"bounds sequence of",relevant:!1},{id:"RO:0002523",label:"is bound by sequence of",relevant:!1},{id:"RO:0002524",label:"has subsequence",relevant:!1},{id:"RO:0002525",label:"is subsequence of",relevant:!1},{id:"RO:0002526",label:"overlaps sequence of",relevant:!1},{id:"RO:0002527",label:"does not overlap sequence of",relevant:!1},{id:"RO:0002528",label:"is upstream of sequence of",relevant:!1},{id:"RO:0002529",label:"is downstream of sequence of",relevant:!1},{id:"RO:0002530",label:"is immediately downstream of sequence of",relevant:!1},{id:"RO:0002531",label:"is immediately upstream of sequence of",relevant:!1},{id:"RO:0002551",label:"has skeleton",relevant:!1},{id:"RO:0002552",label:"results in ending of",relevant:!1},{id:"RO:0002553",label:"hyperparasite of",relevant:!1},{id:"RO:0002554",label:"hyperparasitized by",relevant:!1},{id:"RO:0002555",label:"allelopath of",relevant:!1},{id:"RO:0002556",label:"pathogen of",relevant:!1},{id:"RO:0002557",label:"has pathogen",relevant:!1},{id:"RO:0002558",label:"has evidence",relevant:!1},{id:"RO:0002559",label:"causally influenced by",relevant:!1},{id:"RO:0002563",label:"interaction relation helper property",relevant:!1},{id:"RO:0002564",label:"molecular interaction relation helper property",relevant:!1},{id:"RO:0002565",label:"results in movement of",relevant:!1},{id:"RO:0002566",label:"causally influences",relevant:!1},{id:"RO:0002567",label:"biomechanically related to",relevant:!1},{id:"RO:0002568",label:"has muscle antagonist",relevant:!1},{id:"RO:0002569",label:"has branching part",relevant:!1},{id:"RO:0002570",label:"conduit for",relevant:!1},{id:"RO:0002571",label:"lumen of",relevant:!1},{id:"RO:0002572",label:"luminal space of",relevant:!1},{id:"RO:0002573",label:"has modifier",relevant:!1},{id:"RO:0002574",label:"participates in a biotic-biotic interaction with",relevant:!1},{id:"RO:0002576",label:"skeleton of",relevant:!1},{id:"RO:0002578",label:"directly regulates",relevant:!1},{id:"RO:0002583",label:"existence starts at end of",relevant:!1},{id:"RO:0002584",label:"has part structure that is capable of",relevant:!1},{id:"RO:0002585",label:"results in closure of",relevant:!1},{id:"RO:0002586",label:"results in breakdown of",relevant:!1},{id:"RO:0002587",label:"results in synthesis of",relevant:!1},{id:"RO:0002588",label:"results in assembly of",relevant:!1},{id:"RO:0002589",label:"results in catabolism of",relevant:!1},{id:"RO:0002590",label:"results in disassembly of",relevant:!1},{id:"RO:0002591",label:"results in remodeling of",relevant:!1},{id:"RO:0002592",label:"results in organization of",relevant:!1},{id:"RO:0002593",label:"existence ends at start of",relevant:!1},{id:"RO:0002595",label:"causal relation between material entity and a process",relevant:!1},{id:"RO:0002596",label:"capable of regulating",relevant:!1},{id:"RO:0002597",label:"capable of negatively regulating",relevant:!1},{id:"RO:0002598",label:"capable of positively regulating",relevant:!1},{id:"RO:0002599",label:"capable of inhibiting or preventing pathological process",relevant:!1},{id:"RO:0002600",label:"capable of upregulating or causing pathological process",relevant:!1},{id:"RO:0002606",label:"is substance that treats",relevant:!1},{id:"RO:0002607",label:"is marker for",relevant:!1},{id:"RO:0002608",label:"process has causal agent",relevant:!1},{id:"RO:0002609",label:"obsolete related via dependence to",relevant:!1},{id:"RO:0002610",label:"correlated with",relevant:!1},{id:"RO:0002614",label:"is evidence with support from",relevant:!0},{id:"RO:0002615",label:"has model",relevant:!1},{id:"RO:0002616",label:"related via evidence or inference to",relevant:!1},{id:"RO:0002618",label:"visits",relevant:!1},{id:"RO:0002619",label:"visited by",relevant:!1},{id:"RO:0002622",label:"visits flowers of",relevant:!1},{id:"RO:0002623",label:"has flowers visited by",relevant:!1},{id:"RO:0002624",label:"lays eggs in",relevant:!1},{id:"RO:0002625",label:"has eggs laid in by",relevant:!1},{id:"RO:0002626",label:"kills",relevant:!1},{id:"RO:0002627",label:"is killed by",relevant:!1},{id:"RO:0002629",label:"directly positively regulates",relevant:!1},{id:"RO:0002630",label:"directly negatively regulates",relevant:!1},{id:"RO:0002632",label:"ectoparasite of",relevant:!1},{id:"RO:0002633",label:"has ectoparasite",relevant:!1},{id:"RO:0002634",label:"endoparasite of",relevant:!1},{id:"RO:0002635",label:"has endoparasite",relevant:!1},{id:"RO:0002636",label:"mesoparasite of",relevant:!1},{id:"RO:0002637",label:"has mesoparasite",relevant:!1},{id:"RO:0002638",label:"intercellular endoparasite of",relevant:!1},{id:"RO:0002639",label:"has intercellular endoparasite",relevant:!1},{id:"RO:0002640",label:"intracellular endoparasite of",relevant:!1},{id:"RO:0002641",label:"has intracellular endoparasite",relevant:!1},{id:"RO:0002801",label:"co-roosts with",relevant:!1},{id:"RO:0002802",label:"reservoir host of",relevant:!1},{id:"RO:0002803",label:"has reservoir host",relevant:!1},{id:"RO:0003000",label:"produces",relevant:!1},{id:"RO:0003001",label:"produced by",relevant:!1},{id:"RO:0003002",label:"represses expression of",relevant:!1},{id:"RO:0003003",label:"increases expression of",relevant:!1},{id:"RO:0003301",label:"has role in modeling",relevant:!1},{id:"RO:0003302",label:"causes or contributes to condition",relevant:!1},{id:"RO:0003303",label:"causes condition",relevant:!1},{id:"RO:0003304",label:"contributes to condition",relevant:!1},{id:"RO:0003305",label:"contributes to severity of condition",relevant:!1},{id:"RO:0003306",label:"contributes to frequency of condition",relevant:!1},{id:"RO:0003307",label:"ameliorates condition",relevant:!1},{id:"RO:0003308",label:"correlated with condition",relevant:!1},{id:"RO:0003309",label:"exacerbates condition",relevant:!1},{id:"RO:0003310",label:"condition ameliorated by",relevant:!1},{id:"RO:0003311",label:"condition exacerbated by",relevant:!1},{id:"RO:0004000",label:"condition has genetic basis in",relevant:!1},{id:"RO:0004001",label:"has material basis in gain of function germline mutation in",relevant:!1},{id:"RO:0004002",label:"has material basis in loss of function germline mutation in",relevant:!1},{id:"RO:0004003",label:"has material basis in germline mutation in",relevant:!1},{id:"RO:0004004",label:"has material basis in somatic mutation in",relevant:!1},{id:"RO:0004005",label:"has major susceptibility factor",relevant:!1},{id:"RO:0004006",label:"has partial material basis in germline mutation in",relevant:!1},{id:"RO:0004007",label:"has primary input or output",relevant:!1},{id:"RO:0004008",label:"has primary output",relevant:!1},{id:"RO:0004009",label:"has primary input",relevant:!1},{id:"RO:0004010",label:"is genetic basis for condition",relevant:!1},{id:"RO:0004011",label:"is causal gain of function germline mutation of in",relevant:!1},{id:"RO:0004012",label:"is causal loss of function germline mutation of in",relevant:!1},{id:"RO:0004013",label:"is causal germline mutation in",relevant:!1},{id:"RO:0004014",label:"is causal somatic mutation in",relevant:!1},{id:"RO:0004015",label:"is causal susceptibility factor for",relevant:!1},{id:"RO:0004016",label:"is causal germline mutation partially giving rise to",relevant:!1},{id:"RO:0004017",label:"realizable has basis in",relevant:!1},{id:"RO:0004018",label:"is basis for realizable",relevant:!1},{id:"RO:0004019",label:"disease has basis in",relevant:!1},{id:"RO:0004020",label:"disease has basis in dysfunction of",relevant:!1},{id:"RO:0004021",label:"disease has basis in disruption of",relevant:!1},{id:"RO:0004022",label:"disease has basis in feature",relevant:!1},{id:"RO:0004023",label:"causal relationship with disease as subject",relevant:!1},{id:"RO:0004024",label:"disease causes disruption of",relevant:!1},{id:"RO:0004025",label:"disease causes dysfunction of",relevant:!1},{id:"RO:0004026",label:"disease has location",relevant:!1},{id:"RO:0004027",label:"disease has inflammation site",relevant:!1},{id:"RO:0004028",label:"realized in response to stimulus",relevant:!1},{id:"RO:0004029",label:"disease has feature",relevant:!1},{id:"RO:0004030",label:"disease arises from alteration in structure",relevant:!1},{id:"RO:0004031",label:"enables subfunction",relevant:!1},{id:"RO:0004032",label:"acts upstream of or within, positive effect",relevant:!1},{id:"RO:0004033",label:"acts upstream of or within, negative effect",relevant:!1},{id:"RO:0004034",label:"acts upstream of, positive effect",relevant:!1},{id:"RO:0004035",label:"acts upstream of, negative effect",relevant:!1},{id:"RO:0004046",label:"causally upstream of or within, negative effect",relevant:!1},{id:"RO:0004047",label:"causally upstream of or within, positive effect",relevant:!1},{id:"RO:0004096",label:"DEPRECATED inheres in",relevant:!1},{id:"RO:0004097",label:"DEPRECATED bearer of",relevant:!1},{id:"RO:0007000",label:"has driver",relevant:!1},{id:"RO:0007001",label:"has disease driver",relevant:!1},{id:"RO:0008501",label:"epiphyte of",relevant:!1},{id:"RO:0008502",label:"has epiphyte",relevant:!1},{id:"RO:0008503",label:"kleptoparasite of",relevant:!1},{id:"RO:0008504",label:"kleptoparasitized by",relevant:!1},{id:"RO:0008505",label:"creates habitat for",relevant:!1},{id:"RO:0008506",label:"ecologically co-occurs with",relevant:!1},{id:"RO:0008507",label:"lays eggs on",relevant:!1},{id:"RO:0008508",label:"has eggs laid on by",relevant:!1},{id:"RO:0008509",label:"has roost",relevant:!1},{id:"RO:0009001",label:"has substance added",relevant:!1},{id:"RO:0009002",label:"has substance removed",relevant:!1},{id:"RO:0009003",label:"immersed in",relevant:!1},{id:"RO:0009004",label:"has consumer",relevant:!1},{id:"RO:0009005",label:"has primary substance added",relevant:!1},{id:"RO:0009006",label:"assay measures characteristic",relevant:!1},{id:"RO:0009007",label:"characteristic measured by assay",relevant:!1},{id:"RO:0009501",label:"realized in response to",relevant:!1},{id:"RO:0010001",label:"generically depends on",relevant:!1},{id:"RO:0010002",label:"is carrier of",relevant:!1},{id:"RO:0011002",label:"regulates activity of",relevant:!1},{id:"RO:0011003",label:"regulates quantity of",relevant:!1},{id:"RO:0011004",label:"indirectly regulates activity of",relevant:!1},{id:"RO:0011007",label:"decreases by repression quantity of",relevant:!1},{id:"RO:0011008",label:"increases by expression quantity of",relevant:!1},{id:"RO:0011009",label:"directly positively regulates quantity of",relevant:!1},{id:"RO:0011010",label:"directly negatively regulates quantity of",relevant:!1},{id:"RO:0011013",label:"indirectly positively regulates activity of",relevant:!1},{id:"RO:0011014",label:"destabilizes quantity of",relevant:!1},{id:"RO:0011015",label:"stabilizes quantity of",relevant:!1},{id:"RO:0011016",label:"indirectly negatively regulates activity of",relevant:!1},{id:"RO:0011021",label:"directly regulates quantity of",relevant:!1},{id:"RO:0011022",label:"indirectly regulates quantity of",relevant:!1},{id:"RO:0011023",label:"indirectly negatively regulates quantity of",relevant:!1},{id:"RO:0011024",label:"indirectly positively regulates quantity of",relevant:!1},{id:"RO:0012000",label:"has small molecule regulator",relevant:!1},{id:"RO:0012001",label:"has small molecule activator",relevant:!1},{id:"RO:0012002",label:"has small molecule inhibitor",relevant:!1},{id:"RO:0012003",label:"acts on population of",relevant:!1},{id:"RO:0012004",label:"is small molecule regulator of",relevant:!1},{id:"RO:0012005",label:"is small molecule activator of",relevant:!1},{id:"RO:0012006",label:"is small molecule inhibitor of",relevant:!1},{id:"RO:0012007",label:"results in adhesion of",relevant:!1},{id:"RO:0012008",label:"results in fusion of",relevant:!1},{id:"RO:0012009",label:"constitutively upstream of",relevant:!1},{id:"RO:0012010",label:"removes input for",relevant:!1},{id:"RO:0012011",label:"indirectly causally upstream of",relevant:!1},{id:"RO:0012012",label:"indirectly regulates",relevant:!1},{id:"RO:0012013",label:"positively regulates in another organism",relevant:!1},{id:"RO:0012014",label:"negatively regulates in another organism",relevant:!1},{id:"RO:0013001",label:"has synaptic IO in region",relevant:!1},{id:"RO:0013002",label:"receives synaptic input in region",relevant:!1},{id:"RO:0013003",label:"sends synaptic output to region",relevant:!1},{id:"RO:0013004",label:"has synaptic IO throughout",relevant:!1},{id:"RO:0013005",label:"receives synaptic input throughout",relevant:!1},{id:"RO:0013006",label:"sends synaptic output throughout",relevant:!1},{id:"RO:0013007",label:"has sensory dendrite in",relevant:!1},{id:"RO:0013008",label:"receives synaptic input from neuron",relevant:!1},{id:"RO:0013009",label:"sends synaptic output to cell",relevant:!1},{id:"RO:0014001",label:"disease has infectious agent",relevant:!1},{id:"RO:0015001",label:"has exemplar data",relevant:!1},{id:"RO:0015002",label:"exemplar data of",relevant:!1},{id:"RO:0015003",label:"subcluster of",relevant:!1},{id:"RO:0015004",label:"has characterizing marker set",relevant:!1},{id:"RO:0015006",label:"different in magnitude relative to",relevant:!1},{id:"RO:0015007",label:"increased in magnitude relative to",relevant:!1},{id:"RO:0015008",label:"decreased in magnitude relative to",relevant:!1},{id:"RO:0015009",label:"similar in magnitude relative to",relevant:!1},{id:"RO:0015010",label:"has relative magnitude",relevant:!1},{id:"RO:0015011",label:"has cross section",relevant:!1},{id:"RO:0015012",label:"reciprocal of",relevant:!1},{id:"RO:0015015",label:"has high plasma membrane amount",relevant:!1},{id:"RO:0015016",label:"has low plasma membrane amount",relevant:!1},{id:"RO:0016001",label:"has phenotype or disease",relevant:!1},{id:"RO:0016002",label:"has disease",relevant:!1},{id:"RO:0016004",label:"has exposure medium",relevant:!1},{id:"RO:0017001",label:"device utilizes material",relevant:!1},{id:"RO:0017003",label:"positively correlated with",relevant:!1},{id:"RO:0017004",label:"negatively correlated with",relevant:!1},{id:"RO:0017005",label:"contains measured amount",relevant:!1},{id:"RO:0017006",label:"has maximum capacity",relevant:!1},{id:"RO:0017008",label:"owns",relevant:!1},{id:"RO:0017009",label:"is owned by",relevant:!1},{id:"RO:0018001",label:"is myristoyltransferase activity",relevant:!1},{id:"RO:0018002",label:"myristoylates",relevant:!1},{id:"RO:0018003",label:"myristoylated by",relevant:!1},{id:"RO:0018027",label:"is agonist of",relevant:!1},{id:"RO:0018028",label:"is inverse agonist of",relevant:!1},{id:"RO:0018029",label:"is antagonist of",relevant:!1},{id:"RO:0018030",label:"chemical relationship",relevant:!1},{id:"RO:0018031",label:"is direct conjugate base of",relevant:!1},{id:"RO:0018032",label:"is direct conjugate acid of",relevant:!1},{id:"RO:0018033",label:"is deprotonated form of",relevant:!1},{id:"RO:0018034",label:"is protonated form of",relevant:!1},{id:"RO:0018035",label:"is matched small molecular pair with",relevant:!1},{id:"RO:0018036",label:"is tautomer of",relevant:!1},{id:"RO:0018037",label:"is substitutent group from",relevant:!1},{id:"RO:0018038",label:"has functional parent",relevant:!1},{id:"RO:0018039",label:"is enantiomer of",relevant:!1},{id:"RO:0018040",label:"has parent hydride",relevant:!1},{id:"RO:0019000",label:"regulates characteristic",relevant:!1},{id:"RO:0019001",label:"positively regulates characteristic",relevant:!1},{id:"RO:0019002",label:"negatively regulates characteristic",relevant:!1},{id:"RO:0019501",label:"confers susceptibility to condition",relevant:!1},{id:"RO:0020101",label:"vessel supplies blood to",relevant:!1},{id:"RO:0020102",label:"vessel drains blood from",relevant:!1},{id:"RO:0020103",label:"directly supplies and drains",relevant:!1},{id:"RO:0020202",label:"has numerator",relevant:!1},{id:"RO:0020203",label:"has denominator",relevant:!1},{id:"RO:0040035",label:"disease relationship",relevant:!1},{id:"RO:0040036",label:"results in changes to anatomical or cellular structure",relevant:!1},{id:"RO:HOM0000000",label:"in similarity relationship with",relevant:!1},{id:"RO:HOM0000001",label:"in homology relationship with",relevant:!1},{id:"RO:HOM0000002",label:"in homoplasy relationship with",relevant:!1},{id:"RO:HOM0000003",label:"in homocracy relationship with",relevant:!1},{id:"RO:HOM0000004",label:"in convergence relationship with",relevant:!1},{id:"RO:HOM0000005",label:"in parallelism relationship with",relevant:!1},{id:"RO:HOM0000006",label:"in structural homology relationship with",relevant:!1},{id:"RO:HOM0000007",label:"in historical homology relationship with",relevant:!1},{id:"RO:HOM0000008",label:"in biological homology relationship with",relevant:!1},{id:"RO:HOM0000009",label:"in reversal relationship with",relevant:!1},{id:"RO:HOM0000010",label:"in syntenic homology relationship with",relevant:!1},{id:"RO:HOM0000011",label:"in paralogy relationship with",relevant:!1},{id:"RO:HOM0000012",label:"in syntenic paralogy relationship with",relevant:!1},{id:"RO:HOM0000013",label:"in syntenic orthology relationship with",relevant:!1},{id:"RO:HOM0000014",label:"in partial homology relationship with",relevant:!1},{id:"RO:HOM0000015",label:"in protein structural homology relationship with",relevant:!1},{id:"RO:HOM0000016",label:"in non functional homology relationship with",relevant:!1},{id:"RO:HOM0000017",label:"in orthology relationship with",relevant:!1},{id:"RO:HOM0000018",label:"in xenology relationship with",relevant:!1},{id:"RO:HOM0000019",label:"in 1 to 1 homology relationship with",relevant:!1},{id:"RO:HOM0000020",label:"in 1 to 1 orthology relationship with",relevant:!1},{id:"RO:HOM0000022",label:"in ohnology relationship with",relevant:!1},{id:"RO:HOM0000023",label:"in in-paralogy relationship with",relevant:!1},{id:"RO:HOM0000024",label:"in out-paralogy relationship with",relevant:!1},{id:"RO:HOM0000025",label:"in pro-orthology relationship with",relevant:!1},{id:"RO:HOM0000026",label:"in semi-orthology relationship with",relevant:!1},{id:"RO:HOM0000027",label:"in serial homology relationship with",relevant:!1},{id:"RO:HOM0000028",label:"in heterochronous homology relationship with",relevant:!1},{id:"RO:HOM0000029",label:"in paedomorphorsis relationship with",relevant:!1},{id:"RO:HOM0000030",label:"in peramorphosis relationship with",relevant:!1},{id:"RO:HOM0000031",label:"in progenesis relationship with",relevant:!1},{id:"RO:HOM0000032",label:"in neoteny relationship with",relevant:!1},{id:"RO:HOM0000033",label:"in mimicry relationship with",relevant:!1},{id:"RO:HOM0000034",label:"in 1 to many orthology relationship with",relevant:!1},{id:"RO:HOM0000036",label:"in many to many homology relationship with",relevant:!1},{id:"RO:HOM0000037",label:"in 1 to many homology relationship with",relevant:!1},{id:"RO:HOM0000042",label:"in apomorphy relationship with",relevant:!1},{id:"RO:HOM0000043",label:"in plesiomorphy relationship with",relevant:!1},{id:"RO:HOM0000044",label:"in deep homology relationship with",relevant:!1},{id:"RO:HOM0000045",label:"in hemiplasy relationship with",relevant:!1},{id:"RO:HOM0000046",label:"in gametology relationship with",relevant:!1},{id:"RO:HOM0000047",label:"in chromosomal homology relationship with",relevant:!1},{id:"RO:HOM0000048",label:"in many to many orthology relationship with",relevant:!1},{id:"RO:HOM0000049",label:"in within-species paralogy relationship with",relevant:!1},{id:"RO:HOM0000050",label:"in between-species paralogy relationship with",relevant:!1},{id:"RO:HOM0000051",label:"in postdisplacement relationship with",relevant:!1},{id:"RO:HOM0000052",label:"in hypermorphosis relationship with",relevant:!1},{id:"RO:HOM0000053",label:"in synology relationship with",relevant:!1},{id:"RO:HOM0000054",label:"in isoorthology relationship with",relevant:!1},{id:"RO:HOM0000055",label:"in tandem paralogy relationship with",relevant:!1},{id:"RO:HOM0000057",label:"in latent homology relationship with",relevant:!1},{id:"RO:HOM0000058",label:"in syngeny relationship with",relevant:!1},{id:"RO:HOM0000060",label:"in apparent orthology relationship with",relevant:!1},{id:"RO:HOM0000061",label:"in pseudoparalogy relationship with",relevant:!1},{id:"RO:HOM0000062",label:"in equivalogy relationship with",relevant:!1},{id:"RO:HOM0000063",label:"in interology relationship with",relevant:!1},{id:"RO:HOM0000065",label:"in functional equivalence relationship with",relevant:!1},{id:"RO:HOM0000066",label:"in iterative homology relationship with",relevant:!1},{id:"RO:HOM0000068",label:"in paraxenology relationship with",relevant:!1},{id:"RO:HOM0000069",label:"in plerology relationship with",relevant:!1},{id:"RO:HOM0000071",label:"in homotopy relationship with",relevant:!1},{id:"RO:HOM0000072",label:"in homeosis relationship with",relevant:!1},{id:"RO:HOM0000073",label:"in homoeology relationship with",relevant:!1},{id:"RO:HOM0000074",label:"in paramorphism relationship with",relevant:!1},{id:"RO:HOM0000075",label:"in regulogy relationship with",relevant:!1},{id:"obo:SEPIO_0000124",label:"has supporting reference",relevant:!1},{id:"obo:chebi#has_functional_parent",label:"has functional parent",relevant:!1},{id:"obo:chebi#has_parent_hydride",label:"has parent hydride",relevant:!1},{id:"obo:chebi#is_conjugate_acid_of",label:"is conjugate acid of",relevant:!1},{id:"obo:chebi#is_conjugate_base_of",label:"is conjugate base of",relevant:!1},{id:"obo:chebi#is_enantiomer_of",label:"is enantiomer of",relevant:!1},{id:"obo:chebi#is_substituent_group_from",label:"is substituent group from",relevant:!1},{id:"obo:chebi#is_tautomer_of",label:"is tautomer of",relevant:!1},{id:"obo:cl#has_high_plasma_membrane_amount",label:"obsolete has_high_plasma_membrane_amount",relevant:!1},{id:"obo:cl#has_low_plasma_membrane_amount",label:"obsolete has_low_plasma_membrane_amount",relevant:!1},{id:"obo:ddanat#develops_from",label:"develops_from",relevant:!1},{id:"obo:ddanat#part_of",label:"part of",relevant:!1},{id:"obo:emapa#attached_to",label:"attached_to",relevant:!1},{id:"obo:emapa#develops_from",label:"develops_from",relevant:!1},{id:"obo:emapa#develops_in",label:"develops_in",relevant:!1},{id:"obo:emapa#ends_at",label:"ends_at",relevant:!1},{id:"obo:emapa#has_part",label:"has_part",relevant:!1},{id:"obo:emapa#is_a",label:"is_a",relevant:!1},{id:"obo:emapa#located_in",label:"located_in",relevant:!1},{id:"obo:emapa#part_of",label:"part_of",relevant:!1},{id:"obo:emapa#starts_at",label:"starts_at",relevant:!1},{id:"obo:go/chebi/role#has_part",relevant:!1},{id:"obo:go/extensions/ro_pending#alters_location_of",label:"obsolete alters location of",relevant:!1},{id:"obo:go/extensions/ro_pending#results_in_connection_of",label:"obsolete results_in_connection_of",relevant:!1},{id:"obo:go/extensions/ro_pending#results_in_transport_through",label:"obsolete results_in_transport_through",relevant:!1},{id:"obo:pr#has_constituent_monomer",label:"has_constituent_monomer",relevant:!1},{id:"obo:pr#has_gene_template",label:"has_gene_template",relevant:!1},{id:"obo:uberon/core#anastomoses_with",label:"anastomoses with",relevant:!1},{id:"obo:uberon/core#anteriorly_connected_to",label:"anteriorly connected to",relevant:!1},{id:"obo:uberon/core#channel_for",label:"channel for",relevant:!1},{id:"obo:uberon/core#channels_from",label:"channels_from",relevant:!1},{id:"obo:uberon/core#channels_into",label:"channels_into",relevant:!1},{id:"obo:uberon/core#distally_connected_to",label:"distally connected to",relevant:!1},{id:"obo:uberon/core#extends_fibers_into",label:"extends_fibers_into",relevant:!1},{id:"obo:uberon/core#filtered_through",label:"filtered through",relevant:!1},{id:"obo:uberon/core#has_start",label:"has_start",relevant:!1},{id:"obo:uberon/core#in_innermost_side_of",label:"in_innermost_side_of",relevant:!1},{id:"obo:uberon/core#in_outermost_side_of",label:"in_outermost_side_of",relevant:!1},{id:"obo:uberon/core#indirectly_supplies",label:"indirectly_supplies",relevant:!1},{id:"obo:uberon/core#layer_part_of",label:"layer part of",relevant:!1},{id:"obo:uberon/core#posteriorly_connected_to",label:"posteriorly connected to",relevant:!1},{id:"obo:uberon/core#protects",label:"protects",relevant:!1},{id:"obo:uberon/core#proximally_connected_to",label:"proximally connected to",relevant:!1},{id:"obo:uberon/core#sexually_homologous_to",label:"sexually_homologous_to",relevant:!1},{id:"obo:uberon/core#site_of",label:"site_of",relevant:!1},{id:"obo:uberon/core#subdivision_of",label:"subdivision of",relevant:!1},{id:"obo:uberon/core#transitively_anteriorly_connected_to",label:"transitively anteriorly connected to",relevant:!1},{id:"obo:uberon/core#transitively_connected_to",label:"transitively_connected to",relevant:!1},{id:"obo:uberon/core#transitively_distally_connected_to",label:"transitively distally connected to",relevant:!1},{id:"obo:uberon/core#transitively_proximally_connected_to",label:"transitively proximally connected to",relevant:!1},{id:"obo:uberon/core#trunk_part_of",label:"trunk_part_of",relevant:!1},{id:"obo:wbbt#xunion_of",label:"exclusive_union_of",relevant:!1},{id:"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#during",relevant:!1},{id:"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#ends_during_or_before",relevant:!1},{id:"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#has_quality",relevant:!1},{id:"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#in_response_to",relevant:!1},{id:"obo:wbphenotype/wbphenotype-equivalent-axioms-subq#starts_during_or_after",relevant:!1},{id:"obo:xao#end_stage",label:"ends during",relevant:!1},{id:"obo:xao#preceded_by",label:"preceded by",relevant:!1},{id:"obo:xao#start_stage",label:"starts during",relevant:!1}],evidenceAutoPopulate:{nd:{evidence:{id:"ECO:0000307",label:"no biological data found used in manual assertion"},reference:"GO_REF:0000015"}},rootNode:{mf:{id:"GO:0003674",label:"molecular_function",aspect:"F"},bp:{id:"GO:0008150",label:"biological_process",aspect:"P"},cc:{id:"GO:0005575",label:"cellular_component",aspect:"C"},complex:{id:"GO:0032991",label:"protein_containing_complex",aspect:"PCC"}},bpOnlyCausalEdges:[Se.createEntity(Ce.causallyUpstreamOfNegativeEffect),Se.createEntity(Ce.causallyUpstreamOf),Se.createEntity(Ce.causallyUpstreamOfPositiveEffect),Se.createEntity(Ce.causallyUpstreamOfOrWithinNegativeEffect),Se.createEntity(Ce.causallyUpstreamOfOrWithinPositiveEffect),Se.createEntity(Ce.causallyUpstreamOfOrWithin)],causalEdges:[Se.createEntity(Ce.constitutivelyUpstreamOf),Se.createEntity(Ce.directlyNegativelyRegulates),Se.createEntity(Ce.directlyRegulates),Se.createEntity(Ce.directlyPositivelyRegulates),Se.createEntity(Ce.indirectlyNegativelyRegulates),Se.createEntity(Ce.indirectlyPositivelyRegulates),Se.createEntity(Ce.negativelyRegulates),Se.createEntity(Ce.regulates),Se.createEntity(Ce.positivelyRegulates),Se.createEntity(Ce.causallyUpstreamOfNegativeEffect),Se.createEntity(Ce.causallyUpstreamOf),Se.createEntity(Ce.causallyUpstreamOfPositiveEffect),Se.createEntity(Ce.causallyUpstreamOfOrWithinNegativeEffect),Se.createEntity(Ce.causallyUpstreamOfOrWithinPositiveEffect),Se.createEntity(Ce.causallyUpstreamOfOrWithin),Se.createEntity(Ce.directlyProvidesInput),Se.createEntity(Ce.removesInputFor)],moleculeEdges:[Se.createEntity(Ce.hasInput),Se.createEntity(Ce.hasOutput),Se.createEntity(Ce.isSmallMoleculeActivator),Se.createEntity(Ce.isSmallMoleculeInhibitor),Se.createEntity(Ce.isSmallMoleculeRegulator)],allowedPathwayViewerEdges:[Se.createEntity(Ce.causallyUpstreamOf),Se.createEntity(Ce.causallyUpstreamOfNegativeEffect),Se.createEntity(Ce.causallyUpstreamOfPositiveEffect),Se.createEntity(Ce.constitutivelyUpstreamOf),Se.createEntity(Ce.directlyNegativelyRegulates),Se.createEntity(Ce.directlyPositivelyRegulates),Se.createEntity(Ce.directlyRegulates),Se.createEntity(Ce.hasInput),Se.createEntity(Ce.hasOutput),Se.createEntity(Ce.indirectlyNegativelyRegulates),Se.createEntity(Ce.indirectlyPositivelyRegulates),Se.createEntity(Ce.positivelyRegulates),Se.createEntity(Ce.directlyProvidesInput),Se.createEntity(Ce.regulates),Se.createEntity(Ce.removesInputFor),Se.createEntity(Ce.isSmallMoleculeActivator),Se.createEntity(Ce.isSmallMoleculeActivator),Se.createEntity(Ce.isSmallMoleculeInhibitor)],defaultGraphDisplayEdges:[Se.createEntity(Ce.hasInput),Se.createEntity(Ce.partOf),Se.createEntity(Ce.occursIn)],mfToTermEdges:[Ce.partOf.id,Ce.occursIn.id,Ce.causallyUpstreamOf.id,Ce.causallyUpstreamOfOrWithin.id,Ce.causallyUpstreamOfOrWithinPositiveEffect.id,Ce.causallyUpstreamOfOrWithinNegativeEffect.id,Ce.causallyUpstreamOfPositiveEffect.id,Ce.causallyUpstreamOfNegativeEffect.id],ccOnlyEdges:[Ce.locatedIn.id,Ce.isActiveIn.id,Ce.partOf.id,Ce.contributesTo.id],edgePriority:[Ce.enabledBy.id,Ce.partOf.id,Ce.occursIn.id,Ce.hasInput.id,Ce.hasOutput.id],simpleAnnotationEdgeConfig:C_};class Io{constructor(e,r){this.results=[],this.category=e,this.requestParams=r}}var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ua(t,e,r){return t(r={path:e,exports:{},require:function(n,a){return function Fs(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},r.exports),r.exports}var Ye=Ua(function(t,e){(function(){var r,o="Expected a function",u="__lodash_hash_undefined__",d="__lodash_placeholder__",P=32,T=128,Y=1/0,Q=9007199254740991,ne=4294967295,xe=[["ary",T],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",P],["partialRight",64],["rearg",256]],me="[object Arguments]",fe="[object Array]",O="[object Boolean]",S="[object Date]",q="[object Error]",V="[object Function]",H="[object GeneratorFunction]",K="[object Map]",pe="[object Number]",te="[object Object]",B="[object Promise]",he="[object RegExp]",se="[object Set]",ce="[object String]",Ge="[object Symbol]",Le="[object WeakMap]",et="[object ArrayBuffer]",He="[object DataView]",at="[object Float32Array]",$e="[object Float64Array]",qe="[object Int8Array]",bt="[object Int16Array]",$t="[object Int32Array]",Ar="[object Uint8Array]",Br="[object Uint8ClampedArray]",Ut="[object Uint16Array]",br="[object Uint32Array]",cr=/\b__p \+= '';/g,Rn=/\b(__p \+=) '' \+/g,Gn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,na=/&(?:amp|lt|gt|quot|#39);/g,Mn=/[&<>"']/g,Da=RegExp(na.source),po=RegExp(Mn.source),aa=/<%-([\s\S]+?)%>/g,_r=/<%([\s\S]+?)%>/g,xr=/<%=([\s\S]+?)%>/g,wr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zn=/^\w*$/,Fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qn=/[\\^$.*+?()[\]{}|]/g,ys=RegExp(qn.source),Tn=/^\s+/,Zf=/\s/,Qf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Jf=/\{\n\/\* \[wrapped with (.+)\] \*/,ed=/,? & /,td=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gi=/[()=,{}\[\]\/\s]/,bs=/\\(\\)?/g,ho=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_s=/\w*$/,hu=/^[-+]0x[0-9a-f]+$/i,rd=/^0b[01]+$/i,Xr=/^\[object .+?Constructor\]$/,xs=/^0o[0-7]+$/i,vu=/^(?:0|[1-9]\d*)$/,mi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Or=/($^)/,nd=/['\n\r\u2028\u2029\\]/g,gu="\\ud800-\\udfff",Xm="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Zm="\\u2700-\\u27bf",Qm="a-z\\xdf-\\xf6\\xf8-\\xff",Jm="A-Z\\xc0-\\xd6\\xd8-\\xde",ey="\\ufe0e\\ufe0f",ty="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",m3="["+gu+"]",ry="["+ty+"]",mu="["+Xm+"]",ny="\\d+",y3="["+Zm+"]",ay="["+Qm+"]",iy="[^"+gu+ty+ny+Zm+Qm+Jm+"]",id="\\ud83c[\\udffb-\\udfff]",oy="[^"+gu+"]",od="(?:\\ud83c[\\udde6-\\uddff]){2}",sd="[\\ud800-\\udbff][\\udc00-\\udfff]",vo="["+Jm+"]",ly="(?:"+ay+"|"+iy+")",_3="(?:"+vo+"|"+iy+")",uy="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",cy="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",fy="(?:"+mu+"|"+id+")?",dy="["+ey+"]?",py=dy+fy+"(?:\\u200d(?:"+[oy,od,sd].join("|")+")"+dy+fy+")*",E3="(?:"+[y3,od,sd].join("|")+")"+py,C3="(?:"+[oy+mu+"?",mu,od,sd,m3].join("|")+")",R3=RegExp("['\u2019]","g"),T3=RegExp(mu,"g"),ld=RegExp(id+"(?="+id+")|"+C3+py,"g"),S3=RegExp([vo+"?"+ay+"+"+uy+"(?="+[ry,vo,"$"].join("|")+")",_3+"+"+cy+"(?="+[ry,vo+ly,"$"].join("|")+")",vo+"?"+ly+"+"+uy,vo+"+"+cy,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ny,E3].join("|"),"g"),I3=RegExp("[\\u200d"+gu+Xm+ey+"]"),A3=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,B3=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],P3=-1,kt={};kt[at]=kt[$e]=kt[qe]=kt[bt]=kt[$t]=kt[Ar]=kt[Br]=kt[Ut]=kt[br]=!0,kt[me]=kt[fe]=kt[et]=kt[O]=kt[He]=kt[S]=kt[q]=kt[V]=kt[K]=kt[pe]=kt[te]=kt[he]=kt[se]=kt[ce]=kt[Le]=!1;var At={};At[me]=At[fe]=At[et]=At[He]=At[O]=At[S]=At[at]=At[$e]=At[qe]=At[bt]=At[$t]=At[K]=At[pe]=At[te]=At[he]=At[se]=At[ce]=At[Ge]=At[Ar]=At[Br]=At[Ut]=At[br]=!0,At[q]=At[V]=At[Le]=!1;var L3={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},G3=parseFloat,M3=parseInt,hy="object"==typeof pr&&pr&&pr.Object===Object&&pr,z3="object"==typeof self&&self&&self.Object===Object&&self,fr=hy||z3||Function("return this")(),ud=e&&!e.nodeType&&e,yi=ud&&t&&!t.nodeType&&t,vy=yi&&yi.exports===ud,cd=vy&&hy.process,dn=function(){try{return yi&&yi.require&&yi.require("util").types||cd&&cd.binding&&cd.binding("util")}catch{}}(),gy=dn&&dn.isArrayBuffer,my=dn&&dn.isDate,yy=dn&&dn.isMap,by=dn&&dn.isRegExp,_y=dn&&dn.isSet,xy=dn&&dn.isTypedArray;function Zr(re,ge,de){switch(de.length){case 0:return re.call(ge);case 1:return re.call(ge,de[0]);case 2:return re.call(ge,de[0],de[1]);case 3:return re.call(ge,de[0],de[1],de[2])}return re.apply(ge,de)}function F3(re,ge,de,ke){for(var Ze=-1,mt=null==re?0:re.length;++Ze<mt;){var Zt=re[Ze];ge(ke,Zt,de(Zt),re)}return ke}function pn(re,ge){for(var de=-1,ke=null==re?0:re.length;++de<ke&&!1!==ge(re[de],de,re););return re}function q3(re,ge){for(var de=null==re?0:re.length;de--&&!1!==ge(re[de],de,re););return re}function wy(re,ge){for(var de=-1,ke=null==re?0:re.length;++de<ke;)if(!ge(re[de],de,re))return!1;return!0}function Na(re,ge){for(var de=-1,ke=null==re?0:re.length,Ze=0,mt=[];++de<ke;){var Zt=re[de];ge(Zt,de,re)&&(mt[Ze++]=Zt)}return mt}function yu(re,ge){return!(null==re||!re.length)&&go(re,ge,0)>-1}function fd(re,ge,de){for(var ke=-1,Ze=null==re?0:re.length;++ke<Ze;)if(de(ge,re[ke]))return!0;return!1}function Nt(re,ge){for(var de=-1,ke=null==re?0:re.length,Ze=Array(ke);++de<ke;)Ze[de]=ge(re[de],de,re);return Ze}function La(re,ge){for(var de=-1,ke=ge.length,Ze=re.length;++de<ke;)re[Ze+de]=ge[de];return re}function dd(re,ge,de,ke){var Ze=-1,mt=null==re?0:re.length;for(ke&&mt&&(de=re[++Ze]);++Ze<mt;)de=ge(de,re[Ze],Ze,re);return de}function H3(re,ge,de,ke){var Ze=null==re?0:re.length;for(ke&&Ze&&(de=re[--Ze]);Ze--;)de=ge(de,re[Ze],Ze,re);return de}function pd(re,ge){for(var de=-1,ke=null==re?0:re.length;++de<ke;)if(ge(re[de],de,re))return!0;return!1}var $3=hd("length");function Oy(re,ge,de){var ke;return de(re,function(Ze,mt,Zt){if(ge(Ze,mt,Zt))return ke=mt,!1}),ke}function bu(re,ge,de,ke){for(var Ze=re.length,mt=de+(ke?1:-1);ke?mt--:++mt<Ze;)if(ge(re[mt],mt,re))return mt;return-1}function go(re,ge,de){return ge==ge?function n4(re,ge,de){for(var ke=de-1,Ze=re.length;++ke<Ze;)if(re[ke]===ge)return ke;return-1}(re,ge,de):bu(re,Ey,de)}function V3(re,ge,de,ke){for(var Ze=de-1,mt=re.length;++Ze<mt;)if(ke(re[Ze],ge))return Ze;return-1}function Ey(re){return re!=re}function Cy(re,ge){var de=null==re?0:re.length;return de?gd(re,ge)/de:NaN}function hd(re){return function(ge){return null==ge?r:ge[re]}}function vd(re){return function(ge){return null==re?r:re[ge]}}function Ry(re,ge,de,ke,Ze){return Ze(re,function(mt,Zt,Rt){de=ke?(ke=!1,mt):ge(de,mt,Zt,Rt)}),de}function gd(re,ge){for(var de,ke=-1,Ze=re.length;++ke<Ze;){var mt=ge(re[ke]);mt!==r&&(de=de===r?mt:de+mt)}return de}function md(re,ge){for(var de=-1,ke=Array(re);++de<re;)ke[de]=ge(de);return ke}function Ty(re){return re&&re.slice(0,By(re)+1).replace(Tn,"")}function Qr(re){return function(ge){return re(ge)}}function yd(re,ge){return Nt(ge,function(de){return re[de]})}function ws(re,ge){return re.has(ge)}function Sy(re,ge){for(var de=-1,ke=re.length;++de<ke&&go(ge,re[de],0)>-1;);return de}function Iy(re,ge){for(var de=re.length;de--&&go(ge,re[de],0)>-1;);return de}var X3=vd({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Z3=vd({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Q3(re){return"\\"+L3[re]}function mo(re){return I3.test(re)}function bd(re){var ge=-1,de=Array(re.size);return re.forEach(function(ke,Ze){de[++ge]=[Ze,ke]}),de}function Ay(re,ge){return function(de){return re(ge(de))}}function Ga(re,ge){for(var de=-1,ke=re.length,Ze=0,mt=[];++de<ke;){var Zt=re[de];(Zt===ge||Zt===d)&&(re[de]=d,mt[Ze++]=de)}return mt}function _u(re){var ge=-1,de=Array(re.size);return re.forEach(function(ke){de[++ge]=ke}),de}function yo(re){return mo(re)?function o4(re){for(var ge=ld.lastIndex=0;ld.test(re);)++ge;return ge}(re):$3(re)}function Sn(re){return mo(re)?function s4(re){return re.match(ld)||[]}(re):function U3(re){return re.split("")}(re)}function By(re){for(var ge=re.length;ge--&&Zf.test(re.charAt(ge)););return ge}var i4=vd({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),bo=function re(ge){var s,de=(ge=null==ge?fr:bo.defaults(fr.Object(),ge,bo.pick(fr,B3))).Array,ke=ge.Date,Ze=ge.Error,mt=ge.Function,Zt=ge.Math,Rt=ge.Object,_d=ge.RegExp,c4=ge.String,hn=ge.TypeError,xu=de.prototype,_o=Rt.prototype,wu=ge["__core-js_shared__"],Ou=mt.prototype.toString,xt=_o.hasOwnProperty,d4=0,Py=(s=/[^.]+$/.exec(wu&&wu.keys&&wu.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",Eu=_o.toString,p4=Ou.call(Rt),h4=fr._,v4=_d("^"+Ou.call(xt).replace(qn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cu=vy?ge.Buffer:r,Ma=ge.Symbol,Ru=ge.Uint8Array,ky=Cu?Cu.allocUnsafe:r,Tu=Ay(Rt.getPrototypeOf,Rt),Dy=Rt.create,Ny=_o.propertyIsEnumerable,Su=xu.splice,Ly=Ma?Ma.isConcatSpreadable:r,Os=Ma?Ma.iterator:r,bi=Ma?Ma.toStringTag:r,Iu=function(){try{var s=Ei(Rt,"defineProperty");return s({},"",{}),s}catch{}}(),g4=ge.clearTimeout!==fr.clearTimeout&&ge.clearTimeout,m4=ke&&ke.now!==fr.Date.now&&ke.now,y4=ge.setTimeout!==fr.setTimeout&&ge.setTimeout,Au=Zt.ceil,Bu=Zt.floor,xd=Rt.getOwnPropertySymbols,b4=Cu?Cu.isBuffer:r,Gy=ge.isFinite,_4=xu.join,x4=Ay(Rt.keys,Rt),Qt=Zt.max,Er=Zt.min,w4=ke.now,O4=ge.parseInt,My=Zt.random,E4=xu.reverse,wd=Ei(ge,"DataView"),Es=Ei(ge,"Map"),Od=Ei(ge,"Promise"),xo=Ei(ge,"Set"),Cs=Ei(ge,"WeakMap"),Rs=Ei(Rt,"create"),Pu=Cs&&new Cs,wo={},C4=Ci(wd),R4=Ci(Es),T4=Ci(Od),S4=Ci(xo),I4=Ci(Cs),ku=Ma?Ma.prototype:r,Ts=ku?ku.valueOf:r,zy=ku?ku.toString:r;function A(s){if(Ht(s)&&!Je(s)&&!(s instanceof ct)){if(s instanceof vn)return s;if(xt.call(s,"__wrapped__"))return Fb(s)}return new vn(s)}var Oo=function(){function s(){}return function(f){if(!Gt(f))return{};if(Dy)return Dy(f);s.prototype=f;var h=new s;return s.prototype=r,h}}();function Du(){}function vn(s,f){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=r}function ct(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ne,this.__views__=[]}function _i(s){var f=-1,h=null==s?0:s.length;for(this.clear();++f<h;){var x=s[f];this.set(x[0],x[1])}}function ia(s){var f=-1,h=null==s?0:s.length;for(this.clear();++f<h;){var x=s[f];this.set(x[0],x[1])}}function oa(s){var f=-1,h=null==s?0:s.length;for(this.clear();++f<h;){var x=s[f];this.set(x[0],x[1])}}function xi(s){var f=-1,h=null==s?0:s.length;for(this.__data__=new oa;++f<h;)this.add(s[f])}function In(s){var f=this.__data__=new ia(s);this.size=f.size}function Fy(s,f){var h=Je(s),x=!h&&Ri(s),C=!h&&!x&&$a(s),N=!h&&!x&&!C&&To(s),U=h||x||C||N,X=U?md(s.length,c4):[],ie=X.length;for(var be in s)(f||xt.call(s,be))&&(!U||!("length"==be||C&&("offset"==be||"parent"==be)||N&&("buffer"==be||"byteLength"==be||"byteOffset"==be)||ca(be,ie)))&&X.push(be);return X}function qy(s){var f=s.length;return f?s[Dd(0,f-1)]:r}function tz(s,f){return Yu(qr(s),wi(f,0,s.length))}function rz(s){return Yu(qr(s))}function Ed(s,f,h){(h!==r&&!An(s[f],h)||h===r&&!(f in s))&&sa(s,f,h)}function Ss(s,f,h){var x=s[f];(!xt.call(s,f)||!An(x,h)||h===r&&!(f in s))&&sa(s,f,h)}function Nu(s,f){for(var h=s.length;h--;)if(An(s[h][0],f))return h;return-1}function nz(s,f,h,x){return za(s,function(C,N,U){f(x,C,h(C),U)}),x}function Hy(s,f){return s&&$n(f,tr(f),s)}function sa(s,f,h){"__proto__"==f&&Iu?Iu(s,f,{configurable:!0,enumerable:!0,value:h,writable:!0}):s[f]=h}function Cd(s,f){for(var h=-1,x=f.length,C=de(x),N=null==s;++h<x;)C[h]=N?r:ip(s,f[h]);return C}function wi(s,f,h){return s==s&&(h!==r&&(s=s<=h?s:h),f!==r&&(s=s>=f?s:f)),s}function gn(s,f,h,x,C,N){var U,X=1&f,ie=2&f,be=4&f;if(h&&(U=C?h(s,x,C,N):h(s)),U!==r)return U;if(!Gt(s))return s;var _e=Je(s);if(_e){if(U=function Vz(s){var f=s.length,h=new s.constructor(f);return f&&"string"==typeof s[0]&&xt.call(s,"index")&&(h.index=s.index,h.input=s.input),h}(s),!X)return qr(s,U)}else{var Ee=Cr(s),Be=Ee==V||Ee==H;if($a(s))return db(s,X);if(Ee==te||Ee==me||Be&&!C){if(U=ie||Be?{}:Bb(s),!X)return ie?function Nz(s,f){return $n(s,Ib(s),f)}(s,function az(s,f){return s&&$n(f,$r(f),s)}(U,s)):function Dz(s,f){return $n(s,Yd(s),f)}(s,Hy(U,s))}else{if(!At[Ee])return C?s:{};U=function Wz(s,f,h){var x=s.constructor;switch(f){case et:return qd(s);case O:case S:return new x(+s);case He:return function Az(s,f){var h=f?qd(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.byteLength)}(s,h);case at:case $e:case qe:case bt:case $t:case Ar:case Br:case Ut:case br:return pb(s,h);case K:return new x;case pe:case ce:return new x(s);case he:return function Bz(s){var f=new s.constructor(s.source,_s.exec(s));return f.lastIndex=s.lastIndex,f}(s);case se:return new x;case Ge:return function Pz(s){return Ts?Rt(Ts.call(s)):{}}(s)}}(s,Ee,X)}}N||(N=new In);var Me=N.get(s);if(Me)return Me;N.set(s,U),o_(s)?s.forEach(function(We){U.add(gn(We,f,h,We,s,N))}):a_(s)&&s.forEach(function(We,ut){U.set(ut,gn(We,f,h,ut,s,N))});var rt=_e?r:(be?ie?jd:Ud:ie?$r:tr)(s);return pn(rt||s,function(We,ut){rt&&(We=s[ut=We]),Ss(U,ut,gn(We,f,h,ut,s,N))}),U}function $y(s,f,h){var x=h.length;if(null==s)return!x;for(s=Rt(s);x--;){var C=h[x],U=s[C];if(U===r&&!(C in s)||!(0,f[C])(U))return!1}return!0}function Uy(s,f,h){if("function"!=typeof s)throw new hn(o);return Ns(function(){s.apply(r,h)},f)}function Is(s,f,h,x){var C=-1,N=yu,U=!0,X=s.length,ie=[],be=f.length;if(!X)return ie;h&&(f=Nt(f,Qr(h))),x?(N=fd,U=!1):f.length>=200&&(N=ws,U=!1,f=new xi(f));e:for(;++C<X;){var _e=s[C],Ee=null==h?_e:h(_e);if(_e=x||0!==_e?_e:0,U&&Ee==Ee){for(var Be=be;Be--;)if(f[Be]===Ee)continue e;ie.push(_e)}else N(f,Ee,x)||ie.push(_e)}return ie}A.templateSettings={escape:aa,evaluate:_r,interpolate:xr,variable:"",imports:{_:A}},(A.prototype=Du.prototype).constructor=A,(vn.prototype=Oo(Du.prototype)).constructor=vn,(ct.prototype=Oo(Du.prototype)).constructor=ct,_i.prototype.clear=function k4(){this.__data__=Rs?Rs(null):{},this.size=0},_i.prototype.delete=function D4(s){var f=this.has(s)&&delete this.__data__[s];return this.size-=f?1:0,f},_i.prototype.get=function N4(s){var f=this.__data__;if(Rs){var h=f[s];return h===u?r:h}return xt.call(f,s)?f[s]:r},_i.prototype.has=function L4(s){var f=this.__data__;return Rs?f[s]!==r:xt.call(f,s)},_i.prototype.set=function G4(s,f){var h=this.__data__;return this.size+=this.has(s)?0:1,h[s]=Rs&&f===r?u:f,this},ia.prototype.clear=function M4(){this.__data__=[],this.size=0},ia.prototype.delete=function z4(s){var f=this.__data__,h=Nu(f,s);return!(h<0||(h==f.length-1?f.pop():Su.call(f,h,1),--this.size,0))},ia.prototype.get=function F4(s){var f=this.__data__,h=Nu(f,s);return h<0?r:f[h][1]},ia.prototype.has=function q4(s){return Nu(this.__data__,s)>-1},ia.prototype.set=function H4(s,f){var h=this.__data__,x=Nu(h,s);return x<0?(++this.size,h.push([s,f])):h[x][1]=f,this},oa.prototype.clear=function $4(){this.size=0,this.__data__={hash:new _i,map:new(Es||ia),string:new _i}},oa.prototype.delete=function U4(s){var f=Wu(this,s).delete(s);return this.size-=f?1:0,f},oa.prototype.get=function j4(s){return Wu(this,s).get(s)},oa.prototype.has=function V4(s){return Wu(this,s).has(s)},oa.prototype.set=function W4(s,f){var h=Wu(this,s),x=h.size;return h.set(s,f),this.size+=h.size==x?0:1,this},xi.prototype.add=xi.prototype.push=function Y4(s){return this.__data__.set(s,u),this},xi.prototype.has=function K4(s){return this.__data__.has(s)},In.prototype.clear=function X4(){this.__data__=new ia,this.size=0},In.prototype.delete=function Z4(s){var f=this.__data__,h=f.delete(s);return this.size=f.size,h},In.prototype.get=function Q4(s){return this.__data__.get(s)},In.prototype.has=function J4(s){return this.__data__.has(s)},In.prototype.set=function ez(s,f){var h=this.__data__;if(h instanceof ia){var x=h.__data__;if(!Es||x.length<199)return x.push([s,f]),this.size=++h.size,this;h=this.__data__=new oa(x)}return h.set(s,f),this.size=h.size,this};var za=mb(Hn),jy=mb(Td,!0);function oz(s,f){var h=!0;return za(s,function(x,C,N){return h=!!f(x,C,N)}),h}function Lu(s,f,h){for(var x=-1,C=s.length;++x<C;){var N=s[x],U=f(N);if(null!=U&&(X===r?U==U&&!en(U):h(U,X)))var X=U,ie=N}return ie}function Vy(s,f){var h=[];return za(s,function(x,C,N){f(x,C,N)&&h.push(x)}),h}function dr(s,f,h,x,C){var N=-1,U=s.length;for(h||(h=Kz),C||(C=[]);++N<U;){var X=s[N];f>0&&h(X)?f>1?dr(X,f-1,h,x,C):La(C,X):x||(C[C.length]=X)}return C}var Rd=yb(),Wy=yb(!0);function Hn(s,f){return s&&Rd(s,f,tr)}function Td(s,f){return s&&Wy(s,f,tr)}function Gu(s,f){return Na(f,function(h){return fa(s[h])})}function Oi(s,f){for(var h=0,x=(f=qa(f,s)).length;null!=s&&h<x;)s=s[Un(f[h++])];return h&&h==x?s:r}function Yy(s,f,h){var x=f(s);return Je(s)?x:La(x,h(s))}function Pr(s){return null==s?s===r?"[object Undefined]":"[object Null]":bi&&bi in Rt(s)?function $z(s){var f=xt.call(s,bi),h=s[bi];try{s[bi]=r;var x=!0}catch{}var C=Eu.call(s);return x&&(f?s[bi]=h:delete s[bi]),C}(s):function rF(s){return Eu.call(s)}(s)}function Sd(s,f){return s>f}function lz(s,f){return null!=s&&xt.call(s,f)}function uz(s,f){return null!=s&&f in Rt(s)}function Id(s,f,h){for(var x=h?fd:yu,C=s[0].length,N=s.length,U=N,X=de(N),ie=1/0,be=[];U--;){var _e=s[U];U&&f&&(_e=Nt(_e,Qr(f))),ie=Er(_e.length,ie),X[U]=!h&&(f||C>=120&&_e.length>=120)?new xi(U&&_e):r}_e=s[0];var Ee=-1,Be=X[0];e:for(;++Ee<C&&be.length<ie;){var Me=_e[Ee],Ve=f?f(Me):Me;if(Me=h||0!==Me?Me:0,!(Be?ws(Be,Ve):x(be,Ve,h))){for(U=N;--U;){var rt=X[U];if(!(rt?ws(rt,Ve):x(s[U],Ve,h)))continue e}Be&&Be.push(Ve),be.push(Me)}}return be}function As(s,f,h){var x=null==(s=Nb(s,f=qa(f,s)))?s:s[Un(yn(f))];return null==x?r:Zr(x,s,h)}function Ky(s){return Ht(s)&&Pr(s)==me}function Bs(s,f,h,x,C){return s===f||(null==s||null==f||!Ht(s)&&!Ht(f)?s!=s&&f!=f:function hz(s,f,h,x,C,N){var U=Je(s),X=Je(f),ie=U?fe:Cr(s),be=X?fe:Cr(f),_e=(ie=ie==me?te:ie)==te,Ee=(be=be==me?te:be)==te,Be=ie==be;if(Be&&$a(s)){if(!$a(f))return!1;U=!0,_e=!1}if(Be&&!_e)return N||(N=new In),U||To(s)?Sb(s,f,h,x,C,N):function qz(s,f,h,x,C,N,U){switch(h){case He:if(s.byteLength!=f.byteLength||s.byteOffset!=f.byteOffset)return!1;s=s.buffer,f=f.buffer;case et:return!(s.byteLength!=f.byteLength||!N(new Ru(s),new Ru(f)));case O:case S:case pe:return An(+s,+f);case q:return s.name==f.name&&s.message==f.message;case he:case ce:return s==f+"";case K:var X=bd;case se:if(X||(X=_u),s.size!=f.size&&!(1&x))return!1;var be=U.get(s);if(be)return be==f;x|=2,U.set(s,f);var _e=Sb(X(s),X(f),x,C,N,U);return U.delete(s),_e;case Ge:if(Ts)return Ts.call(s)==Ts.call(f)}return!1}(s,f,ie,h,x,C,N);if(!(1&h)){var Me=_e&&xt.call(s,"__wrapped__"),Ve=Ee&&xt.call(f,"__wrapped__");if(Me||Ve){var rt=Me?s.value():s,We=Ve?f.value():f;return N||(N=new In),C(rt,We,h,x,N)}}return!!Be&&(N||(N=new In),function Hz(s,f,h,x,C,N){var U=1&h,X=Ud(s),ie=X.length;if(ie!=Ud(f).length&&!U)return!1;for(var Ee=ie;Ee--;){var Be=X[Ee];if(!(U?Be in f:xt.call(f,Be)))return!1}var Me=N.get(s),Ve=N.get(f);if(Me&&Ve)return Me==f&&Ve==s;var rt=!0;N.set(s,f),N.set(f,s);for(var We=U;++Ee<ie;){var ut=s[Be=X[Ee]],ft=f[Be];if(x)var tn=U?x(ft,ut,Be,f,s,N):x(ut,ft,Be,s,f,N);if(!(tn===r?ut===ft||C(ut,ft,h,x,N):tn)){rt=!1;break}We||(We="constructor"==Be)}if(rt&&!We){var Dr=s.constructor,rn=f.constructor;Dr!=rn&&"constructor"in s&&"constructor"in f&&!("function"==typeof Dr&&Dr instanceof Dr&&"function"==typeof rn&&rn instanceof rn)&&(rt=!1)}return N.delete(s),N.delete(f),rt}(s,f,h,x,C,N))}(s,f,h,x,Bs,C))}function Ad(s,f,h,x){var C=h.length,N=C,U=!x;if(null==s)return!N;for(s=Rt(s);C--;){var X=h[C];if(U&&X[2]?X[1]!==s[X[0]]:!(X[0]in s))return!1}for(;++C<N;){var ie=(X=h[C])[0],be=s[ie],_e=X[1];if(U&&X[2]){if(be===r&&!(ie in s))return!1}else{var Ee=new In;if(x)var Be=x(be,_e,ie,s,f,Ee);if(!(Be===r?Bs(_e,be,3,x,Ee):Be))return!1}}return!0}function Xy(s){return!(!Gt(s)||function Zz(s){return!!Py&&Py in s}(s))&&(fa(s)?v4:Xr).test(Ci(s))}function Zy(s){return"function"==typeof s?s:null==s?Ur:"object"==typeof s?Je(s)?eb(s[0],s[1]):Jy(s):b_(s)}function Bd(s){if(!Ds(s))return x4(s);var f=[];for(var h in Rt(s))xt.call(s,h)&&"constructor"!=h&&f.push(h);return f}function Pd(s,f){return s<f}function Qy(s,f){var h=-1,x=Hr(s)?de(s.length):[];return za(s,function(C,N,U){x[++h]=f(C,N,U)}),x}function Jy(s){var f=Wd(s);return 1==f.length&&f[0][2]?kb(f[0][0],f[0][1]):function(h){return h===s||Ad(h,s,f)}}function eb(s,f){return Kd(s)&&Pb(f)?kb(Un(s),f):function(h){var x=ip(h,s);return x===r&&x===f?op(h,s):Bs(f,x,3)}}function Mu(s,f,h,x,C){s!==f&&Rd(f,function(N,U){if(C||(C=new In),Gt(N))!function _z(s,f,h,x,C,N,U){var X=Zd(s,h),ie=Zd(f,h),be=U.get(ie);if(be)Ed(s,h,be);else{var _e=N?N(X,ie,h+"",s,f,U):r,Ee=_e===r;if(Ee){var Be=Je(ie),Me=!Be&&$a(ie),Ve=!Be&&!Me&&To(ie);_e=ie,Be||Me||Ve?Je(X)?_e=X:jt(X)?_e=qr(X):Me?(Ee=!1,_e=db(ie,!0)):Ve?(Ee=!1,_e=pb(ie,!0)):_e=[]:Ls(ie)||Ri(ie)?(_e=X,Ri(X)?_e=u_(X):(!Gt(X)||fa(X))&&(_e=Bb(ie))):Ee=!1}Ee&&(U.set(ie,_e),C(_e,ie,x,N,U),U.delete(ie)),Ed(s,h,_e)}}(s,f,U,h,Mu,x,C);else{var X=x?x(Zd(s,U),N,U+"",s,f,C):r;X===r&&(X=N),Ed(s,U,X)}},$r)}function tb(s,f){var h=s.length;if(h)return ca(f+=f<0?h:0,h)?s[f]:r}function rb(s,f,h){f=f.length?Nt(f,function(N){return Je(N)?function(U){return Oi(U,1===N.length?N[0]:N)}:N}):[Ur];var x=-1;return f=Nt(f,Qr(je())),function W3(re,ge){var de=re.length;for(re.sort(ge);de--;)re[de]=re[de].value;return re}(Qy(s,function(N,U,X){return{criteria:Nt(f,function(be){return be(N)}),index:++x,value:N}}),function(N,U){return function kz(s,f,h){for(var x=-1,C=s.criteria,N=f.criteria,U=C.length,X=h.length;++x<U;){var ie=hb(C[x],N[x]);if(ie)return x>=X?ie:ie*("desc"==h[x]?-1:1)}return s.index-f.index}(N,U,h)})}function nb(s,f,h){for(var x=-1,C=f.length,N={};++x<C;){var U=f[x],X=Oi(s,U);h(X,U)&&Ps(N,qa(U,s),X)}return N}function kd(s,f,h,x){var C=x?V3:go,N=-1,U=f.length,X=s;for(s===f&&(f=qr(f)),h&&(X=Nt(s,Qr(h)));++N<U;)for(var ie=0,be=f[N],_e=h?h(be):be;(ie=C(X,_e,ie,x))>-1;)X!==s&&Su.call(X,ie,1),Su.call(s,ie,1);return s}function ab(s,f){for(var h=s?f.length:0,x=h-1;h--;){var C=f[h];if(h==x||C!==N){var N=C;ca(C)?Su.call(s,C,1):Gd(s,C)}}return s}function Dd(s,f){return s+Bu(My()*(f-s+1))}function Nd(s,f){var h="";if(!s||f<1||f>Q)return h;do{f%2&&(h+=s),(f=Bu(f/2))&&(s+=s)}while(f);return h}function it(s,f){return Qd(Db(s,f,Ur),s+"")}function Ez(s){return qy(So(s))}function Cz(s,f){var h=So(s);return Yu(h,wi(f,0,h.length))}function Ps(s,f,h,x){if(!Gt(s))return s;for(var C=-1,N=(f=qa(f,s)).length,U=N-1,X=s;null!=X&&++C<N;){var ie=Un(f[C]),be=h;if("__proto__"===ie||"constructor"===ie||"prototype"===ie)return s;if(C!=U){var _e=X[ie];(be=x?x(_e,ie,X):r)===r&&(be=Gt(_e)?_e:ca(f[C+1])?[]:{})}Ss(X,ie,be),X=X[ie]}return s}var ib=Pu?function(s,f){return Pu.set(s,f),s}:Ur,Rz=Iu?function(s,f){return Iu(s,"toString",{configurable:!0,enumerable:!1,value:lp(f),writable:!0})}:Ur;function Tz(s){return Yu(So(s))}function mn(s,f,h){var x=-1,C=s.length;f<0&&(f=-f>C?0:C+f),(h=h>C?C:h)<0&&(h+=C),C=f>h?0:h-f>>>0,f>>>=0;for(var N=de(C);++x<C;)N[x]=s[x+f];return N}function Sz(s,f){var h;return za(s,function(x,C,N){return!(h=f(x,C,N))}),!!h}function zu(s,f,h){var x=0,C=null==s?x:s.length;if("number"==typeof f&&f==f&&C<=2147483647){for(;x<C;){var N=x+C>>>1,U=s[N];null!==U&&!en(U)&&(h?U<=f:U<f)?x=N+1:C=N}return C}return Ld(s,f,Ur,h)}function Ld(s,f,h,x){var C=0,N=null==s?0:s.length;if(0===N)return 0;for(var U=(f=h(f))!=f,X=null===f,ie=en(f),be=f===r;C<N;){var _e=Bu((C+N)/2),Ee=h(s[_e]),Be=Ee!==r,Me=null===Ee,Ve=Ee==Ee,rt=en(Ee);if(U)var We=x||Ve;else We=be?Ve&&(x||Be):X?Ve&&Be&&(x||!Me):ie?Ve&&Be&&!Me&&(x||!rt):!Me&&!rt&&(x?Ee<=f:Ee<f);We?C=_e+1:N=_e}return Er(N,4294967294)}function ob(s,f){for(var h=-1,x=s.length,C=0,N=[];++h<x;){var U=s[h],X=f?f(U):U;if(!h||!An(X,ie)){var ie=X;N[C++]=0===U?0:U}}return N}function sb(s){return"number"==typeof s?s:en(s)?NaN:+s}function Jr(s){if("string"==typeof s)return s;if(Je(s))return Nt(s,Jr)+"";if(en(s))return zy?zy.call(s):"";var f=s+"";return"0"==f&&1/s==-Y?"-0":f}function Fa(s,f,h){var x=-1,C=yu,N=s.length,U=!0,X=[],ie=X;if(h)U=!1,C=fd;else if(N>=200){var be=f?null:zz(s);if(be)return _u(be);U=!1,C=ws,ie=new xi}else ie=f?[]:X;e:for(;++x<N;){var _e=s[x],Ee=f?f(_e):_e;if(_e=h||0!==_e?_e:0,U&&Ee==Ee){for(var Be=ie.length;Be--;)if(ie[Be]===Ee)continue e;f&&ie.push(Ee),X.push(_e)}else C(ie,Ee,h)||(ie!==X&&ie.push(Ee),X.push(_e))}return X}function Gd(s,f){return null==(s=Nb(s,f=qa(f,s)))||delete s[Un(yn(f))]}function lb(s,f,h,x){return Ps(s,f,h(Oi(s,f)),x)}function Fu(s,f,h,x){for(var C=s.length,N=x?C:-1;(x?N--:++N<C)&&f(s[N],N,s););return h?mn(s,x?0:N,x?N+1:C):mn(s,x?N+1:0,x?C:N)}function ub(s,f){var h=s;return h instanceof ct&&(h=h.value()),dd(f,function(x,C){return C.func.apply(C.thisArg,La([x],C.args))},h)}function Md(s,f,h){var x=s.length;if(x<2)return x?Fa(s[0]):[];for(var C=-1,N=de(x);++C<x;)for(var U=s[C],X=-1;++X<x;)X!=C&&(N[C]=Is(N[C]||U,s[X],f,h));return Fa(dr(N,1),f,h)}function cb(s,f,h){for(var x=-1,C=s.length,N=f.length,U={};++x<C;)h(U,s[x],x<N?f[x]:r);return U}function zd(s){return jt(s)?s:[]}function Fd(s){return"function"==typeof s?s:Ur}function qa(s,f){return Je(s)?s:Kd(s,f)?[s]:zb(_t(s))}var Iz=it;function Ha(s,f,h){var x=s.length;return h=h===r?x:h,!f&&h>=x?s:mn(s,f,h)}var fb=g4||function(s){return fr.clearTimeout(s)};function db(s,f){if(f)return s.slice();var h=s.length,x=ky?ky(h):new s.constructor(h);return s.copy(x),x}function qd(s){var f=new s.constructor(s.byteLength);return new Ru(f).set(new Ru(s)),f}function pb(s,f){var h=f?qd(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.length)}function hb(s,f){if(s!==f){var h=s!==r,x=null===s,C=s==s,N=en(s),U=f!==r,X=null===f,ie=f==f,be=en(f);if(!X&&!be&&!N&&s>f||N&&U&&ie&&!X&&!be||x&&U&&ie||!h&&ie||!C)return 1;if(!x&&!N&&!be&&s<f||be&&h&&C&&!x&&!N||X&&h&&C||!U&&C||!ie)return-1}return 0}function vb(s,f,h,x){for(var C=-1,N=s.length,U=h.length,X=-1,ie=f.length,be=Qt(N-U,0),_e=de(ie+be),Ee=!x;++X<ie;)_e[X]=f[X];for(;++C<U;)(Ee||C<N)&&(_e[h[C]]=s[C]);for(;be--;)_e[X++]=s[C++];return _e}function gb(s,f,h,x){for(var C=-1,N=s.length,U=-1,X=h.length,ie=-1,be=f.length,_e=Qt(N-X,0),Ee=de(_e+be),Be=!x;++C<_e;)Ee[C]=s[C];for(var Me=C;++ie<be;)Ee[Me+ie]=f[ie];for(;++U<X;)(Be||C<N)&&(Ee[Me+h[U]]=s[C++]);return Ee}function qr(s,f){var h=-1,x=s.length;for(f||(f=de(x));++h<x;)f[h]=s[h];return f}function $n(s,f,h,x){var C=!h;h||(h={});for(var N=-1,U=f.length;++N<U;){var X=f[N],ie=x?x(h[X],s[X],X,h,s):r;ie===r&&(ie=s[X]),C?sa(h,X,ie):Ss(h,X,ie)}return h}function qu(s,f){return function(h,x){var C=Je(h)?F3:nz,N=f?f():{};return C(h,s,je(x,2),N)}}function Eo(s){return it(function(f,h){var x=-1,C=h.length,N=C>1?h[C-1]:r,U=C>2?h[2]:r;for(N=s.length>3&&"function"==typeof N?(C--,N):r,U&&kr(h[0],h[1],U)&&(N=C<3?r:N,C=1),f=Rt(f);++x<C;){var X=h[x];X&&s(f,X,x,N)}return f})}function mb(s,f){return function(h,x){if(null==h)return h;if(!Hr(h))return s(h,x);for(var C=h.length,N=f?C:-1,U=Rt(h);(f?N--:++N<C)&&!1!==x(U[N],N,U););return h}}function yb(s){return function(f,h,x){for(var C=-1,N=Rt(f),U=x(f),X=U.length;X--;){var ie=U[s?X:++C];if(!1===h(N[ie],ie,N))break}return f}}function bb(s){return function(f){var h=mo(f=_t(f))?Sn(f):r,x=h?h[0]:f.charAt(0),C=h?Ha(h,1).join(""):f.slice(1);return x[s]()+C}}function Co(s){return function(f){return dd(m_(g_(f).replace(R3,"")),s,"")}}function ks(s){return function(){var f=arguments;switch(f.length){case 0:return new s;case 1:return new s(f[0]);case 2:return new s(f[0],f[1]);case 3:return new s(f[0],f[1],f[2]);case 4:return new s(f[0],f[1],f[2],f[3]);case 5:return new s(f[0],f[1],f[2],f[3],f[4]);case 6:return new s(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new s(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var h=Oo(s.prototype),x=s.apply(h,f);return Gt(x)?x:h}}function _b(s){return function(f,h,x){var C=Rt(f);if(!Hr(f)){var N=je(h,3);f=tr(f),h=function(X){return N(C[X],X,C)}}var U=s(f,h,x);return U>-1?C[N?f[U]:U]:r}}function xb(s){return ua(function(f){var h=f.length,x=h,C=vn.prototype.thru;for(s&&f.reverse();x--;){var N=f[x];if("function"!=typeof N)throw new hn(o);if(C&&!U&&"wrapper"==Vu(N))var U=new vn([],!0)}for(x=U?x:h;++x<h;){var X=Vu(N=f[x]),ie="wrapper"==X?Vd(N):r;U=ie&&Xd(ie[0])&&424==ie[1]&&!ie[4].length&&1==ie[9]?U[Vu(ie[0])].apply(U,ie[3]):1==N.length&&Xd(N)?U[X]():U.thru(N)}return function(){var be=arguments,_e=be[0];if(U&&1==be.length&&Je(_e))return U.plant(_e).value();for(var Ee=0,Be=h?f[Ee].apply(this,be):_e;++Ee<h;)Be=f[Ee].call(this,Be);return Be}})}function Hu(s,f,h,x,C,N,U,X,ie,be){var _e=f&T,Ee=1&f,Be=2&f,Me=24&f,Ve=512&f,rt=Be?r:ks(s);return function We(){for(var ut=arguments.length,ft=de(ut),tn=ut;tn--;)ft[tn]=arguments[tn];if(Me)var Dr=Ro(We),rn=function K3(re,ge){for(var de=re.length,ke=0;de--;)re[de]===ge&&++ke;return ke}(ft,Dr);if(x&&(ft=vb(ft,x,C,Me)),N&&(ft=gb(ft,N,U,Me)),ut-=rn,Me&&ut<be){var Vt=Ga(ft,Dr);return Eb(s,f,Hu,We.placeholder,h,ft,Vt,X,ie,be-ut)}var Bn=Ee?h:this,pa=Be?Bn[s]:s;return ut=ft.length,X?ft=function nF(s,f){for(var h=s.length,x=Er(f.length,h),C=qr(s);x--;){var N=f[x];s[x]=ca(N,h)?C[N]:r}return s}(ft,X):Ve&&ut>1&&ft.reverse(),_e&&ie<ut&&(ft.length=ie),this&&this!==fr&&this instanceof We&&(pa=rt||ks(pa)),pa.apply(Bn,ft)}}function wb(s,f){return function(h,x){return function fz(s,f,h,x){return Hn(s,function(C,N,U){f(x,h(C),N,U)}),x}(h,s,f(x),{})}}function $u(s,f){return function(h,x){var C;if(h===r&&x===r)return f;if(h!==r&&(C=h),x!==r){if(C===r)return x;"string"==typeof h||"string"==typeof x?(h=Jr(h),x=Jr(x)):(h=sb(h),x=sb(x)),C=s(h,x)}return C}}function Hd(s){return ua(function(f){return f=Nt(f,Qr(je())),it(function(h){var x=this;return s(f,function(C){return Zr(C,x,h)})})})}function Uu(s,f){var h=(f=f===r?" ":Jr(f)).length;if(h<2)return h?Nd(f,s):f;var x=Nd(f,Au(s/yo(f)));return mo(f)?Ha(Sn(x),0,s).join(""):x.slice(0,s)}function Ob(s){return function(f,h,x){return x&&"number"!=typeof x&&kr(f,h,x)&&(h=x=r),f=da(f),h===r?(h=f,f=0):h=da(h),function Oz(s,f,h,x){for(var C=-1,N=Qt(Au((f-s)/(h||1)),0),U=de(N);N--;)U[x?N:++C]=s,s+=h;return U}(f,h,x=x===r?f<h?1:-1:da(x),s)}}function ju(s){return function(f,h){return"string"==typeof f&&"string"==typeof h||(f=bn(f),h=bn(h)),s(f,h)}}function Eb(s,f,h,x,C,N,U,X,ie,be){var _e=8&f;f|=_e?P:64,4&(f&=~(_e?64:P))||(f&=-4);var rt=[s,f,C,_e?N:r,_e?U:r,_e?r:N,_e?r:U,X,ie,be],We=h.apply(r,rt);return Xd(s)&&Lb(We,rt),We.placeholder=x,Gb(We,s,f)}function $d(s){var f=Zt[s];return function(h,x){if(h=bn(h),(x=null==x?0:Er(tt(x),292))&&Gy(h)){var C=(_t(h)+"e").split("e");return+((C=(_t(f(C[0]+"e"+(+C[1]+x)))+"e").split("e"))[0]+"e"+(+C[1]-x))}return f(h)}}var zz=xo&&1/_u(new xo([,-0]))[1]==Y?function(s){return new xo(s)}:fp;function Cb(s){return function(f){var h=Cr(f);return h==K?bd(f):h==se?function r4(re){var ge=-1,de=Array(re.size);return re.forEach(function(ke){de[++ge]=[ke,ke]}),de}(f):function Y3(re,ge){return Nt(ge,function(de){return[de,re[de]]})}(f,s(f))}}function la(s,f,h,x,C,N,U,X){var ie=2&f;if(!ie&&"function"!=typeof s)throw new hn(o);var be=x?x.length:0;if(be||(f&=-97,x=C=r),U=U===r?U:Qt(tt(U),0),X=X===r?X:tt(X),be-=C?C.length:0,64&f){var _e=x,Ee=C;x=C=r}var Be=ie?r:Vd(s),Me=[s,f,h,x,C,_e,Ee,N,U,X];if(Be&&function eF(s,f){var h=s[1],x=f[1],C=h|x;if(!(C<131)&&!(x==T&&8==h||x==T&&256==h&&s[7].length<=f[8]||384==x&&f[7].length<=f[8]&&8==h))return s;1&x&&(s[2]=f[2],C|=1&h?0:4);var X=f[3];if(X){var ie=s[3];s[3]=ie?vb(ie,X,f[4]):X,s[4]=ie?Ga(s[3],d):f[4]}(X=f[5])&&(s[5]=(ie=s[5])?gb(ie,X,f[6]):X,s[6]=ie?Ga(s[5],d):f[6]),(X=f[7])&&(s[7]=X),x&T&&(s[8]=null==s[8]?f[8]:Er(s[8],f[8])),null==s[9]&&(s[9]=f[9]),s[0]=f[0],s[1]=C}(Me,Be),s=Me[0],f=Me[1],h=Me[2],x=Me[3],C=Me[4],!(X=Me[9]=Me[9]===r?ie?0:s.length:Qt(Me[9]-be,0))&&24&f&&(f&=-25),f&&1!=f)Ve=8==f||16==f?function Gz(s,f,h){var x=ks(s);return function C(){for(var N=arguments.length,U=de(N),X=N,ie=Ro(C);X--;)U[X]=arguments[X];var be=N<3&&U[0]!==ie&&U[N-1]!==ie?[]:Ga(U,ie);return(N-=be.length)<h?Eb(s,f,Hu,C.placeholder,r,U,be,r,r,h-N):Zr(this&&this!==fr&&this instanceof C?x:s,this,U)}}(s,f,X):f!=P&&33!=f||C.length?Hu.apply(r,Me):function Mz(s,f,h,x){var C=1&f,N=ks(s);return function U(){for(var X=-1,ie=arguments.length,be=-1,_e=x.length,Ee=de(_e+ie),Be=this&&this!==fr&&this instanceof U?N:s;++be<_e;)Ee[be]=x[be];for(;ie--;)Ee[be++]=arguments[++X];return Zr(Be,C?h:this,Ee)}}(s,f,h,x);else var Ve=function Lz(s,f,h){var x=1&f,C=ks(s);return function N(){return(this&&this!==fr&&this instanceof N?C:s).apply(x?h:this,arguments)}}(s,f,h);return Gb((Be?ib:Lb)(Ve,Me),s,f)}function Rb(s,f,h,x){return s===r||An(s,_o[h])&&!xt.call(x,h)?f:s}function Tb(s,f,h,x,C,N){return Gt(s)&&Gt(f)&&(N.set(f,s),Mu(s,f,r,Tb,N),N.delete(f)),s}function Fz(s){return Ls(s)?r:s}function Sb(s,f,h,x,C,N){var U=1&h,X=s.length,ie=f.length;if(X!=ie&&!(U&&ie>X))return!1;var be=N.get(s),_e=N.get(f);if(be&&_e)return be==f&&_e==s;var Ee=-1,Be=!0,Me=2&h?new xi:r;for(N.set(s,f),N.set(f,s);++Ee<X;){var Ve=s[Ee],rt=f[Ee];if(x)var We=U?x(rt,Ve,Ee,f,s,N):x(Ve,rt,Ee,s,f,N);if(We!==r){if(We)continue;Be=!1;break}if(Me){if(!pd(f,function(ut,ft){if(!ws(Me,ft)&&(Ve===ut||C(Ve,ut,h,x,N)))return Me.push(ft)})){Be=!1;break}}else if(Ve!==rt&&!C(Ve,rt,h,x,N)){Be=!1;break}}return N.delete(s),N.delete(f),Be}function ua(s){return Qd(Db(s,r,$b),s+"")}function Ud(s){return Yy(s,tr,Yd)}function jd(s){return Yy(s,$r,Ib)}var Vd=Pu?function(s){return Pu.get(s)}:fp;function Vu(s){for(var f=s.name+"",h=wo[f],x=xt.call(wo,f)?h.length:0;x--;){var C=h[x],N=C.func;if(null==N||N==s)return C.name}return f}function Ro(s){return(xt.call(A,"placeholder")?A:s).placeholder}function je(){var s=A.iteratee||up;return s=s===up?Zy:s,arguments.length?s(arguments[0],arguments[1]):s}function Wu(s,f){var h=s.__data__;return function Xz(s){var f=typeof s;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==s:null===s}(f)?h["string"==typeof f?"string":"hash"]:h.map}function Wd(s){for(var f=tr(s),h=f.length;h--;){var x=f[h],C=s[x];f[h]=[x,C,Pb(C)]}return f}function Ei(s,f){var h=function J3(re,ge){return null==re?r:re[ge]}(s,f);return Xy(h)?h:r}var Yd=xd?function(s){return null==s?[]:(s=Rt(s),Na(xd(s),function(f){return Ny.call(s,f)}))}:dp,Ib=xd?function(s){for(var f=[];s;)La(f,Yd(s)),s=Tu(s);return f}:dp,Cr=Pr;function Ab(s,f,h){for(var x=-1,C=(f=qa(f,s)).length,N=!1;++x<C;){var U=Un(f[x]);if(!(N=null!=s&&h(s,U)))break;s=s[U]}return N||++x!=C?N:!!(C=null==s?0:s.length)&&ec(C)&&ca(U,C)&&(Je(s)||Ri(s))}function Bb(s){return"function"!=typeof s.constructor||Ds(s)?{}:Oo(Tu(s))}function Kz(s){return Je(s)||Ri(s)||!!(Ly&&s&&s[Ly])}function ca(s,f){var h=typeof s;return!!(f=f??Q)&&("number"==h||"symbol"!=h&&vu.test(s))&&s>-1&&s%1==0&&s<f}function kr(s,f,h){if(!Gt(h))return!1;var x=typeof f;return!!("number"==x?Hr(h)&&ca(f,h.length):"string"==x&&f in h)&&An(h[f],s)}function Kd(s,f){if(Je(s))return!1;var h=typeof s;return!("number"!=h&&"symbol"!=h&&"boolean"!=h&&null!=s&&!en(s))||zn.test(s)||!wr.test(s)||null!=f&&s in Rt(f)}function Xd(s){var f=Vu(s),h=A[f];if("function"!=typeof h||!(f in ct.prototype))return!1;if(s===h)return!0;var x=Vd(h);return!!x&&s===x[0]}(wd&&Cr(new wd(new ArrayBuffer(1)))!=He||Es&&Cr(new Es)!=K||Od&&Cr(Od.resolve())!=B||xo&&Cr(new xo)!=se||Cs&&Cr(new Cs)!=Le)&&(Cr=function(s){var f=Pr(s),h=f==te?s.constructor:r,x=h?Ci(h):"";if(x)switch(x){case C4:return He;case R4:return K;case T4:return B;case S4:return se;case I4:return Le}return f});var Qz=wu?fa:pp;function Ds(s){var f=s&&s.constructor;return s===("function"==typeof f&&f.prototype||_o)}function Pb(s){return s==s&&!Gt(s)}function kb(s,f){return function(h){return null!=h&&h[s]===f&&(f!==r||s in Rt(h))}}function Db(s,f,h){return f=Qt(f===r?s.length-1:f,0),function(){for(var x=arguments,C=-1,N=Qt(x.length-f,0),U=de(N);++C<N;)U[C]=x[f+C];C=-1;for(var X=de(f+1);++C<f;)X[C]=x[C];return X[f]=h(U),Zr(s,this,X)}}function Nb(s,f){return f.length<2?s:Oi(s,mn(f,0,-1))}function Zd(s,f){if(("constructor"!==f||"function"!=typeof s[f])&&"__proto__"!=f)return s[f]}var Lb=Mb(ib),Ns=y4||function(s,f){return fr.setTimeout(s,f)},Qd=Mb(Rz);function Gb(s,f,h){var x=f+"";return Qd(s,function Yz(s,f){var h=f.length;if(!h)return s;var x=h-1;return f[x]=(h>1?"& ":"")+f[x],f=f.join(h>2?", ":" "),s.replace(Qf,"{\n/* [wrapped with "+f+"] */\n")}(x,function aF(s,f){return pn(xe,function(h){var x="_."+h[0];f&h[1]&&!yu(s,x)&&s.push(x)}),s.sort()}(function jz(s){var f=s.match(Jf);return f?f[1].split(ed):[]}(x),h)))}function Mb(s){var f=0,h=0;return function(){var x=w4(),C=16-(x-h);if(h=x,C>0){if(++f>=800)return arguments[0]}else f=0;return s.apply(r,arguments)}}function Yu(s,f){var h=-1,x=s.length,C=x-1;for(f=f===r?x:f;++h<f;){var N=Dd(h,C),U=s[N];s[N]=s[h],s[h]=U}return s.length=f,s}var zb=function Jz(s){var f=Qu(s,function(x){return 500===h.size&&h.clear(),x}),h=f.cache;return f}(function(s){var f=[];return 46===s.charCodeAt(0)&&f.push(""),s.replace(Fn,function(h,x,C,N){f.push(C?N.replace(bs,"$1"):x||h)}),f});function Un(s){if("string"==typeof s||en(s))return s;var f=s+"";return"0"==f&&1/s==-Y?"-0":f}function Ci(s){if(null!=s){try{return Ou.call(s)}catch{}try{return s+""}catch{}}return""}function Fb(s){if(s instanceof ct)return s.clone();var f=new vn(s.__wrapped__,s.__chain__);return f.__actions__=qr(s.__actions__),f.__index__=s.__index__,f.__values__=s.__values__,f}var lF=it(function(s,f){return jt(s)?Is(s,dr(f,1,jt,!0)):[]}),uF=it(function(s,f){var h=yn(f);return jt(h)&&(h=r),jt(s)?Is(s,dr(f,1,jt,!0),je(h,2)):[]}),cF=it(function(s,f){var h=yn(f);return jt(h)&&(h=r),jt(s)?Is(s,dr(f,1,jt,!0),r,h):[]});function qb(s,f,h){var x=null==s?0:s.length;if(!x)return-1;var C=null==h?0:tt(h);return C<0&&(C=Qt(x+C,0)),bu(s,je(f,3),C)}function Hb(s,f,h){var x=null==s?0:s.length;if(!x)return-1;var C=x-1;return h!==r&&(C=tt(h),C=h<0?Qt(x+C,0):Er(C,x-1)),bu(s,je(f,3),C,!0)}function $b(s){return null!=s&&s.length?dr(s,1):[]}function Ub(s){return s&&s.length?s[0]:r}var xF=it(function(s){var f=Nt(s,zd);return f.length&&f[0]===s[0]?Id(f):[]}),wF=it(function(s){var f=yn(s),h=Nt(s,zd);return f===yn(h)?f=r:h.pop(),h.length&&h[0]===s[0]?Id(h,je(f,2)):[]}),OF=it(function(s){var f=yn(s),h=Nt(s,zd);return(f="function"==typeof f?f:r)&&h.pop(),h.length&&h[0]===s[0]?Id(h,r,f):[]});function yn(s){var f=null==s?0:s.length;return f?s[f-1]:r}var TF=it(jb);function jb(s,f){return s&&s.length&&f&&f.length?kd(s,f):s}var AF=ua(function(s,f){var h=null==s?0:s.length,x=Cd(s,f);return ab(s,Nt(f,function(C){return ca(C,h)?+C:C}).sort(hb)),x});function Jd(s){return null==s?s:E4.call(s)}var VF=it(function(s){return Fa(dr(s,1,jt,!0))}),WF=it(function(s){var f=yn(s);return jt(f)&&(f=r),Fa(dr(s,1,jt,!0),je(f,2))}),YF=it(function(s){var f=yn(s);return f="function"==typeof f?f:r,Fa(dr(s,1,jt,!0),r,f)});function ep(s){if(!s||!s.length)return[];var f=0;return s=Na(s,function(h){if(jt(h))return f=Qt(h.length,f),!0}),md(f,function(h){return Nt(s,hd(h))})}function Vb(s,f){if(!s||!s.length)return[];var h=ep(s);return null==f?h:Nt(h,function(x){return Zr(f,r,x)})}var QF=it(function(s,f){return jt(s)?Is(s,f):[]}),JF=it(function(s){return Md(Na(s,jt))}),e9=it(function(s){var f=yn(s);return jt(f)&&(f=r),Md(Na(s,jt),je(f,2))}),t9=it(function(s){var f=yn(s);return f="function"==typeof f?f:r,Md(Na(s,jt),r,f)}),r9=it(ep),i9=it(function(s){var f=s.length,h=f>1?s[f-1]:r;return h="function"==typeof h?(s.pop(),h):r,Vb(s,h)});function Wb(s){var f=A(s);return f.__chain__=!0,f}function Ku(s,f){return f(s)}var s9=ua(function(s){var f=s.length,h=f?s[0]:0,x=this.__wrapped__,C=function(N){return Cd(N,s)};return!(f>1||this.__actions__.length)&&x instanceof ct&&ca(h)?((x=x.slice(h,+h+(f?1:0))).__actions__.push({func:Ku,args:[C],thisArg:r}),new vn(x,this.__chain__).thru(function(N){return f&&!N.length&&N.push(r),N})):this.thru(C)}),v9=qu(function(s,f,h){xt.call(s,h)?++s[h]:sa(s,h,1)}),y9=_b(qb),b9=_b(Hb);function Yb(s,f){return(Je(s)?pn:za)(s,je(f,3))}function Kb(s,f){return(Je(s)?q3:jy)(s,je(f,3))}var O9=qu(function(s,f,h){xt.call(s,h)?s[h].push(f):sa(s,h,[f])}),C9=it(function(s,f,h){var x=-1,C="function"==typeof f,N=Hr(s)?de(s.length):[];return za(s,function(U){N[++x]=C?Zr(f,U,h):As(U,f,h)}),N}),R9=qu(function(s,f,h){sa(s,h,f)});function Xu(s,f){return(Je(s)?Nt:Qy)(s,je(f,3))}var S9=qu(function(s,f,h){s[h?0:1].push(f)},function(){return[[],[]]}),G9=it(function(s,f){if(null==s)return[];var h=f.length;return h>1&&kr(s,f[0],f[1])?f=[]:h>2&&kr(f[0],f[1],f[2])&&(f=[f[0]]),rb(s,dr(f,1),[])}),Zu=m4||function(){return fr.Date.now()};function Xb(s,f,h){return f=h?r:f,la(s,T,r,r,r,r,f=s&&null==f?s.length:f)}function Zb(s,f){var h;if("function"!=typeof f)throw new hn(o);return s=tt(s),function(){return--s>0&&(h=f.apply(this,arguments)),s<=1&&(f=r),h}}var tp=it(function(s,f,h){var x=1;if(h.length){var C=Ga(h,Ro(tp));x|=P}return la(s,x,f,h,C)}),Qb=it(function(s,f,h){var x=3;if(h.length){var C=Ga(h,Ro(Qb));x|=P}return la(f,x,s,h,C)});function t_(s,f,h){var x,C,N,U,X,ie,be=0,_e=!1,Ee=!1,Be=!0;if("function"!=typeof s)throw new hn(o);function Me(Vt){var Bn=x,pa=C;return x=C=r,be=Vt,U=s.apply(pa,Bn)}function We(Vt){var Bn=Vt-ie;return ie===r||Bn>=f||Bn<0||Ee&&Vt-be>=N}function ut(){var Vt=Zu();if(We(Vt))return ft(Vt);X=Ns(ut,function rt(Vt){var __=f-(Vt-ie);return Ee?Er(__,N-(Vt-be)):__}(Vt))}function ft(Vt){return X=r,Be&&x?Me(Vt):(x=C=r,U)}function rn(){var Vt=Zu(),Bn=We(Vt);if(x=arguments,C=this,ie=Vt,Bn){if(X===r)return function Ve(Vt){return be=Vt,X=Ns(ut,f),_e?Me(Vt):U}(ie);if(Ee)return fb(X),X=Ns(ut,f),Me(ie)}return X===r&&(X=Ns(ut,f)),U}return f=bn(f)||0,Gt(h)&&(_e=!!h.leading,N=(Ee="maxWait"in h)?Qt(bn(h.maxWait)||0,f):N,Be="trailing"in h?!!h.trailing:Be),rn.cancel=function tn(){X!==r&&fb(X),be=0,x=ie=C=X=r},rn.flush=function Dr(){return X===r?U:ft(Zu())},rn}var z9=it(function(s,f){return Uy(s,1,f)}),F9=it(function(s,f,h){return Uy(s,bn(f)||0,h)});function Qu(s,f){if("function"!=typeof s||null!=f&&"function"!=typeof f)throw new hn(o);var h=function(){var x=arguments,C=f?f.apply(this,x):x[0],N=h.cache;if(N.has(C))return N.get(C);var U=s.apply(this,x);return h.cache=N.set(C,U)||N,U};return h.cache=new(Qu.Cache||oa),h}function Ju(s){if("function"!=typeof s)throw new hn(o);return function(){var f=arguments;switch(f.length){case 0:return!s.call(this);case 1:return!s.call(this,f[0]);case 2:return!s.call(this,f[0],f[1]);case 3:return!s.call(this,f[0],f[1],f[2])}return!s.apply(this,f)}}Qu.Cache=oa;var $9=Iz(function(s,f){var h=(f=1==f.length&&Je(f[0])?Nt(f[0],Qr(je())):Nt(dr(f,1),Qr(je()))).length;return it(function(x){for(var C=-1,N=Er(x.length,h);++C<N;)x[C]=f[C].call(this,x[C]);return Zr(s,this,x)})}),rp=it(function(s,f){var h=Ga(f,Ro(rp));return la(s,P,r,f,h)}),r_=it(function(s,f){var h=Ga(f,Ro(r_));return la(s,64,r,f,h)}),U9=ua(function(s,f){return la(s,256,r,r,r,f)});function An(s,f){return s===f||s!=s&&f!=f}var r6=ju(Sd),n6=ju(function(s,f){return s>=f}),Ri=Ky(function(){return arguments}())?Ky:function(s){return Ht(s)&&xt.call(s,"callee")&&!Ny.call(s,"callee")},Je=de.isArray,a6=gy?Qr(gy):function dz(s){return Ht(s)&&Pr(s)==et};function Hr(s){return null!=s&&ec(s.length)&&!fa(s)}function jt(s){return Ht(s)&&Hr(s)}var $a=b4||pp,o6=my?Qr(my):function pz(s){return Ht(s)&&Pr(s)==S};function np(s){if(!Ht(s))return!1;var f=Pr(s);return f==q||"[object DOMException]"==f||"string"==typeof s.message&&"string"==typeof s.name&&!Ls(s)}function fa(s){if(!Gt(s))return!1;var f=Pr(s);return f==V||f==H||"[object AsyncFunction]"==f||"[object Proxy]"==f}function n_(s){return"number"==typeof s&&s==tt(s)}function ec(s){return"number"==typeof s&&s>-1&&s%1==0&&s<=Q}function Gt(s){var f=typeof s;return null!=s&&("object"==f||"function"==f)}function Ht(s){return null!=s&&"object"==typeof s}var a_=yy?Qr(yy):function vz(s){return Ht(s)&&Cr(s)==K};function i_(s){return"number"==typeof s||Ht(s)&&Pr(s)==pe}function Ls(s){if(!Ht(s)||Pr(s)!=te)return!1;var f=Tu(s);if(null===f)return!0;var h=xt.call(f,"constructor")&&f.constructor;return"function"==typeof h&&h instanceof h&&Ou.call(h)==p4}var ap=by?Qr(by):function gz(s){return Ht(s)&&Pr(s)==he},o_=_y?Qr(_y):function mz(s){return Ht(s)&&Cr(s)==se};function tc(s){return"string"==typeof s||!Je(s)&&Ht(s)&&Pr(s)==ce}function en(s){return"symbol"==typeof s||Ht(s)&&Pr(s)==Ge}var To=xy?Qr(xy):function yz(s){return Ht(s)&&ec(s.length)&&!!kt[Pr(s)]},w6=ju(Pd),O6=ju(function(s,f){return s<=f});function s_(s){if(!s)return[];if(Hr(s))return tc(s)?Sn(s):qr(s);if(Os&&s[Os])return function t4(re){for(var ge,de=[];!(ge=re.next()).done;)de.push(ge.value);return de}(s[Os]());var f=Cr(s);return(f==K?bd:f==se?_u:So)(s)}function da(s){return s?(s=bn(s))===Y||s===-Y?17976931348623157e292*(s<0?-1:1):s==s?s:0:0===s?s:0}function tt(s){var f=da(s),h=f%1;return f==f?h?f-h:f:0}function l_(s){return s?wi(tt(s),0,ne):0}function bn(s){if("number"==typeof s)return s;if(en(s))return NaN;if(Gt(s)){var f="function"==typeof s.valueOf?s.valueOf():s;s=Gt(f)?f+"":f}if("string"!=typeof s)return 0===s?s:+s;s=Ty(s);var h=rd.test(s);return h||xs.test(s)?M3(s.slice(2),h?2:8):hu.test(s)?NaN:+s}function u_(s){return $n(s,$r(s))}function _t(s){return null==s?"":Jr(s)}var C6=Eo(function(s,f){if(Ds(f)||Hr(f))$n(f,tr(f),s);else for(var h in f)xt.call(f,h)&&Ss(s,h,f[h])}),c_=Eo(function(s,f){$n(f,$r(f),s)}),rc=Eo(function(s,f,h,x){$n(f,$r(f),s,x)}),R6=Eo(function(s,f,h,x){$n(f,tr(f),s,x)}),T6=ua(Cd),I6=it(function(s,f){s=Rt(s);var h=-1,x=f.length,C=x>2?f[2]:r;for(C&&kr(f[0],f[1],C)&&(x=1);++h<x;)for(var N=f[h],U=$r(N),X=-1,ie=U.length;++X<ie;){var be=U[X],_e=s[be];(_e===r||An(_e,_o[be])&&!xt.call(s,be))&&(s[be]=N[be])}return s}),A6=it(function(s){return s.push(r,Tb),Zr(f_,r,s)});function ip(s,f,h){var x=null==s?r:Oi(s,f);return x===r?h:x}function op(s,f){return null!=s&&Ab(s,f,uz)}var F6=wb(function(s,f,h){null!=f&&"function"!=typeof f.toString&&(f=Eu.call(f)),s[f]=h},lp(Ur)),q6=wb(function(s,f,h){null!=f&&"function"!=typeof f.toString&&(f=Eu.call(f)),xt.call(s,f)?s[f].push(h):s[f]=[h]},je),H6=it(As);function tr(s){return Hr(s)?Fy(s):Bd(s)}function $r(s){return Hr(s)?Fy(s,!0):function bz(s){if(!Gt(s))return function tF(s){var f=[];if(null!=s)for(var h in Rt(s))f.push(h);return f}(s);var f=Ds(s),h=[];for(var x in s)"constructor"==x&&(f||!xt.call(s,x))||h.push(x);return h}(s)}var j6=Eo(function(s,f,h){Mu(s,f,h)}),f_=Eo(function(s,f,h,x){Mu(s,f,h,x)}),V6=ua(function(s,f){var h={};if(null==s)return h;var x=!1;f=Nt(f,function(N){return N=qa(N,s),x||(x=N.length>1),N}),$n(s,jd(s),h),x&&(h=gn(h,7,Fz));for(var C=f.length;C--;)Gd(h,f[C]);return h}),Y6=ua(function(s,f){return null==s?{}:function xz(s,f){return nb(s,f,function(h,x){return op(s,x)})}(s,f)});function d_(s,f){if(null==s)return{};var h=Nt(jd(s),function(x){return[x]});return f=je(f),nb(s,h,function(x,C){return f(x,C[0])})}var p_=Cb(tr),h_=Cb($r);function So(s){return null==s?[]:yd(s,tr(s))}var o8=Co(function(s,f,h){return f=f.toLowerCase(),s+(h?v_(f):f)});function v_(s){return sp(_t(s).toLowerCase())}function g_(s){return(s=_t(s))&&s.replace(mi,X3).replace(T3,"")}var c8=Co(function(s,f,h){return s+(h?"-":"")+f.toLowerCase()}),f8=Co(function(s,f,h){return s+(h?" ":"")+f.toLowerCase()}),d8=bb("toLowerCase"),b8=Co(function(s,f,h){return s+(h?"_":"")+f.toLowerCase()}),x8=Co(function(s,f,h){return s+(h?" ":"")+sp(f)}),B8=Co(function(s,f,h){return s+(h?" ":"")+f.toUpperCase()}),sp=bb("toUpperCase");function m_(s,f,h){return s=_t(s),(f=h?r:f)===r?function e4(re){return A3.test(re)}(s)?function l4(re){return re.match(S3)||[]}(s):function j3(re){return re.match(td)||[]}(s):s.match(f)||[]}var y_=it(function(s,f){try{return Zr(s,r,f)}catch(h){return np(h)?h:new Ze(h)}}),P8=ua(function(s,f){return pn(f,function(h){h=Un(h),sa(s,h,tp(s[h],s))}),s});function lp(s){return function(){return s}}var L8=xb(),G8=xb(!0);function Ur(s){return s}function up(s){return Zy("function"==typeof s?s:gn(s,1))}var F8=it(function(s,f){return function(h){return As(h,s,f)}}),q8=it(function(s,f){return function(h){return As(s,h,f)}});function cp(s,f,h){var x=tr(f),C=Gu(f,x);null==h&&(!Gt(f)||!C.length&&x.length)&&(h=f,f=s,s=this,C=Gu(f,tr(f)));var N=!(Gt(h)&&"chain"in h&&!h.chain),U=fa(s);return pn(C,function(X){var ie=f[X];s[X]=ie,U&&(s.prototype[X]=function(){var be=this.__chain__;if(N||be){var _e=s(this.__wrapped__);return(_e.__actions__=qr(this.__actions__)).push({func:ie,args:arguments,thisArg:s}),_e.__chain__=be,_e}return ie.apply(s,La([this.value()],arguments))})}),s}function fp(){}var U8=Hd(Nt),j8=Hd(wy),V8=Hd(pd);function b_(s){return Kd(s)?hd(Un(s)):function wz(s){return function(f){return Oi(f,s)}}(s)}var Y8=Ob(),K8=Ob(!0);function dp(){return[]}function pp(){return!1}var rq=$u(function(s,f){return s+f},0),nq=$d("ceil"),aq=$u(function(s,f){return s/f},1),iq=$d("floor"),dq=$u(function(s,f){return s*f},1),pq=$d("round"),hq=$u(function(s,f){return s-f},0);return A.after=function M9(s,f){if("function"!=typeof f)throw new hn(o);return s=tt(s),function(){if(--s<1)return f.apply(this,arguments)}},A.ary=Xb,A.assign=C6,A.assignIn=c_,A.assignInWith=rc,A.assignWith=R6,A.at=T6,A.before=Zb,A.bind=tp,A.bindAll=P8,A.bindKey=Qb,A.castArray=function X9(){if(!arguments.length)return[];var s=arguments[0];return Je(s)?s:[s]},A.chain=Wb,A.chunk=function iF(s,f,h){f=(h?kr(s,f,h):f===r)?1:Qt(tt(f),0);var x=null==s?0:s.length;if(!x||f<1)return[];for(var C=0,N=0,U=de(Au(x/f));C<x;)U[N++]=mn(s,C,C+=f);return U},A.compact=function oF(s){for(var f=-1,h=null==s?0:s.length,x=0,C=[];++f<h;){var N=s[f];N&&(C[x++]=N)}return C},A.concat=function sF(){var s=arguments.length;if(!s)return[];for(var f=de(s-1),h=arguments[0],x=s;x--;)f[x-1]=arguments[x];return La(Je(h)?qr(h):[h],dr(f,1))},A.cond=function k8(s){var f=null==s?0:s.length,h=je();return s=f?Nt(s,function(x){if("function"!=typeof x[1])throw new hn(o);return[h(x[0]),x[1]]}):[],it(function(x){for(var C=-1;++C<f;){var N=s[C];if(Zr(N[0],this,x))return Zr(N[1],this,x)}})},A.conforms=function D8(s){return function iz(s){var f=tr(s);return function(h){return $y(h,s,f)}}(gn(s,1))},A.constant=lp,A.countBy=v9,A.create=function S6(s,f){var h=Oo(s);return null==f?h:Hy(h,f)},A.curry=function Jb(s,f,h){var x=la(s,8,r,r,r,r,r,f=h?r:f);return x.placeholder=Jb.placeholder,x},A.curryRight=function e_(s,f,h){var x=la(s,16,r,r,r,r,r,f=h?r:f);return x.placeholder=e_.placeholder,x},A.debounce=t_,A.defaults=I6,A.defaultsDeep=A6,A.defer=z9,A.delay=F9,A.difference=lF,A.differenceBy=uF,A.differenceWith=cF,A.drop=function fF(s,f,h){var x=null==s?0:s.length;return x?mn(s,(f=h||f===r?1:tt(f))<0?0:f,x):[]},A.dropRight=function dF(s,f,h){var x=null==s?0:s.length;return x?mn(s,0,(f=x-(f=h||f===r?1:tt(f)))<0?0:f):[]},A.dropRightWhile=function pF(s,f){return s&&s.length?Fu(s,je(f,3),!0,!0):[]},A.dropWhile=function hF(s,f){return s&&s.length?Fu(s,je(f,3),!0):[]},A.fill=function vF(s,f,h,x){var C=null==s?0:s.length;return C?(h&&"number"!=typeof h&&kr(s,f,h)&&(h=0,x=C),function sz(s,f,h,x){var C=s.length;for((h=tt(h))<0&&(h=-h>C?0:C+h),(x=x===r||x>C?C:tt(x))<0&&(x+=C),x=h>x?0:l_(x);h<x;)s[h++]=f;return s}(s,f,h,x)):[]},A.filter=function m9(s,f){return(Je(s)?Na:Vy)(s,je(f,3))},A.flatMap=function _9(s,f){return dr(Xu(s,f),1)},A.flatMapDeep=function x9(s,f){return dr(Xu(s,f),Y)},A.flatMapDepth=function w9(s,f,h){return h=h===r?1:tt(h),dr(Xu(s,f),h)},A.flatten=$b,A.flattenDeep=function gF(s){return null!=s&&s.length?dr(s,Y):[]},A.flattenDepth=function mF(s,f){return null!=s&&s.length?dr(s,f=f===r?1:tt(f)):[]},A.flip=function q9(s){return la(s,512)},A.flow=L8,A.flowRight=G8,A.fromPairs=function yF(s){for(var f=-1,h=null==s?0:s.length,x={};++f<h;){var C=s[f];x[C[0]]=C[1]}return x},A.functions=function G6(s){return null==s?[]:Gu(s,tr(s))},A.functionsIn=function M6(s){return null==s?[]:Gu(s,$r(s))},A.groupBy=O9,A.initial=function _F(s){return null!=s&&s.length?mn(s,0,-1):[]},A.intersection=xF,A.intersectionBy=wF,A.intersectionWith=OF,A.invert=F6,A.invertBy=q6,A.invokeMap=C9,A.iteratee=up,A.keyBy=R9,A.keys=tr,A.keysIn=$r,A.map=Xu,A.mapKeys=function $6(s,f){var h={};return f=je(f,3),Hn(s,function(x,C,N){sa(h,f(x,C,N),x)}),h},A.mapValues=function U6(s,f){var h={};return f=je(f,3),Hn(s,function(x,C,N){sa(h,C,f(x,C,N))}),h},A.matches=function M8(s){return Jy(gn(s,1))},A.matchesProperty=function z8(s,f){return eb(s,gn(f,1))},A.memoize=Qu,A.merge=j6,A.mergeWith=f_,A.method=F8,A.methodOf=q8,A.mixin=cp,A.negate=Ju,A.nthArg=function $8(s){return s=tt(s),it(function(f){return tb(f,s)})},A.omit=V6,A.omitBy=function W6(s,f){return d_(s,Ju(je(f)))},A.once=function H9(s){return Zb(2,s)},A.orderBy=function T9(s,f,h,x){return null==s?[]:(Je(f)||(f=null==f?[]:[f]),Je(h=x?r:h)||(h=null==h?[]:[h]),rb(s,f,h))},A.over=U8,A.overArgs=$9,A.overEvery=j8,A.overSome=V8,A.partial=rp,A.partialRight=r_,A.partition=S9,A.pick=Y6,A.pickBy=d_,A.property=b_,A.propertyOf=function W8(s){return function(f){return null==s?r:Oi(s,f)}},A.pull=TF,A.pullAll=jb,A.pullAllBy=function SF(s,f,h){return s&&s.length&&f&&f.length?kd(s,f,je(h,2)):s},A.pullAllWith=function IF(s,f,h){return s&&s.length&&f&&f.length?kd(s,f,r,h):s},A.pullAt=AF,A.range=Y8,A.rangeRight=K8,A.rearg=U9,A.reject=function B9(s,f){return(Je(s)?Na:Vy)(s,Ju(je(f,3)))},A.remove=function BF(s,f){var h=[];if(!s||!s.length)return h;var x=-1,C=[],N=s.length;for(f=je(f,3);++x<N;){var U=s[x];f(U,x,s)&&(h.push(U),C.push(x))}return ab(s,C),h},A.rest=function j9(s,f){if("function"!=typeof s)throw new hn(o);return it(s,f=f===r?f:tt(f))},A.reverse=Jd,A.sampleSize=function k9(s,f,h){return f=(h?kr(s,f,h):f===r)?1:tt(f),(Je(s)?tz:Cz)(s,f)},A.set=function X6(s,f,h){return null==s?s:Ps(s,f,h)},A.setWith=function Z6(s,f,h,x){return x="function"==typeof x?x:r,null==s?s:Ps(s,f,h,x)},A.shuffle=function D9(s){return(Je(s)?rz:Tz)(s)},A.slice=function PF(s,f,h){var x=null==s?0:s.length;return x?(h&&"number"!=typeof h&&kr(s,f,h)?(f=0,h=x):(f=null==f?0:tt(f),h=h===r?x:tt(h)),mn(s,f,h)):[]},A.sortBy=G9,A.sortedUniq=function zF(s){return s&&s.length?ob(s):[]},A.sortedUniqBy=function FF(s,f){return s&&s.length?ob(s,je(f,2)):[]},A.split=function _8(s,f,h){return h&&"number"!=typeof h&&kr(s,f,h)&&(f=h=r),(h=h===r?ne:h>>>0)?(s=_t(s))&&("string"==typeof f||null!=f&&!ap(f))&&!(f=Jr(f))&&mo(s)?Ha(Sn(s),0,h):s.split(f,h):[]},A.spread=function V9(s,f){if("function"!=typeof s)throw new hn(o);return f=null==f?0:Qt(tt(f),0),it(function(h){var x=h[f],C=Ha(h,0,f);return x&&La(C,x),Zr(s,this,C)})},A.tail=function qF(s){var f=null==s?0:s.length;return f?mn(s,1,f):[]},A.take=function HF(s,f,h){return s&&s.length?mn(s,0,(f=h||f===r?1:tt(f))<0?0:f):[]},A.takeRight=function $F(s,f,h){var x=null==s?0:s.length;return x?mn(s,(f=x-(f=h||f===r?1:tt(f)))<0?0:f,x):[]},A.takeRightWhile=function UF(s,f){return s&&s.length?Fu(s,je(f,3),!1,!0):[]},A.takeWhile=function jF(s,f){return s&&s.length?Fu(s,je(f,3)):[]},A.tap=function o9(s,f){return f(s),s},A.throttle=function W9(s,f,h){var x=!0,C=!0;if("function"!=typeof s)throw new hn(o);return Gt(h)&&(x="leading"in h?!!h.leading:x,C="trailing"in h?!!h.trailing:C),t_(s,f,{leading:x,maxWait:f,trailing:C})},A.thru=Ku,A.toArray=s_,A.toPairs=p_,A.toPairsIn=h_,A.toPath=function eq(s){return Je(s)?Nt(s,Un):en(s)?[s]:qr(zb(_t(s)))},A.toPlainObject=u_,A.transform=function Q6(s,f,h){var x=Je(s),C=x||$a(s)||To(s);if(f=je(f,4),null==h){var N=s&&s.constructor;h=C?x?new N:[]:Gt(s)&&fa(N)?Oo(Tu(s)):{}}return(C?pn:Hn)(s,function(U,X,ie){return f(h,U,X,ie)}),h},A.unary=function Y9(s){return Xb(s,1)},A.union=VF,A.unionBy=WF,A.unionWith=YF,A.uniq=function KF(s){return s&&s.length?Fa(s):[]},A.uniqBy=function XF(s,f){return s&&s.length?Fa(s,je(f,2)):[]},A.uniqWith=function ZF(s,f){return f="function"==typeof f?f:r,s&&s.length?Fa(s,r,f):[]},A.unset=function J6(s,f){return null==s||Gd(s,f)},A.unzip=ep,A.unzipWith=Vb,A.update=function e8(s,f,h){return null==s?s:lb(s,f,Fd(h))},A.updateWith=function t8(s,f,h,x){return x="function"==typeof x?x:r,null==s?s:lb(s,f,Fd(h),x)},A.values=So,A.valuesIn=function r8(s){return null==s?[]:yd(s,$r(s))},A.without=QF,A.words=m_,A.wrap=function K9(s,f){return rp(Fd(f),s)},A.xor=JF,A.xorBy=e9,A.xorWith=t9,A.zip=r9,A.zipObject=function n9(s,f){return cb(s||[],f||[],Ss)},A.zipObjectDeep=function a9(s,f){return cb(s||[],f||[],Ps)},A.zipWith=i9,A.entries=p_,A.entriesIn=h_,A.extend=c_,A.extendWith=rc,cp(A,A),A.add=rq,A.attempt=y_,A.camelCase=o8,A.capitalize=v_,A.ceil=nq,A.clamp=function n8(s,f,h){return h===r&&(h=f,f=r),h!==r&&(h=(h=bn(h))==h?h:0),f!==r&&(f=(f=bn(f))==f?f:0),wi(bn(s),f,h)},A.clone=function Z9(s){return gn(s,4)},A.cloneDeep=function J9(s){return gn(s,5)},A.cloneDeepWith=function e6(s,f){return gn(s,5,f="function"==typeof f?f:r)},A.cloneWith=function Q9(s,f){return gn(s,4,f="function"==typeof f?f:r)},A.conformsTo=function t6(s,f){return null==f||$y(s,f,tr(f))},A.deburr=g_,A.defaultTo=function N8(s,f){return null==s||s!=s?f:s},A.divide=aq,A.endsWith=function s8(s,f,h){s=_t(s),f=Jr(f);var x=s.length,C=h=h===r?x:wi(tt(h),0,x);return(h-=f.length)>=0&&s.slice(h,C)==f},A.eq=An,A.escape=function l8(s){return(s=_t(s))&&po.test(s)?s.replace(Mn,Z3):s},A.escapeRegExp=function u8(s){return(s=_t(s))&&ys.test(s)?s.replace(qn,"\\$&"):s},A.every=function g9(s,f,h){var x=Je(s)?wy:oz;return h&&kr(s,f,h)&&(f=r),x(s,je(f,3))},A.find=y9,A.findIndex=qb,A.findKey=function B6(s,f){return Oy(s,je(f,3),Hn)},A.findLast=b9,A.findLastIndex=Hb,A.findLastKey=function P6(s,f){return Oy(s,je(f,3),Td)},A.floor=iq,A.forEach=Yb,A.forEachRight=Kb,A.forIn=function k6(s,f){return null==s?s:Rd(s,je(f,3),$r)},A.forInRight=function D6(s,f){return null==s?s:Wy(s,je(f,3),$r)},A.forOwn=function N6(s,f){return s&&Hn(s,je(f,3))},A.forOwnRight=function L6(s,f){return s&&Td(s,je(f,3))},A.get=ip,A.gt=r6,A.gte=n6,A.has=function z6(s,f){return null!=s&&Ab(s,f,lz)},A.hasIn=op,A.head=Ub,A.identity=Ur,A.includes=function E9(s,f,h,x){s=Hr(s)?s:So(s),h=h&&!x?tt(h):0;var C=s.length;return h<0&&(h=Qt(C+h,0)),tc(s)?h<=C&&s.indexOf(f,h)>-1:!!C&&go(s,f,h)>-1},A.indexOf=function bF(s,f,h){var x=null==s?0:s.length;if(!x)return-1;var C=null==h?0:tt(h);return C<0&&(C=Qt(x+C,0)),go(s,f,C)},A.inRange=function a8(s,f,h){return f=da(f),h===r?(h=f,f=0):h=da(h),function cz(s,f,h){return s>=Er(f,h)&&s<Qt(f,h)}(s=bn(s),f,h)},A.invoke=H6,A.isArguments=Ri,A.isArray=Je,A.isArrayBuffer=a6,A.isArrayLike=Hr,A.isArrayLikeObject=jt,A.isBoolean=function i6(s){return!0===s||!1===s||Ht(s)&&Pr(s)==O},A.isBuffer=$a,A.isDate=o6,A.isElement=function s6(s){return Ht(s)&&1===s.nodeType&&!Ls(s)},A.isEmpty=function l6(s){if(null==s)return!0;if(Hr(s)&&(Je(s)||"string"==typeof s||"function"==typeof s.splice||$a(s)||To(s)||Ri(s)))return!s.length;var f=Cr(s);if(f==K||f==se)return!s.size;if(Ds(s))return!Bd(s).length;for(var h in s)if(xt.call(s,h))return!1;return!0},A.isEqual=function u6(s,f){return Bs(s,f)},A.isEqualWith=function c6(s,f,h){var x=(h="function"==typeof h?h:r)?h(s,f):r;return x===r?Bs(s,f,r,h):!!x},A.isError=np,A.isFinite=function f6(s){return"number"==typeof s&&Gy(s)},A.isFunction=fa,A.isInteger=n_,A.isLength=ec,A.isMap=a_,A.isMatch=function d6(s,f){return s===f||Ad(s,f,Wd(f))},A.isMatchWith=function p6(s,f,h){return h="function"==typeof h?h:r,Ad(s,f,Wd(f),h)},A.isNaN=function h6(s){return i_(s)&&s!=+s},A.isNative=function v6(s){if(Qz(s))throw new Ze("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Xy(s)},A.isNil=function m6(s){return null==s},A.isNull=function g6(s){return null===s},A.isNumber=i_,A.isObject=Gt,A.isObjectLike=Ht,A.isPlainObject=Ls,A.isRegExp=ap,A.isSafeInteger=function y6(s){return n_(s)&&s>=-Q&&s<=Q},A.isSet=o_,A.isString=tc,A.isSymbol=en,A.isTypedArray=To,A.isUndefined=function b6(s){return s===r},A.isWeakMap=function _6(s){return Ht(s)&&Cr(s)==Le},A.isWeakSet=function x6(s){return Ht(s)&&"[object WeakSet]"==Pr(s)},A.join=function EF(s,f){return null==s?"":_4.call(s,f)},A.kebabCase=c8,A.last=yn,A.lastIndexOf=function CF(s,f,h){var x=null==s?0:s.length;if(!x)return-1;var C=x;return h!==r&&(C=(C=tt(h))<0?Qt(x+C,0):Er(C,x-1)),f==f?function a4(re,ge,de){for(var ke=de+1;ke--;)if(re[ke]===ge)return ke;return ke}(s,f,C):bu(s,Ey,C,!0)},A.lowerCase=f8,A.lowerFirst=d8,A.lt=w6,A.lte=O6,A.max=function oq(s){return s&&s.length?Lu(s,Ur,Sd):r},A.maxBy=function sq(s,f){return s&&s.length?Lu(s,je(f,2),Sd):r},A.mean=function lq(s){return Cy(s,Ur)},A.meanBy=function uq(s,f){return Cy(s,je(f,2))},A.min=function cq(s){return s&&s.length?Lu(s,Ur,Pd):r},A.minBy=function fq(s,f){return s&&s.length?Lu(s,je(f,2),Pd):r},A.stubArray=dp,A.stubFalse=pp,A.stubObject=function X8(){return{}},A.stubString=function Z8(){return""},A.stubTrue=function Q8(){return!0},A.multiply=dq,A.nth=function RF(s,f){return s&&s.length?tb(s,tt(f)):r},A.noConflict=function H8(){return fr._===this&&(fr._=h4),this},A.noop=fp,A.now=Zu,A.pad=function p8(s,f,h){s=_t(s);var x=(f=tt(f))?yo(s):0;if(!f||x>=f)return s;var C=(f-x)/2;return Uu(Bu(C),h)+s+Uu(Au(C),h)},A.padEnd=function h8(s,f,h){s=_t(s);var x=(f=tt(f))?yo(s):0;return f&&x<f?s+Uu(f-x,h):s},A.padStart=function v8(s,f,h){s=_t(s);var x=(f=tt(f))?yo(s):0;return f&&x<f?Uu(f-x,h)+s:s},A.parseInt=function g8(s,f,h){return h||null==f?f=0:f&&(f=+f),O4(_t(s).replace(Tn,""),f||0)},A.random=function i8(s,f,h){if(h&&"boolean"!=typeof h&&kr(s,f,h)&&(f=h=r),h===r&&("boolean"==typeof f?(h=f,f=r):"boolean"==typeof s&&(h=s,s=r)),s===r&&f===r?(s=0,f=1):(s=da(s),f===r?(f=s,s=0):f=da(f)),s>f){var x=s;s=f,f=x}if(h||s%1||f%1){var C=My();return Er(s+C*(f-s+G3("1e-"+((C+"").length-1))),f)}return Dd(s,f)},A.reduce=function I9(s,f,h){var x=Je(s)?dd:Ry,C=arguments.length<3;return x(s,je(f,4),h,C,za)},A.reduceRight=function A9(s,f,h){var x=Je(s)?H3:Ry,C=arguments.length<3;return x(s,je(f,4),h,C,jy)},A.repeat=function m8(s,f,h){return f=(h?kr(s,f,h):f===r)?1:tt(f),Nd(_t(s),f)},A.replace=function y8(){var s=arguments,f=_t(s[0]);return s.length<3?f:f.replace(s[1],s[2])},A.result=function K6(s,f,h){var x=-1,C=(f=qa(f,s)).length;for(C||(C=1,s=r);++x<C;){var N=null==s?r:s[Un(f[x])];N===r&&(x=C,N=h),s=fa(N)?N.call(s):N}return s},A.round=pq,A.runInContext=re,A.sample=function P9(s){return(Je(s)?qy:Ez)(s)},A.size=function N9(s){if(null==s)return 0;if(Hr(s))return tc(s)?yo(s):s.length;var f=Cr(s);return f==K||f==se?s.size:Bd(s).length},A.snakeCase=b8,A.some=function L9(s,f,h){var x=Je(s)?pd:Sz;return h&&kr(s,f,h)&&(f=r),x(s,je(f,3))},A.sortedIndex=function kF(s,f){return zu(s,f)},A.sortedIndexBy=function DF(s,f,h){return Ld(s,f,je(h,2))},A.sortedIndexOf=function NF(s,f){var h=null==s?0:s.length;if(h){var x=zu(s,f);if(x<h&&An(s[x],f))return x}return-1},A.sortedLastIndex=function LF(s,f){return zu(s,f,!0)},A.sortedLastIndexBy=function GF(s,f,h){return Ld(s,f,je(h,2),!0)},A.sortedLastIndexOf=function MF(s,f){if(null!=s&&s.length){var x=zu(s,f,!0)-1;if(An(s[x],f))return x}return-1},A.startCase=x8,A.startsWith=function w8(s,f,h){return s=_t(s),h=null==h?0:wi(tt(h),0,s.length),f=Jr(f),s.slice(h,h+f.length)==f},A.subtract=hq,A.sum=function vq(s){return s&&s.length?gd(s,Ur):0},A.sumBy=function gq(s,f){return s&&s.length?gd(s,je(f,2)):0},A.template=function O8(s,f,h){var x=A.templateSettings;h&&kr(s,f,h)&&(f=r),s=_t(s),f=rc({},f,x,Rb);var X,ie,C=rc({},f.imports,x.imports,Rb),N=tr(C),U=yd(C,N),be=0,_e=f.interpolate||Or,Ee="__p += '",Be=_d((f.escape||Or).source+"|"+_e.source+"|"+(_e===xr?ho:Or).source+"|"+(f.evaluate||Or).source+"|$","g"),Me="//# sourceURL="+(xt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++P3+"]")+"\n";s.replace(Be,function(We,ut,ft,tn,Dr,rn){return ft||(ft=tn),Ee+=s.slice(be,rn).replace(nd,Q3),ut&&(X=!0,Ee+="' +\n__e("+ut+") +\n'"),Dr&&(ie=!0,Ee+="';\n"+Dr+";\n__p += '"),ft&&(Ee+="' +\n((__t = ("+ft+")) == null ? '' : __t) +\n'"),be=rn+We.length,We}),Ee+="';\n";var Ve=xt.call(f,"variable")&&f.variable;if(Ve){if(gi.test(Ve))throw new Ze("Invalid `variable` option passed into `_.template`")}else Ee="with (obj) {\n"+Ee+"\n}\n";Ee=(ie?Ee.replace(cr,""):Ee).replace(Rn,"$1").replace(Gn,"$1;"),Ee="function("+(Ve||"obj")+") {\n"+(Ve?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(X?", __e = _.escape":"")+(ie?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ee+"return __p\n}";var rt=y_(function(){return mt(N,Me+"return "+Ee).apply(r,U)});if(rt.source=Ee,np(rt))throw rt;return rt},A.times=function J8(s,f){if((s=tt(s))<1||s>Q)return[];var h=ne,x=Er(s,ne);f=je(f),s-=ne;for(var C=md(x,f);++h<s;)f(h);return C},A.toFinite=da,A.toInteger=tt,A.toLength=l_,A.toLower=function E8(s){return _t(s).toLowerCase()},A.toNumber=bn,A.toSafeInteger=function E6(s){return s?wi(tt(s),-Q,Q):0===s?s:0},A.toString=_t,A.toUpper=function C8(s){return _t(s).toUpperCase()},A.trim=function R8(s,f,h){if((s=_t(s))&&(h||f===r))return Ty(s);if(!s||!(f=Jr(f)))return s;var x=Sn(s),C=Sn(f);return Ha(x,Sy(x,C),Iy(x,C)+1).join("")},A.trimEnd=function T8(s,f,h){if((s=_t(s))&&(h||f===r))return s.slice(0,By(s)+1);if(!s||!(f=Jr(f)))return s;var x=Sn(s);return Ha(x,0,Iy(x,Sn(f))+1).join("")},A.trimStart=function S8(s,f,h){if((s=_t(s))&&(h||f===r))return s.replace(Tn,"");if(!s||!(f=Jr(f)))return s;var x=Sn(s);return Ha(x,Sy(x,Sn(f))).join("")},A.truncate=function I8(s,f){var h=30,x="...";if(Gt(f)){var C="separator"in f?f.separator:C;h="length"in f?tt(f.length):h,x="omission"in f?Jr(f.omission):x}var N=(s=_t(s)).length;if(mo(s)){var U=Sn(s);N=U.length}if(h>=N)return s;var X=h-yo(x);if(X<1)return x;var ie=U?Ha(U,0,X).join(""):s.slice(0,X);if(C===r)return ie+x;if(U&&(X+=ie.length-X),ap(C)){if(s.slice(X).search(C)){var be,_e=ie;for(C.global||(C=_d(C.source,_t(_s.exec(C))+"g")),C.lastIndex=0;be=C.exec(_e);)var Ee=be.index;ie=ie.slice(0,Ee===r?X:Ee)}}else if(s.indexOf(Jr(C),X)!=X){var Be=ie.lastIndexOf(C);Be>-1&&(ie=ie.slice(0,Be))}return ie+x},A.unescape=function A8(s){return(s=_t(s))&&Da.test(s)?s.replace(na,i4):s},A.uniqueId=function tq(s){var f=++d4;return _t(s)+f},A.upperCase=B8,A.upperFirst=sp,A.each=Yb,A.eachRight=Kb,A.first=Ub,cp(A,function(){var s={};return Hn(A,function(f,h){xt.call(A.prototype,h)||(s[h]=f)}),s}(),{chain:!1}),A.VERSION="4.17.21",pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){A[s].placeholder=A}),pn(["drop","take"],function(s,f){ct.prototype[s]=function(h){h=h===r?1:Qt(tt(h),0);var x=this.__filtered__&&!f?new ct(this):this.clone();return x.__filtered__?x.__takeCount__=Er(h,x.__takeCount__):x.__views__.push({size:Er(h,ne),type:s+(x.__dir__<0?"Right":"")}),x},ct.prototype[s+"Right"]=function(h){return this.reverse()[s](h).reverse()}}),pn(["filter","map","takeWhile"],function(s,f){var h=f+1,x=1==h||3==h;ct.prototype[s]=function(C){var N=this.clone();return N.__iteratees__.push({iteratee:je(C,3),type:h}),N.__filtered__=N.__filtered__||x,N}}),pn(["head","last"],function(s,f){var h="take"+(f?"Right":"");ct.prototype[s]=function(){return this[h](1).value()[0]}}),pn(["initial","tail"],function(s,f){var h="drop"+(f?"":"Right");ct.prototype[s]=function(){return this.__filtered__?new ct(this):this[h](1)}}),ct.prototype.compact=function(){return this.filter(Ur)},ct.prototype.find=function(s){return this.filter(s).head()},ct.prototype.findLast=function(s){return this.reverse().find(s)},ct.prototype.invokeMap=it(function(s,f){return"function"==typeof s?new ct(this):this.map(function(h){return As(h,s,f)})}),ct.prototype.reject=function(s){return this.filter(Ju(je(s)))},ct.prototype.slice=function(s,f){s=tt(s);var h=this;return h.__filtered__&&(s>0||f<0)?new ct(h):(s<0?h=h.takeRight(-s):s&&(h=h.drop(s)),f!==r&&(h=(f=tt(f))<0?h.dropRight(-f):h.take(f-s)),h)},ct.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},ct.prototype.toArray=function(){return this.take(ne)},Hn(ct.prototype,function(s,f){var h=/^(?:filter|find|map|reject)|While$/.test(f),x=/^(?:head|last)$/.test(f),C=A[x?"take"+("last"==f?"Right":""):f],N=x||/^find/.test(f);C&&(A.prototype[f]=function(){var U=this.__wrapped__,X=x?[1]:arguments,ie=U instanceof ct,be=X[0],_e=ie||Je(U),Ee=function(ut){var ft=C.apply(A,La([ut],X));return x&&Be?ft[0]:ft};_e&&h&&"function"==typeof be&&1!=be.length&&(ie=_e=!1);var Be=this.__chain__,Ve=N&&!Be,rt=ie&&!this.__actions__.length;if(!N&&_e){U=rt?U:new ct(this);var We=s.apply(U,X);return We.__actions__.push({func:Ku,args:[Ee],thisArg:r}),new vn(We,Be)}return Ve&&rt?s.apply(this,X):(We=this.thru(Ee),Ve?x?We.value()[0]:We.value():We)})}),pn(["pop","push","shift","sort","splice","unshift"],function(s){var f=xu[s],h=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",x=/^(?:pop|shift)$/.test(s);A.prototype[s]=function(){var C=arguments;if(x&&!this.__chain__){var N=this.value();return f.apply(Je(N)?N:[],C)}return this[h](function(U){return f.apply(Je(U)?U:[],C)})}}),Hn(ct.prototype,function(s,f){var h=A[f];if(h){var x=h.name+"";xt.call(wo,x)||(wo[x]=[]),wo[x].push({name:f,func:h})}}),wo[Hu(r,2).name]=[{name:"wrapper",func:r}],ct.prototype.clone=function A4(){var s=new ct(this.__wrapped__);return s.__actions__=qr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=qr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=qr(this.__views__),s},ct.prototype.reverse=function B4(){if(this.__filtered__){var s=new ct(this);s.__dir__=-1,s.__filtered__=!0}else(s=this.clone()).__dir__*=-1;return s},ct.prototype.value=function P4(){var s=this.__wrapped__.value(),f=this.__dir__,h=Je(s),x=f<0,C=h?s.length:0,N=function Uz(s,f,h){for(var x=-1,C=h.length;++x<C;){var N=h[x],U=N.size;switch(N.type){case"drop":s+=U;break;case"dropRight":f-=U;break;case"take":f=Er(f,s+U);break;case"takeRight":s=Qt(s,f-U)}}return{start:s,end:f}}(0,C,this.__views__),U=N.start,X=N.end,ie=X-U,be=x?X:U-1,_e=this.__iteratees__,Ee=_e.length,Be=0,Me=Er(ie,this.__takeCount__);if(!h||!x&&C==ie&&Me==ie)return ub(s,this.__actions__);var Ve=[];e:for(;ie--&&Be<Me;){for(var rt=-1,We=s[be+=f];++rt<Ee;){var ut=_e[rt],tn=ut.type,Dr=(0,ut.iteratee)(We);if(2==tn)We=Dr;else if(!Dr){if(1==tn)continue e;break e}}Ve[Be++]=We}return Ve},A.prototype.at=s9,A.prototype.chain=function l9(){return Wb(this)},A.prototype.commit=function u9(){return new vn(this.value(),this.__chain__)},A.prototype.next=function c9(){this.__values__===r&&(this.__values__=s_(this.value()));var s=this.__index__>=this.__values__.length;return{done:s,value:s?r:this.__values__[this.__index__++]}},A.prototype.plant=function d9(s){for(var f,h=this;h instanceof Du;){var x=Fb(h);x.__index__=0,x.__values__=r,f?C.__wrapped__=x:f=x;var C=x;h=h.__wrapped__}return C.__wrapped__=s,f},A.prototype.reverse=function p9(){var s=this.__wrapped__;if(s instanceof ct){var f=s;return this.__actions__.length&&(f=new ct(this)),(f=f.reverse()).__actions__.push({func:Ku,args:[Jd],thisArg:r}),new vn(f,this.__chain__)}return this.thru(Jd)},A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=function h9(){return ub(this.__wrapped__,this.__actions__)},A.prototype.first=A.prototype.head,Os&&(A.prototype[Os]=function f9(){return this}),A}();yi?((yi.exports=bo)._=bo,ud._=bo):fr._=bo}).call(pr)});class gp{constructor(){this.categoryType="isa_closure"}}var ue=function(t){return t.GoCellularComponent="GoCellularComponent",t.GoBiologicalProcess="GoBiologicalProcess",t.GoMolecularFunction="GoMolecularFunction",t.GoMolecularEntity="GoMolecularEntity",t.GoCellularAnatomical="GoCellularAnatomical",t.GoProteinContainingComplex="GoProteinContainingComplex",t.GoBiologicalPhase="GoBiologicalPhase",t.GoChemicalEntity="GoChemicalEntity",t.GoCellTypeEntity="GoCellTypeEntity",t.GoAnatomicalEntity="GoAnatomicalEntity",t.GoOrganism="GoOrganism",t.WormLifeStage="WormLifeStage",t.GoChemicalEntityHasInput="GoChemicalEntityHasInput",t.GoChemicalEntityHasOutput="GoChemicalEntityHasOutput",t.GoEvidence="GoEvidence",t.BPPhaseStageExistenceOverlaps="BPPhaseStageExistenceOverlaps",t.BPPhaseStageExistenceStartsEnds="BPPhaseStageExistenceStartsEnds",t.UberonStage="UberonStage",t}(ue||{});class nc{constructor(e){this.entityType=zs.ACTIVITY_NODE,this.rootTypes=[],this.term=new Se("",""),this.termLookup=new Io,this.isExtension=!1,this.nodeGroup={},this.ontologyClass=[],this.isComplement=!1,this.assignedBy=null,this.contributor=null,this.isKey=!1,this.treeLevel=1,this.required=!1,this.termRequired=!1,this.visible=!0,this.skipEvidenceCheck=!1,this.showEvidence=!0,this.errors=[],this.warnings=[],this.status="0",this.relationEditable=!1,this.showInMenu=!1,this.insertMenuNodes=[],this.linkedNode=!1,this.expandable=!0,this.expanded=!1,this.causalNode=!1,this.canDelete=!0,this.chemicalParticipants=[],e&&this.overrideValues(e)}getTerm(){return this.term}get id(){return this._id}set id(e){this._id=e,this.displayId=Ms.cleanID(e)}get classExpression(){return this.term.classExpression}set classExpression(e){this.term.classExpression=e}updateNodeType(){this.hasRootType(Nr)?this.type=ue.GoBiologicalProcess:this.hasRootType(Rr)?this.type=ue.GoMolecularEntity:this.hasRootType(jr)?this.type=ue.GoMolecularFunction:this.hasRootType(Nr)?this.type=ue.GoBiologicalProcess:this.hasRootType(an)&&(this.type=ue.GoCellularComponent)}setTermOntologyClass(e){this.ontologyClass=e}toggleIsComplement(){const e=this;e.isComplement=!e.isComplement,e.nodeGroup.isComplement=e.isComplement}setIsComplement(e){this.isComplement=e}hasValue(){return this.term.hasValue()}hasRootType(e){return!!Ye.find(this.rootTypes,n=>n.id===e.category)}hasRootTypes(e){let r=!1;for(let n=0;n<this.rootTypes.length;n++)for(let a=0;a<e.length;a++)if(this.rootTypes[n].id===e[a].category){r=!0;break}return r}copyValues(e){this.uuid=e.uuid,this.term=e.term,this.assignedBy=e.assignedBy,this.isComplement=e.isComplement}setTermLookup(e){this.termLookup.requestParams=e}setDisplay(e){e&&(this.displaySection=e.displaySection,this.displayGroup=e.displayGroup)}enableRow(){let e=!0;return this.nodeGroup&&this.nodeGroup.isComplement&&this.treeLevel>0&&(e=!1),e}overrideValues(e={}){Object.assign(this,e)}}function ac(t){return t.map(r=>{let n;return n="is_obsolete"===r.categoryType?`${r.categoryType}:${r.category}`:`${r.categoryType}:"${r.category}"`,r.suffix&&(n+=" "+r.suffix),n}).join(" OR ")}function T_(t,e){return t.weight<e.weight?-1:1}const S_={id:ue.GoProteinContainingComplex,category:"GO:0032991",categoryType:"isa_closure",suffix:'OR NOT idspace:"GO"'},rr={id:ue.GoProteinContainingComplex,category:"GO:0032991",categoryType:"isa_closure"},an={id:ue.GoCellularComponent,category:"GO:0005575",categoryType:"isa_closure",suffix:`OR NOT ${rr.categoryType}:"${rr.category}"`},I_={id:ue.GoCellularComponent,category:"GO:0005575",categoryType:"isa_closure"},Nr={id:ue.GoBiologicalProcess,category:"GO:0008150",categoryType:"isa_closure"},jr={id:ue.GoMolecularFunction,category:"GO:0003674",categoryType:"isa_closure"},Rr={id:ue.GoMolecularEntity,category:"CHEBI:33695",categoryType:"isa_closure"},jn={id:ue.GoChemicalEntity,category:"CHEBI:24431",categoryType:"isa_closure"},mp={id:ue.GoEvidence,category:"ECO:0000352",categoryType:"isa_closure"},yp={id:ue.GoCellTypeEntity,category:"CL:0000003",categoryType:"isa_closure"},Ao={id:ue.GoAnatomicalEntity,category:"CARO:0000000",categoryType:"isa_closure"},qs={id:ue.GoOrganism,category:"NCBITaxon",categoryType:"idspace"},A_={id:ue.GoBiologicalPhase,category:"GO:0044848",categoryType:"isa_closure"},ic={id:ue.UberonStage,category:"UBERON:0000105",categoryType:"isa_closure"};var Hs,B_=new Uint8Array(16);function P_(){if(!Hs&&!(Hs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hs(B_)}const k_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var nr=[],oc=0;oc<256;++oc)nr.push((oc+256).toString(16).substr(1));function $s(t,e,r){var n=(t=t||{}).random||(t.rng||P_)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var a=0;a<16;++a)e[r+a]=n[a];return e}return function N_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(nr[t[e+0]]+nr[t[e+1]]+nr[t[e+2]]+nr[t[e+3]]+"-"+nr[t[e+4]]+nr[t[e+5]]+"-"+nr[t[e+6]]+nr[t[e+7]]+"-"+nr[t[e+8]]+nr[t[e+9]]+"-"+nr[t[e+10]]+nr[t[e+11]]+nr[t[e+12]]+nr[t[e+13]]+nr[t[e+14]]+nr[t[e+15]]).toLowerCase();if(!function D_(t){return"string"==typeof t&&k_.test(t)}(r))throw TypeError("Stringified UUID is invalid");return r}(n)}class Us{constructor(e,r,n){this.id=$s(),this.subject=e,this.object=r,this.predicate=n}isTripleComplete(){return this.subject&&this.object&&this.predicate}}class sc{constructor(){this.entityType=zs.EVIDENCE,this.evidence=new Se("",""),this.referenceEntity=new Se("",""),this.withEntity=new Se("",""),this.groups=[],this.contributors=[],this.evidenceRequired=!1,this.referenceRequired=!1,this.ontologyClass=[],this.evidenceExts=[]}hasValue(){return this.evidence.id&&this.reference}setEvidenceOntologyClass(e){this.ontologyClass=e}setEvidence(e,r){this.evidence=e,r&&(this.classExpression=r)}clearValues(){const e=this;e.setEvidence(new Se("","")),e.reference="",e.with=""}isEvidenceEqual(e){const r=this;let n=!0;return n=n&&Ye.isEqual(r.evidence,e.evidence),n=n&&Ye.isEqual(r.reference,e.reference),n=n&&Ye.isEqual(r.with,e.with),n}}class js{constructor(e,r){this._edge=new Se("",""),this.isComplement=!1,this.isReverseLink=!1,this.comments=[],this.evidenceLookup=new Io,this.referenceLookup=new Io,this.withLookup=new Io,this._evidenceMeta={lookupBase:"",ontologyClass:"eco"},this.visible=!0,this.edge=e,this.evidence=r||[]}get edge(){return this._edge}set edge(e){this._edge=e||new Se("","")}setEvidenceMeta(e,r){this._evidenceMeta.lookupBase=r,this._evidenceMeta.ontologyClass=e,this.evidenceLookup.requestParams=JSON.parse(JSON.stringify(r)),this.addEvidence()}setEvidence(e){const r=this;r.evidence=[],Ye.each(e,function(n,a){r.addEvidence(n)})}addEvidence(e){const n=e?Ye.cloneDeep(e):new sc;return n.setEvidenceOntologyClass(this._evidenceMeta.ontologyClass),this.evidence.push(n),n}hasEvidence(){return!!this.evidence&&(this.evidence.length>1||this.evidence.length>0&&!!this.evidence[0].hasValue())}getEvidenceById(e){return Ye.find(this.evidence,n=>n.uuid===e)}}function lc(t,e,r){return t._nodes[r]=e,t._edges[r]=[],t}function bp(t,e){return t._edges[e.subjectId].push(e),t}var Si=function U_(t,e){return t===e||t!=t&&e!=e},Vs=function j_(t,e){for(var r=t.length;r--;)if(Si(t[r][0],e))return r;return-1},W_=Array.prototype.splice;function Ii(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ii.prototype.clear=function H_(){this.__data__=[],this.size=0},Ii.prototype.delete=function Y_(t){var e=this.__data__,r=Vs(e,t);return!(r<0||(r==e.length-1?e.pop():W_.call(e,r,1),--this.size,0))},Ii.prototype.get=function X_(t){var e=this.__data__,r=Vs(e,t);return r<0?void 0:e[r][1]},Ii.prototype.has=function Q_(t){return Vs(this.__data__,t)>-1},Ii.prototype.set=function e1(t,e){var r=this.__data__,n=Vs(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var t,Ws=Ii,_p="object"==typeof pr&&pr&&pr.Object===Object&&pr,f1="object"==typeof self&&self&&self.Object===Object&&self,_n=_p||f1||Function("return this")(),on=_n.Symbol,xp=Object.prototype,h1=xp.hasOwnProperty,v1=xp.toString,Bo=on?on.toStringTag:void 0,b1=Object.prototype.toString,wp=on?on.toStringTag:void 0,va=function E1(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":wp&&wp in Object(t)?function g1(t){var e=h1.call(t,Bo),r=t[Bo];try{t[Bo]=void 0;var n=!0}catch{}var a=v1.call(t);return n&&(e?t[Bo]=r:delete t[Bo]),a}(t):function _1(t){return b1.call(t)}(t)},Lr=function C1(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Po=function A1(t){if(!Lr(t))return!1;var e=va(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},B1=_n["__core-js_shared__"],Op=(t=/[^.]+$/.exec(B1&&B1.keys&&B1.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",N1=Function.prototype.toString,ja=function L1(t){if(null!=t){try{return N1.call(t)}catch{}try{return t+""}catch{}}return""},M1=/^\[object .+?Constructor\]$/,$1=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j1=function U1(t){return!(!Lr(t)||function P1(t){return!!Op&&Op in t}(t))&&(Po(t)?$1:M1).test(ja(t))},Va=function Y1(t,e){var r=function V1(t,e){return t?.[e]}(t,e);return j1(r)?r:void 0},ko=Va(_n,"Map"),Do=Va(Object,"create"),nx=Object.prototype.hasOwnProperty,sx=Object.prototype.hasOwnProperty;function Ai(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ai.prototype.clear=function Z1(){this.__data__=Do?Do(null):{},this.size=0},Ai.prototype.delete=function J1(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ai.prototype.get=function ax(t){var e=this.__data__;if(Do){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return nx.call(e,t)?e[t]:void 0},Ai.prototype.has=function lx(t){var e=this.__data__;return Do?void 0!==e[t]:sx.call(e,t)},Ai.prototype.set=function fx(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Do&&void 0===e?"__lodash_hash_undefined__":e,this};var Ep=Ai,Ys=function mx(t,e){var r=t.__data__;return function vx(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function Bi(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bi.prototype.clear=function px(){this.size=0,this.__data__={hash:new Ep,map:new(ko||Ws),string:new Ep}},Bi.prototype.delete=function yx(t){var e=Ys(this,t).delete(t);return this.size-=e?1:0,e},Bi.prototype.get=function _x(t){return Ys(this,t).get(t)},Bi.prototype.has=function wx(t){return Ys(this,t).has(t)},Bi.prototype.set=function Ex(t,e){var r=Ys(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var Ks=Bi;function Pi(t){var e=this.__data__=new Ws(t);this.size=e.size}Pi.prototype.clear=function r1(){this.__data__=new Ws,this.size=0},Pi.prototype.delete=function a1(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Pi.prototype.get=function o1(t){return this.__data__.get(t)},Pi.prototype.has=function l1(t){return this.__data__.has(t)},Pi.prototype.set=function Tx(t,e){var r=this.__data__;if(r instanceof Ws){var n=r.__data__;if(!ko||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ks(n)}return r.set(t,e),this.size=r.size,this};var ki=Pi,cc=function Ix(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},Ax=function(){try{var t=Va(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Xs=Ax,Zs=function Bx(t,e,r){"__proto__"==e&&Xs?Xs(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},kx=Object.prototype.hasOwnProperty,Qs=function Dx(t,e,r){var n=t[e];(!kx.call(t,e)||!Si(n,r)||void 0===r&&!(e in t))&&Zs(t,e,r)},No=function Nx(t,e,r,n){var a=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var l=e[i],u=n?n(r[l],t[l],l,r,t):void 0;void 0===u&&(u=t[l]),a?Zs(r,l,u):Qs(r,l,u)}return r},xn=function Mx(t){return null!=t&&"object"==typeof t},Cp=function Fx(t){return xn(t)&&"[object Arguments]"==va(t)},Rp=Object.prototype,qx=Rp.hasOwnProperty,Hx=Rp.propertyIsEnumerable,$x=Cp(function(){return arguments}())?Cp:function(t){return xn(t)&&qx.call(t,"callee")&&!Hx.call(t,"callee")},Di=$x,Mt=Array.isArray,Vx=function jx(){return!1},Wa=Ua(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r?_n.Buffer:void 0;t.exports=(i?i.isBuffer:void 0)||Vx}),Yx=/^(?:0|[1-9]\d*)$/,Js=function Kx(t,e){var r=typeof t;return!!(e=e??9007199254740991)&&("number"==r||"symbol"!=r&&Yx.test(t))&&t>-1&&t%1==0&&t<e},fc=function Zx(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Bt={};Bt["[object Float32Array]"]=Bt["[object Float64Array]"]=Bt["[object Int8Array]"]=Bt["[object Int16Array]"]=Bt["[object Int32Array]"]=Bt["[object Uint8Array]"]=Bt["[object Uint8ClampedArray]"]=Bt["[object Uint16Array]"]=Bt["[object Uint32Array]"]=!0,Bt["[object Arguments]"]=Bt["[object Array]"]=Bt["[object ArrayBuffer]"]=Bt["[object Boolean]"]=Bt["[object DataView]"]=Bt["[object Date]"]=Bt["[object Error]"]=Bt["[object Function]"]=Bt["[object Map]"]=Bt["[object Number]"]=Bt["[object Object]"]=Bt["[object RegExp]"]=Bt["[object Set]"]=Bt["[object String]"]=Bt["[object WeakMap]"]=!1;var el=function Ew(t){return function(e){return t(e)}},Ni=Ua(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r&&_p.process,o=function(){try{return n&&n.require&&n.require("util").types||i&&i.binding&&i.binding("util")}catch{}}();t.exports=o}),Tp=Ni&&Ni.isTypedArray,Lo=Tp?el(Tp):function ww(t){return xn(t)&&fc(t.length)&&!!Bt[va(t)]},Tw=Object.prototype.hasOwnProperty,Sp=function Sw(t,e){var r=Mt(t),n=!r&&Di(t),a=!r&&!n&&Wa(t),i=!r&&!n&&!a&&Lo(t),o=r||n||a||i,l=o?function Lx(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=l.length;for(var c in t)(e||Tw.call(t,c))&&(!o||!("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Js(c,u)))&&l.push(c);return l},Iw=Object.prototype,tl=function Aw(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Iw)},Ip=function Bw(t,e){return function(r){return t(e(r))}},kw=Ip(Object.keys,Object),Nw=Object.prototype.hasOwnProperty,dc=function Lw(t){if(!tl(t))return kw(t);var e=[];for(var r in Object(t))Nw.call(t,r)&&"constructor"!=r&&e.push(r);return e},Vn=function Gw(t){return null!=t&&fc(t.length)&&!Po(t)},ga=function Mw(t){return Vn(t)?Sp(t):dc(t)},Uw=Object.prototype.hasOwnProperty,Vw=function jw(t){if(!Lr(t))return function qw(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=tl(t),r=[];for(var n in t)"constructor"==n&&(e||!Uw.call(t,n))||r.push(n);return r},Ya=function Ww(t){return Vn(t)?Sp(t,!0):Vw(t)},Ap=Ua(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r?_n.Buffer:void 0,o=i?i.allocUnsafe:void 0;t.exports=function l(u,c){if(c)return u.slice();var d=u.length,p=o?o(d):new u.constructor(d);return u.copy(p),p}}),Bp=function Xw(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},Pp=function Zw(t,e){for(var r=-1,n=null==t?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i},kp=function Qw(){return[]},e2=Object.prototype.propertyIsEnumerable,Dp=Object.getOwnPropertySymbols,t2=Dp?function(t){return null==t?[]:(t=Object(t),Pp(Dp(t),function(e){return e2.call(t,e)}))}:kp,pc=t2,hc=function a2(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t},rl=Ip(Object.getPrototypeOf,Object),s2=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)hc(e,pc(t)),t=rl(t);return e}:kp,Np=s2,Lp=function c2(t,e,r){var n=e(t);return Mt(t)?n:hc(n,r(t))},vc=function f2(t){return Lp(t,ga,pc)},p2=function d2(t){return Lp(t,Ya,Np)},gc=Va(_n,"DataView"),mc=Va(_n,"Promise"),Li=Va(_n,"Set"),yc=Va(_n,"WeakMap"),Gp="[object Map]",Mp="[object Promise]",zp="[object Set]",Fp="[object WeakMap]",qp="[object DataView]",b2=ja(gc),_2=ja(ko),x2=ja(mc),w2=ja(Li),O2=ja(yc),Ka=va;(gc&&Ka(new gc(new ArrayBuffer(1)))!=qp||ko&&Ka(new ko)!=Gp||mc&&Ka(mc.resolve())!=Mp||Li&&Ka(new Li)!=zp||yc&&Ka(new yc)!=Fp)&&(Ka=function(t){var e=va(t),r="[object Object]"==e?t.constructor:void 0,n=r?ja(r):"";if(n)switch(n){case b2:return qp;case _2:return Gp;case x2:return Mp;case w2:return zp;case O2:return Fp}return e});var Xa=Ka,C2=Object.prototype.hasOwnProperty,nl=_n.Uint8Array,bc=function I2(t){var e=new t.constructor(t.byteLength);return new nl(e).set(new nl(t)),e},P2=/\w*$/,Hp=on?on.prototype:void 0,$p=Hp?Hp.valueOf:void 0,Up=function G2(t,e){var r=e?bc(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)},aO=function nO(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return bc(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function A2(t,e){var r=e?bc(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Up(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return function k2(t){var e=new t.constructor(t.source,P2.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function N2(t){return $p?Object($p.call(t)):{}}(t)}},jp=Object.create,iO=function(){function t(){}return function(e){if(!Lr(e))return{};if(jp)return jp(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Vp=iO,Wp=function oO(t){return"function"!=typeof t.constructor||tl(t)?{}:Vp(rl(t))},Yp=Ni&&Ni.isMap,fO=Yp?el(Yp):function lO(t){return xn(t)&&"[object Map]"==Xa(t)},Kp=Ni&&Ni.isSet,gO=Kp?el(Kp):function pO(t){return xn(t)&&"[object Set]"==Xa(t)},Xp="[object Arguments]",Zp="[object Function]",Qp="[object Object]",Tt={};Tt[Xp]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object DataView]"]=Tt["[object Boolean]"]=Tt["[object Date]"]=Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt[Qp]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object Symbol]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Error]"]=Tt[Zp]=Tt["[object WeakMap]"]=!1;var Jp=function al(t,e,r,n,a,i){var o,l=1&e,u=2&e,c=4&e;if(r&&(o=a?r(t,n,a,i):r(t)),void 0!==o)return o;if(!Lr(t))return t;var d=Mt(t);if(d){if(o=function R2(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&C2.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!l)return Bp(t,o)}else{var p=Xa(t),v=p==Zp||"[object GeneratorFunction]"==p;if(Wa(t))return Ap(t,l);if(p==Qp||p==Xp||v&&!a){if(o=u||v?{}:Wp(t),!l)return u?function l2(t,e){return No(t,Np(t),e)}(t,function Yw(t,e){return t&&No(e,Ya(e),t)}(o,t)):function r2(t,e){return No(t,pc(t),e)}(t,function zw(t,e){return t&&No(e,ga(e),t)}(o,t))}else{if(!Tt[p])return a?t:{};o=aO(t,p,l)}}i||(i=new ki);var m=i.get(t);if(m)return m;i.set(t,o),gO(t)?t.forEach(function(g){o.add(al(g,e,r,g,t,i))}):fO(t)&&t.forEach(function(g,_){o.set(_,al(g,e,r,_,t,i))});var b=d?void 0:(c?u?p2:vc:u?Ya:ga)(t);return cc(b||t,function(g,_){b&&(g=t[_=g]),Qs(o,_,al(g,e,r,_,t,i))}),o},_c=function VO(t){return function(){return t}},xc=function WO(t){return function(e,r,n){for(var a=-1,i=Object(e),o=n(e),l=o.length;l--;){var u=o[t?l:++a];if(!1===r(i[u],u,i))break}return e}}(),wc=function XO(t,e){return t&&xc(t,e,ga)},il=function ZO(t,e){return function(r,n){if(null==r)return r;if(!Vn(r))return t(r,n);for(var a=r.length,i=e?a:-1,o=Object(r);(e?i--:++i<a)&&!1!==n(o[i],i,o););return r}}(wc),Za=function eE(t){return t},eh=function tE(t){return"function"==typeof t?t:Za},th=function rE(t,e){return(Mt(t)?cc:il)(t,eh(e))},rh=th,aE=function nE(t,e){var r=[];return il(t,function(n,a,i){e(n,a,i)&&r.push(n)}),r};function ol(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Ks;++e<r;)this.add(t[e])}ol.prototype.add=ol.prototype.push=function oE(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ol.prototype.has=function lE(t){return this.__data__.has(t)};var nh=ol,fE=function cE(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},ah=function dE(t,e){return t.has(e)},ih=function vE(t,e,r,n,a,i){var o=1&r,l=t.length,u=e.length;if(l!=u&&!(o&&u>l))return!1;var c=i.get(t),d=i.get(e);if(c&&d)return c==e&&d==t;var p=-1,v=!0,m=2&r?new nh:void 0;for(i.set(t,e),i.set(e,t);++p<l;){var y=t[p],b=e[p];if(n)var g=o?n(b,y,p,e,t,i):n(y,b,p,t,e,i);if(void 0!==g){if(g)continue;v=!1;break}if(m){if(!fE(e,function(_,w){if(!ah(m,w)&&(y===_||a(y,_,r,n,i)))return m.push(w)})){v=!1;break}}else if(y!==b&&!a(y,b,r,n,i)){v=!1;break}}return i.delete(t),i.delete(e),v},mE=function gE(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r},Oc=function yE(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r},oh=on?on.prototype:void 0,Ec=oh?oh.valueOf:void 0,LE=Object.prototype.hasOwnProperty,sh="[object Arguments]",lh="[object Array]",sl="[object Object]",uh=Object.prototype.hasOwnProperty,HE=function qE(t,e,r,n,a,i){var o=Mt(t),l=Mt(e),u=o?lh:Xa(t),c=l?lh:Xa(e),d=(u=u==sh?sl:u)==sl,p=(c=c==sh?sl:c)==sl,v=u==c;if(v&&Wa(t)){if(!Wa(e))return!1;o=!0,d=!1}if(v&&!d)return i||(i=new ki),o||Lo(t)?ih(t,e,r,n,a,i):function PE(t,e,r,n,a,i,o){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new nl(t),new nl(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Si(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=mE;case"[object Set]":if(l||(l=Oc),t.size!=e.size&&!(1&n))return!1;var c=o.get(t);if(c)return c==e;n|=2,o.set(t,e);var d=ih(l(t),l(e),n,a,i,o);return o.delete(t),d;case"[object Symbol]":if(Ec)return Ec.call(t)==Ec.call(e)}return!1}(t,e,u,r,n,a,i);if(!(1&r)){var m=d&&uh.call(t,"__wrapped__"),y=p&&uh.call(e,"__wrapped__");if(m||y){var b=m?t.value():t,g=y?e.value():e;return i||(i=new ki),a(b,g,r,n,i)}}return!!v&&(i||(i=new ki),function GE(t,e,r,n,a,i){var o=1&r,l=vc(t),u=l.length;if(u!=vc(e).length&&!o)return!1;for(var p=u;p--;){var v=l[p];if(!(o?v in e:LE.call(e,v)))return!1}var m=i.get(t),y=i.get(e);if(m&&y)return m==e&&y==t;var b=!0;i.set(t,e),i.set(e,t);for(var g=o;++p<u;){var _=t[v=l[p]],w=e[v];if(n)var E=o?n(w,_,v,e,t,i):n(_,w,v,t,e,i);if(!(void 0===E?_===w||a(_,w,r,n,i):E)){b=!1;break}g||(g="constructor"==v)}if(b&&!g){var R=t.constructor,P=e.constructor;R!=P&&"constructor"in t&&"constructor"in e&&!("function"==typeof R&&R instanceof R&&"function"==typeof P&&P instanceof P)&&(b=!1)}return i.delete(t),i.delete(e),b}(t,e,r,n,a,i))},fh=function ch(t,e,r,n,a){return t===e||(null==t||null==e||!xn(t)&&!xn(e)?t!=t&&e!=e:HE(t,e,r,n,ch,a))},dh=function WE(t){return t==t&&!Lr(t)},ph=function XE(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}},QE=function ZE(t){var e=function YE(t){for(var e=ga(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,dh(a)]}return e}(t);return 1==e.length&&e[0][2]?ph(e[0][0],e[0][1]):function(r){return r===t||function jE(t,e,r,n){var a=r.length,i=a,o=!n;if(null==t)return!i;for(t=Object(t);a--;){var l=r[a];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<i;){var u=(l=r[a])[0],c=t[u],d=l[1];if(o&&l[2]){if(void 0===c&&!(u in t))return!1}else{var p=new ki;if(n)var v=n(c,d,u,t,e,p);if(!(void 0===v?fh(d,c,3,n,p):v))return!1}}return!0}(r,t,e)}},Qa=function eC(t){return"symbol"==typeof t||xn(t)&&"[object Symbol]"==va(t)},tC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rC=/^\w*$/,Cc=function nC(t,e){if(Mt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Qa(t))||rC.test(t)||!tC.test(t)||null!=e&&t in Object(e)};function Rc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Rc.Cache||Ks),r}Rc.Cache=Ks;var fl,iC=Rc,uC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cC=/\\(\\)?/g,fC=function sC(t){var e=iC(t,function(n){return 500===r.size&&r.clear(),n}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(uC,function(r,n,a,i){e.push(a?i.replace(cC,"$1"):n||r)}),e}),dC=fC,Gi=function pC(t,e){for(var r=-1,n=null==t?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a},hh=on?on.prototype:void 0,vh=hh?hh.toString:void 0,vC=function gh(t){if("string"==typeof t)return t;if(Mt(t))return Gi(t,gh)+"";if(Qa(t))return vh?vh.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},mh=function gC(t){return null==t?"":vC(t)},ll=function mC(t,e){return Mt(t)?t:Cc(t,e)?[t]:dC(mh(t))},Go=function bC(t){if("string"==typeof t||Qa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},ul=function _C(t,e){for(var r=0,n=(e=ll(e,t)).length;null!=t&&r<n;)t=t[Go(e[r++])];return r&&r==n?t:void 0},EC=function OC(t,e){return null!=t&&e in Object(t)},yh=function CC(t,e,r){for(var n=-1,a=(e=ll(e,t)).length,i=!1;++n<a;){var o=Go(e[n]);if(!(i=null!=t&&r(t,o)))break;t=t[o]}return i||++n!=a?i:!!(a=null==t?0:t.length)&&fc(a)&&Js(o,a)&&(Mt(t)||Di(t))},bh=function RC(t,e){return null!=t&&yh(t,e,EC)},AC=function IC(t,e){return Cc(t)&&dh(e)?ph(Go(t),e):function(r){var n=function xC(t,e,r){var n=null==t?void 0:ul(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?bh(r,t):fh(e,n,3)}},_h=function BC(t){return function(e){return e?.[t]}},NC=function DC(t){return Cc(t)?_h(Go(t)):function PC(t){return function(e){return ul(e,t)}}(t)},Wn=function LC(t){return"function"==typeof t?t:null==t?Za:"object"==typeof t?Mt(t)?AC(t[0],t[1]):QE(t):NC(t)},xh=function GC(t,e){return(Mt(t)?Pp:aE)(t,Wn(e))},zC=Object.prototype.hasOwnProperty,qC=function FC(t,e){return null!=t&&zC.call(t,e)},wh=function HC(t,e){return null!=t&&yh(t,e,qC)},VC=Object.prototype.hasOwnProperty,Oh=function KC(t){return void 0===t},Eh=function XC(t,e){var r=-1,n=Vn(t)?Array(t.length):[];return il(t,function(a,i,o){n[++r]=e(a,i,o)}),n},Ch=function ZC(t,e){return(Mt(t)?Gi:Eh)(t,Wn(e))},JC=function QC(t,e,r,n){var a=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++a]);++a<i;)r=e(r,t[a],a,t);return r},tR=function eR(t,e,r,n,a){return a(t,function(i,o,l){r=n?(n=!1,i):e(r,i,o,l)}),r},Rh=function rR(t,e,r){var n=Mt(t)?JC:tR,a=arguments.length<3;return n(t,Wn(e),r,a,il)},sR=_h("length"),vR=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Th="\\ud800-\\udfff",OR="["+Th+"]",Tc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Sc="\\ud83c[\\udffb-\\udfff]",Sh="[^"+Th+"]",Ih="(?:\\ud83c[\\udde6-\\uddff]){2}",Ah="[\\ud800-\\udbff][\\udc00-\\udfff]",Bh="(?:"+Tc+"|"+Sc+")?",Ph="[\\ufe0e\\ufe0f]?",TR=Ph+Bh+"(?:\\u200d(?:"+[Sh,Ih,Ah].join("|")+")"+Ph+Bh+")*",SR="(?:"+[Sh+Tc+"?",Tc,Ih,Ah,OR].join("|")+")",kh=RegExp(Sc+"(?="+Sc+")|"+SR+TR,"g"),PR=function BR(t){return function gR(t){return vR.test(t)}(t)?function IR(t){for(var e=kh.lastIndex=0;kh.test(t);)++e;return e}(t):sR(t)},Dh=on?on.isConcatSpreadable:void 0,FR=function zR(t){return Mt(t)||Di(t)||!!(Dh&&t&&t[Dh])},Ic=function Nh(t,e,r,n,a){var i=-1,o=t.length;for(r||(r=FR),a||(a=[]);++i<o;){var l=t[i];e>0&&r(l)?e>1?Nh(l,e-1,r,n,a):hc(a,l):n||(a[a.length]=l)}return a},Lh=Math.max,Gh=function $R(t,e,r){return e=Lh(void 0===e?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=Lh(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(o),function qR(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,l)}},UR=Xs?function(t,e){return Xs(t,"toString",{configurable:!0,enumerable:!1,value:_c(e),writable:!0})}:Za,YR=Date.now,Mh=function KR(t){var e=0,r=0;return function(){var n=YR(),a=16-(n-r);if(r=n,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(UR),cl=function QR(t,e){return Mh(Gh(t,e,Za),t+"")},zh=function JR(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1},tT=function eT(t){return t!=t},sT=function oT(t,e){return!(null==t||!t.length)&&function aT(t,e,r){return e==e?function rT(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}(t,e,r):zh(t,tT,r)}(t,e,0)>-1},uT=function lT(t,e,r){for(var n=-1,a=null==t?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1},pT=Li&&1/Oc(new Li([,-0]))[1]==1/0?function(t){return new Li(t)}:function cT(){},hT=pT,Fh=function yT(t){return xn(t)&&Vn(t)},bT=cl(function(t){return function gT(t,e,r){var n=-1,a=sT,i=t.length,o=!0,l=[],u=l;if(r)o=!1,a=uT;else if(i>=200){var c=e?null:hT(t);if(c)return Oc(c);o=!1,a=ah,u=new nh}else u=e?[]:l;e:for(;++n<i;){var d=t[n],p=e?e(d):d;if(d=r||0!==d?d:0,o&&p==p){for(var v=u.length;v--;)if(u[v]===p)continue e;e&&u.push(p),l.push(d)}else a(u,p,r)||(u!==l&&u.push(p),l.push(d))}return l}(Ic(t,1,Fh,!0))}),_T=bT,qh=function OT(t){return null==t?[]:function xT(t,e){return Gi(e,function(r){return t[r]})}(t,ga(t))};try{fl={clone:function UO(t){return Jp(t,4)},constant:_c,each:rh,filter:xh,has:wh,isArray:Mt,isEmpty:function WC(t){if(null==t)return!0;if(Vn(t)&&(Mt(t)||"string"==typeof t||"function"==typeof t.splice||Wa(t)||Lo(t)||Di(t)))return!t.length;var e=Xa(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(tl(t))return!dc(t).length;for(var r in t)if(VC.call(t,r))return!1;return!0},isFunction:Po,isUndefined:Oh,keys:ga,map:Ch,reduce:Rh,size:function NR(t){if(null==t)return 0;if(Vn(t))return function aR(t){return"string"==typeof t||!Mt(t)&&xn(t)&&"[object String]"==va(t)}(t)?PR(t):t.length;var e=Xa(t);return"[object Map]"==e||"[object Set]"==e?t.size:dc(t).length},transform:function GR(t,e,r){var n=Mt(t),a=n||Wa(t)||Lo(t);if(e=Wn(e),null==r){var i=t&&t.constructor;r=a?n?new i:[]:Lr(t)&&Po(i)?Vp(rl(t)):{}}return(a?cc:wc)(t,function(o,l,u){return e(r,o,l,u)}),r},union:_T,values:qh}}catch{}fl||(fl=window._);var Ie=fl,Ac=ot,ET="\0",Ja="\0",Hh="\x01";function ot(t){this._isDirected=!Ie.has(t,"directed")||t.directed,this._isMultigraph=!!Ie.has(t,"multigraph")&&t.multigraph,this._isCompound=!!Ie.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=Ie.constant(void 0),this._defaultEdgeLabelFn=Ie.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Ja]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function $h(t,e){t[e]?t[e]++:t[e]=1}function Uh(t,e){--t[e]||delete t[e]}function Mo(t,e,r,n){var a=""+e,i=""+r;if(!t&&a>i){var o=a;a=i,i=o}return a+Hh+i+Hh+(Ie.isUndefined(n)?ET:n)}function Bc(t,e){return Mo(t,e.v,e.w,e.name)}ot.prototype._nodeCount=0,ot.prototype._edgeCount=0,ot.prototype.isDirected=function(){return this._isDirected},ot.prototype.isMultigraph=function(){return this._isMultigraph},ot.prototype.isCompound=function(){return this._isCompound},ot.prototype.setGraph=function(t){return this._label=t,this},ot.prototype.graph=function(){return this._label},ot.prototype.setDefaultNodeLabel=function(t){return Ie.isFunction(t)||(t=Ie.constant(t)),this._defaultNodeLabelFn=t,this},ot.prototype.nodeCount=function(){return this._nodeCount},ot.prototype.nodes=function(){return Ie.keys(this._nodes)},ot.prototype.sources=function(){var t=this;return Ie.filter(this.nodes(),function(e){return Ie.isEmpty(t._in[e])})},ot.prototype.sinks=function(){var t=this;return Ie.filter(this.nodes(),function(e){return Ie.isEmpty(t._out[e])})},ot.prototype.setNodes=function(t,e){var r=arguments,n=this;return Ie.each(t,function(a){r.length>1?n.setNode(a,e):n.setNode(a)}),this},ot.prototype.setNode=function(t,e){return Ie.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=Ja,this._children[t]={},this._children[Ja][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},ot.prototype.node=function(t){return this._nodes[t]},ot.prototype.hasNode=function(t){return Ie.has(this._nodes,t)},ot.prototype.removeNode=function(t){var e=this;if(Ie.has(this._nodes,t)){var r=function(n){e.removeEdge(e._edgeObjs[n])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],Ie.each(this.children(t),function(n){e.setParent(n)}),delete this._children[t]),Ie.each(Ie.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],Ie.each(Ie.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},ot.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Ie.isUndefined(e))e=Ja;else{for(var r=e+="";!Ie.isUndefined(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},ot.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},ot.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==Ja)return e}},ot.prototype.children=function(t){if(Ie.isUndefined(t)&&(t=Ja),this._isCompound){var e=this._children[t];if(e)return Ie.keys(e)}else{if(t===Ja)return this.nodes();if(this.hasNode(t))return[]}},ot.prototype.predecessors=function(t){var e=this._preds[t];if(e)return Ie.keys(e)},ot.prototype.successors=function(t){var e=this._sucs[t];if(e)return Ie.keys(e)},ot.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return Ie.union(e,this.successors(t))},ot.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},ot.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;Ie.each(this._nodes,function(i,o){t(o)&&e.setNode(o,i)}),Ie.each(this._edgeObjs,function(i){e.hasNode(i.v)&&e.hasNode(i.w)&&e.setEdge(i,r.edge(i))});var n={};function a(i){var o=r.parent(i);return void 0===o||e.hasNode(o)?(n[i]=o,o):o in n?n[o]:a(o)}return this._isCompound&&Ie.each(e.nodes(),function(i){e.setParent(i,a(i))}),e},ot.prototype.setDefaultEdgeLabel=function(t){return Ie.isFunction(t)||(t=Ie.constant(t)),this._defaultEdgeLabelFn=t,this},ot.prototype.edgeCount=function(){return this._edgeCount},ot.prototype.edges=function(){return Ie.values(this._edgeObjs)},ot.prototype.setPath=function(t,e){var r=this,n=arguments;return Ie.reduce(t,function(a,i){return n.length>1?r.setEdge(a,i,e):r.setEdge(a,i),i}),this},ot.prototype.setEdge=function(){var t,e,r,n,a=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(t=i.v,e=i.w,r=i.name,2===arguments.length&&(n=arguments[1],a=!0)):(t=i,e=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],a=!0)),t=""+t,e=""+e,Ie.isUndefined(r)||(r=""+r);var o=Mo(this._isDirected,t,e,r);if(Ie.has(this._edgeLabels,o))return a&&(this._edgeLabels[o]=n),this;if(!Ie.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[o]=a?n:this._defaultEdgeLabelFn(t,e,r);var l=function CT(t,e,r,n){var a=""+e,i=""+r;if(!t&&a>i){var o=a;a=i,i=o}var l={v:a,w:i};return n&&(l.name=n),l}(this._isDirected,t,e,r);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[o]=l,$h(this._preds[e],t),$h(this._sucs[t],e),this._in[e][o]=l,this._out[t][o]=l,this._edgeCount++,this},ot.prototype.edge=function(t,e,r){var n=1===arguments.length?Bc(this._isDirected,arguments[0]):Mo(this._isDirected,t,e,r);return this._edgeLabels[n]},ot.prototype.hasEdge=function(t,e,r){var n=1===arguments.length?Bc(this._isDirected,arguments[0]):Mo(this._isDirected,t,e,r);return Ie.has(this._edgeLabels,n)},ot.prototype.removeEdge=function(t,e,r){var n=1===arguments.length?Bc(this._isDirected,arguments[0]):Mo(this._isDirected,t,e,r),a=this._edgeObjs[n];return a&&(t=a.v,e=a.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Uh(this._preds[e],t),Uh(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this},ot.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var n=Ie.values(r);return e?Ie.filter(n,function(a){return a.v===e}):n}},ot.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var n=Ie.values(r);return e?Ie.filter(n,function(a){return a.w===e}):n}},ot.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))};var jh={Graph:Ac,version:"2.1.8"},TT={write:function ST(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:IT(t),edges:AT(t)};return Ie.isUndefined(t.graph())||(e.value=Ie.clone(t.graph())),e},read:function BT(t){var e=new Ac(t.options).setGraph(t.value);return Ie.each(t.nodes,function(r){e.setNode(r.v,r.value),r.parent&&e.setParent(r.v,r.parent)}),Ie.each(t.edges,function(r){e.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),e}};function IT(t){return Ie.map(t.nodes(),function(e){var r=t.node(e),n=t.parent(e),a={v:e};return Ie.isUndefined(r)||(a.value=r),Ie.isUndefined(n)||(a.parent=n),a})}function AT(t){return Ie.map(t.edges(),function(e){var r=t.edge(e),n={v:e.v,w:e.w};return Ie.isUndefined(e.name)||(n.name=e.name),Ie.isUndefined(r)||(n.value=r),n})}var Vh=sn;function sn(){this._arr=[],this._keyIndices={}}sn.prototype.size=function(){return this._arr.length},sn.prototype.keys=function(){return this._arr.map(function(t){return t.key})},sn.prototype.has=function(t){return Ie.has(this._keyIndices,t)},sn.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},sn.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},sn.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!Ie.has(r,t)){var n=this._arr,a=n.length;return r[t]=a,n.push({key:t,priority:e}),this._decrease(a),!0}return!1},sn.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},sn.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},sn.prototype._heapify=function(t){var e=this._arr,r=2*t,n=r+1,a=t;r<e.length&&(a=e[r].priority<e[a].priority?r:a,n<e.length&&(a=e[n].priority<e[a].priority?n:a),a!==t&&(this._swap(t,a),this._heapify(a)))},sn.prototype._decrease=function(t){for(var n,e=this._arr,r=e[t].priority;0!==t&&!(e[n=t>>1].priority<r);)this._swap(t,n),t=n},sn.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,a=r[t],i=r[e];r[t]=i,r[e]=a,n[i.key]=t,n[a.key]=e};var Wh=function NT(t,e,r,n){return function LT(t,e,r,n){var o,l,a={},i=new Vh,u=function(c){var d=c.v!==o?c.v:c.w,p=a[d],v=r(c),m=l.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+c+" Weight: "+v);m<p.distance&&(p.distance=m,p.predecessor=o,i.decrease(d,m))};for(t.nodes().forEach(function(c){var d=c===e?0:Number.POSITIVE_INFINITY;a[c]={distance:d},i.add(c,d)});i.size()>0&&(o=i.removeMin(),(l=a[o]).distance!==Number.POSITIVE_INFINITY);)n(o).forEach(u);return a}(t,String(e),r||DT,n||function(a){return t.outEdges(a)})},DT=Ie.constant(1),Yh=function zT(t){var e=0,r=[],n={},a=[];function i(o){var l=n[o]={onStack:!0,lowlink:e,index:e++};if(r.push(o),t.successors(o).forEach(function(d){Ie.has(n,d)?n[d].onStack&&(l.lowlink=Math.min(l.lowlink,n[d].index)):(i(d),l.lowlink=Math.min(l.lowlink,n[d].lowlink))}),l.lowlink===l.index){var c,u=[];do{c=r.pop(),n[c].onStack=!1,u.push(c)}while(o!==c);a.push(u)}}return t.nodes().forEach(function(o){Ie.has(n,o)||i(o)}),a},$T=Ie.constant(1),Pc=Kh;function Kh(t){var e={},r={},n=[];if(Ie.each(t.sinks(),function a(i){if(Ie.has(r,i))throw new dl;Ie.has(e,i)||(r[i]=!0,e[i]=!0,Ie.each(t.predecessors(i),a),delete r[i],n.push(i))}),Ie.size(e)!==t.nodeCount())throw new dl;return n}function dl(){}Kh.CycleException=dl,dl.prototype=new Error;var Xh=function YT(t,e,r){Ie.isArray(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],i={};return Ie.each(e,function(o){if(!t.hasNode(o))throw new Error("Graph does not have node: "+o);Zh(t,o,"post"===r,i,n,a)}),a};function Zh(t,e,r,n,a,i){Ie.has(n,e)||(n[e]=!0,r||i.push(e),Ie.each(a(e),function(o){Zh(t,o,r,n,a,i)}),r&&i.push(e))}var Qh={Graph:jh.Graph,json:TT,alg:{components:function kT(t){var n,e={},r=[];function a(i){Ie.has(e,i)||(e[i]=!0,n.push(i),Ie.each(t.successors(i),a),Ie.each(t.predecessors(i),a))}return Ie.each(t.nodes(),function(i){n=[],a(i),n.length&&r.push(n)}),r},dijkstra:Wh,dijkstraAll:function MT(t,e,r){return Ie.transform(t.nodes(),function(n,a){n[a]=Wh(t,a,e,r)},{})},findCycles:function qT(t){return Ie.filter(Yh(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})},floydWarshall:function UT(t,e,r){return function jT(t,e,r){var n={},a=t.nodes();return a.forEach(function(i){n[i]={},n[i][i]={distance:0},a.forEach(function(o){i!==o&&(n[i][o]={distance:Number.POSITIVE_INFINITY})}),r(i).forEach(function(o){var l=o.v===i?o.w:o.v,u=e(o);n[i][l]={distance:u,predecessor:i}})}),a.forEach(function(i){var o=n[i];a.forEach(function(l){var u=n[l];a.forEach(function(c){var p=o[c],v=u[c],m=u[i].distance+p.distance;m<v.distance&&(v.distance=m,v.predecessor=p.predecessor)})})}),n}(t,e||$T,r||function(n){return t.outEdges(n)})},isAcyclic:function WT(t){try{Pc(t)}catch(e){if(e instanceof Pc.CycleException)return!1;throw e}return!0},postorder:function XT(t,e){return Xh(t,e,"post")},preorder:function QT(t,e){return Xh(t,e,"pre")},prim:function eS(t,e){var i,r=new Ac,n={},a=new Vh;function o(u){var c=u.v===i?u.w:u.v,d=a.priority(c);if(void 0!==d){var p=e(u);p<d&&(n[c]=i,a.decrease(c,p))}}if(0===t.nodeCount())return r;Ie.each(t.nodes(),function(u){a.add(u,Number.POSITIVE_INFINITY),r.setNode(u)}),a.decrease(t.nodes()[0],0);for(var l=!1;a.size()>0;){if(i=a.removeMin(),Ie.has(n,i))r.setEdge(i,n[i]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(i).forEach(o)}return r},tarjan:Yh,topsort:Pc},version:jh.version};class rS{constructor(){this.graph={_nodes:{},_edges:{}},this.graphlib=new Qh.Graph}get nodes(){const e=function M_(t){return t._nodes}(this.graph);return Object.values(e)}get edges(){return this.getEdges(null)}exist(e){return e in this.graph._nodes}getNode(e){return function L_(t,e){return t._nodes[e]}(this.graph,e)}getNodes(e){const r=this;return e.map(a=>r.getNode(a))}addNode(e){return this.graphlib.setNode(e.id),lc(this.graph,e,e.id)}addNodes(...e){const r=this;e.forEach(n=>{r.addNode(n)})}removeNode(e){this.graphlib.removeNode(e.id),function G_(t,e){delete t._nodes[e]}(this.graph,e.id)}addEdge(e,r,n){const a=new Us(e,r,n),i={subjectId:e.id,objectId:r.id,metadata:a};this.graphlib.setEdge(a.subject.id,a.object.id),bp(this.graph,i)}addEdgeById(e,r,n){const a=this.getNode(e),i=this.getNode(r);this.addEdge(a,i,n)}editEdge(e,r,n){this.getEdge(e,r)}getEdge(e,r){const a=function F_(t,e){return Ye.find(t._edges[e.subjectId],r=>r.objectId===e.objectId)}(this.graph,{subjectId:e,objectId:r,metadata:null});return a?a.metadata:null}getEdges(e){const r=function z_(t,e){if(e)return t._edges[e];const r=[];return Object.keys(t._edges).forEach(n=>{r.push(...t._edges[n])}),r}(this.graph,e);return r?.map(n=>n.metadata)}removeEdge(e,r,n){const a=new Us(e,r,n),i={subjectId:e.id,objectId:r.id,metadata:a};this.graphlib.removeEdge(e.id,r.id),function q_(t,e){Ye.remove(t._edges[e.subjectId],r=>r.objectId===e.objectId)}(this.graph,i)}sourceNodes(){const e=this.graphlib.sources();return this.getNodes(e)}successors(e){const r=this.graphlib.successors(e);return this.getNodes(r)}descendants(e){const r=this._descendantsDFS(e);return this.getNodes(r)}_descendantsDFS(e){const r=this,n=this.graphlib.successors(e);return n?Ye.flatten(n.concat(n.map(function(a){return r._descendantsDFS(a)}))):[]}getTrimmedGraph(e){const r=this,n={_nodes:{},_edges:{}},a=r.getEdges(e),i=r.getNode(e);return lc(n,i,i.id),Ye.each(a,o=>{r._trimGraphDFS(n,o.subject,o.object,o.predicate,o.predicate)}),n}edgeTypeExist(e,r,n,a){return Ye.find(this.getEdges(e),l=>l.predicate.edge.id===r&&l.subject.type===n&&l.object.type===a)}_trimGraphDFS(e,r,n,a,i){const o=this;if(n.hasValue()){const l=new js(a.edge,i.evidence),u=new Us(r,n,l),c={subjectId:r.id,objectId:n.id,metadata:u};lc(e,n,n.id),bp(e,c)}Ye.each(o.getEdges(n.id),l=>{o._trimGraphDFS(e,n.hasValue()?n:r,l.object,n.hasValue()?l.predicate:a,l.predicate)})}}const kc_goshapes=[{subject:"GO:0008150",root_subject:"",object:["GO:0008150"],is_multivalued:!0,is_required:!1,context:"",predicate:"BFO:0000050",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"BFO:0000066",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["CHEBI:24431"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004009",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["CHEBI:24431"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004008",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["GO:0044848","UBERON:0000105","PO:0009012"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002092",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["CHEBI:33695","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002313",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002339",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002338",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["CARO:0000000","NCBITaxon:1"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012003",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["CHEBI:24431","CARO:0000000","GO:0032991","NCBITaxon:1"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002233",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["CHEBI:24431","CARO:0000000","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002234",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["GO:0008150","GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002411",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["GO:0008150","GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002305",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["GO:0008150","GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002304",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["GO:0008150"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002211",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["GO:0008150"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002212",exclude_from_extensions:!1},{subject:"GO:0008150",root_subject:"",object:["GO:0008150"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002213",exclude_from_extensions:!1},{subject:"GO:0048856",root_subject:"GO:0008150",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002296",exclude_from_extensions:!1},{subject:"GO:0048646",root_subject:"GO:0008150",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002297",exclude_from_extensions:!1},{subject:"GO:0009653",root_subject:"GO:0008150",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002298",exclude_from_extensions:!1},{subject:"GO:0030154",root_subject:"GO:0008150",object:["CL:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002315",exclude_from_extensions:!1},{subject:"GO:0051301",root_subject:"GO:0008150",object:["CL:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002233",exclude_from_extensions:!1},{subject:"GO:0045165",root_subject:"GO:0008150",object:["CL:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002348",exclude_from_extensions:!1},{subject:"GO:0001709",root_subject:"GO:0008150",object:["CL:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002349",exclude_from_extensions:!1},{subject:"GO:0001708",root_subject:"GO:0008150",object:["CL:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002356",exclude_from_extensions:!1},{subject:"GO:0022607",root_subject:"GO:0008150",object:["GO:0005575"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002588",exclude_from_extensions:!1},{subject:"GO:0022411",root_subject:"GO:0008150",object:["GO:0005575"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002590",exclude_from_extensions:!1},{subject:"GO:0016043",root_subject:"GO:0008150",object:["GO:0005575"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002592",exclude_from_extensions:!1},{subject:"GO:0021700",root_subject:"GO:0008150",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002299",exclude_from_extensions:!1},{subject:"GO:0040007",root_subject:"GO:0008150",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002343",exclude_from_extensions:!1},{subject:"GO:0051179",root_subject:"GO:0008150",object:["CARO:0000000","CHEBI:24431","CHEBI:33695","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002313",exclude_from_extensions:!1},{subject:"GO:0051179",root_subject:"GO:0008150",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002339",exclude_from_extensions:!1},{subject:"GO:0051179",root_subject:"GO:0008150",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002338",exclude_from_extensions:!1},{subject:"GO:0040011",root_subject:"GO:0008150",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002565",exclude_from_extensions:!1},{subject:"GO:0008152",root_subject:"GO:0008150",object:["CHEBI:24431"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004009",exclude_from_extensions:!1},{subject:"GO:0008152",root_subject:"GO:0008150",object:["CHEBI:24431"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004008",exclude_from_extensions:!1},{subject:"GO:0034367",root_subject:"GO:0008150",object:["GO:0032991"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002591",exclude_from_extensions:!1},{subject:"GO:0007389",root_subject:"GO:0008150",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002356",exclude_from_extensions:!1},{subject:"GO:0006810",root_subject:"GO:0008150",object:["CHEBI:24431","CARO:0000000","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004009",exclude_from_extensions:!1},{subject:"GO:0006810",root_subject:"GO:0008150",object:["CHEBI:24431","CARO:0000000","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004008",exclude_from_extensions:!1},{subject:"GO:0003674",root_subject:"",object:["CHEBI:33695","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002333",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0008150"],is_multivalued:!0,is_required:!1,context:"",predicate:"BFO:0000050",exclude_from_extensions:!1},{subject:"GO:0003674",root_subject:"",object:["GO:0003674"],is_multivalued:!0,is_required:!1,context:"",predicate:"BFO:0000051",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"BFO:0000066",exclude_from_extensions:!1},{subject:"GO:0003674",root_subject:"",object:["CHEBI:24431","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004009",exclude_from_extensions:!1},{subject:"GO:0003674",root_subject:"",object:["CHEBI:24431","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004008",exclude_from_extensions:!1},{subject:"GO:0003674",root_subject:"",object:["GO:0044848","UBERON:0000105","PO:0009012"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002092",exclude_from_extensions:!1},{subject:"GO:0003674",root_subject:"",object:["CHEBI:24431","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002233",exclude_from_extensions:!1},{subject:"GO:0003674",root_subject:"",object:["CHEBI:24431","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002234",exclude_from_extensions:!1},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002413",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002211",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002212",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002213",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002578",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002630",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002629",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012012",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002407",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002409",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012009",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012010",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["CHEBI:24431"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012000",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["CHEBI:24431"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012001",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["CHEBI:24431"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012002",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent","GO:0008150"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002418",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0008150"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004046",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0008150"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004047",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0008150","GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002411",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0008150","GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002305",exclude_from_extensions:!0},{subject:"GO:0003674",root_subject:"",object:["GO:0008150","GO:0003674","http://purl.obolibrary.org/obo/go/shapes/MolecularEvent"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002304",exclude_from_extensions:!0},{subject:"GO:0005215",root_subject:"GO:0003674",object:["CHEBI:24431","CHEBI:33695","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002313",exclude_from_extensions:!1},{subject:"GO:0005215",root_subject:"GO:0003674",object:["CHEBI:24431","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004009",exclude_from_extensions:!1},{subject:"GO:0005215",root_subject:"GO:0003674",object:["CHEBI:24431","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0004008",exclude_from_extensions:!1},{subject:"GO:0005215",root_subject:"GO:0003674",object:["GO:0005575"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002339",exclude_from_extensions:!1},{subject:"GO:0005215",root_subject:"GO:0003674",object:["GO:0005575"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002338",exclude_from_extensions:!1},{subject:"CARO:0000000",root_subject:"",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"BFO:0000050",exclude_from_extensions:!1},{subject:"CARO:0000000",root_subject:"",object:["CHEBI:33695","GO:0032991"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0001015",exclude_from_extensions:!1},{subject:"CL:0000000",root_subject:"",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"BFO:0000050",exclude_from_extensions:!1},{subject:"GO:0005575",root_subject:"",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"BFO:0000050",exclude_from_extensions:!1},{subject:"GO:0005575",root_subject:"",object:["CARO:0000000"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002220",exclude_from_extensions:!1},{subject:"GO:0005575",root_subject:"",object:["CARO:0000000"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002131",exclude_from_extensions:!1},{subject:"GO:0005575",root_subject:"",object:["GO:0008150","UBERON:0000105","PO:0009012"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002490",exclude_from_extensions:!1},{subject:"GO:0005575",root_subject:"",object:["GO:0008150","UBERON:0000105","PO:0009012"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002491",exclude_from_extensions:!1},{subject:"GO:0032991",root_subject:"",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0001025",exclude_from_extensions:!0},{subject:"GO:0032991",root_subject:"",object:["CARO:0000000","http://purl.obolibrary.org/obo/go/shapes/RootCellularComponent"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002432",exclude_from_extensions:!0},{subject:"GO:0032991",root_subject:"",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"BFO:0000050",exclude_from_extensions:!1},{subject:"GO:0032991",root_subject:"",object:["CARO:0000000"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002220",exclude_from_extensions:!1},{subject:"GO:0032991",root_subject:"",object:["CARO:0000000"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002131",exclude_from_extensions:!1},{subject:"GO:0032991",root_subject:"",object:["GO:0008150","UBERON:0000105","PO:0009012"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002490",exclude_from_extensions:!1},{subject:"GO:0032991",root_subject:"",object:["GO:0008150","UBERON:0000105","PO:0009012"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0002491",exclude_from_extensions:!1},{subject:"GO:0032991",root_subject:"",object:["CHEBI:33695","GO:0032991"],is_multivalued:!0,is_required:!1,context:"",predicate:"BFO:0000051",exclude_from_extensions:!0},{subject:"CHEBI:24431",root_subject:"",object:["GO:0003674"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012004",exclude_from_extensions:!1},{subject:"CHEBI:24431",root_subject:"",object:["GO:0003674"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012005",exclude_from_extensions:!1},{subject:"CHEBI:24431",root_subject:"",object:["GO:0003674"],is_multivalued:!0,is_required:!1,context:"",predicate:"RO:0012006",exclude_from_extensions:!1},{subject:"CHEBI:36080",root_subject:"CHEBI:24431",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0001025",exclude_from_extensions:!1},{subject:"CHEBI:36080",root_subject:"CHEBI:24431",object:["CARO:0000000","http://purl.obolibrary.org/obo/go/shapes/RootCellularComponent"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002432",exclude_from_extensions:!1},{subject:"CHEBI:36080",root_subject:"CHEBI:24431",object:["GO:0032991"],is_multivalued:!1,is_required:!1,context:"",predicate:"BFO:0000050",exclude_from_extensions:!1},{subject:"CHEBI:36080",root_subject:"CHEBI:24431",object:["GO:0003674"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002326",exclude_from_extensions:!1},{subject:"CHEBI:33695",root_subject:"CHEBI:24431",object:["CARO:0000000"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0001025",exclude_from_extensions:!1},{subject:"CHEBI:33695",root_subject:"CHEBI:24431",object:["CARO:0000000","http://purl.obolibrary.org/obo/go/shapes/RootCellularComponent"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002432",exclude_from_extensions:!1},{subject:"CHEBI:33695",root_subject:"CHEBI:24431",object:["GO:0032991"],is_multivalued:!1,is_required:!1,context:"",predicate:"BFO:0000050",exclude_from_extensions:!1},{subject:"CHEBI:33695",root_subject:"CHEBI:24431",object:["GO:0003674"],is_multivalued:!1,is_required:!1,context:"",predicate:"RO:0002326",exclude_from_extensions:!1}],nS=[{id:"CHEBI:33695",label:"information biomacromolecule",definition:"",comment:"",synonyms:[""]},{id:"CHEBI:36080",label:"protein",definition:"A biological macromolecule minimally consisting of one polypeptide chain synthesized at the ribosome.",comment:"",synonyms:["proteins"]},{id:"GO:0032991",label:"protein-containing complex",definition:"A stable assembly of two or more macromolecules, i.e. proteins, nucleic acids, carbohydrates or lipids, in which at least one component is a protein and the constituent parts function together.",comment:"A protein complex in this context is meant as a stable set of interacting proteins which can be co-purified by an acceptable method, and where the complex has been shown to exist as an isolated, functional unit in vivo. Acceptable experimental methods include stringent protein purification followed by detection of protein interaction. The following methods should be considered non-acceptable: simple immunoprecipitation, pull-down experiments from cell extracts without further purification, colocalization and 2-hybrid screening. Interactions that should not be captured as protein complexes include: 1) enzyme/substrate, receptor/ligand or any similar transient interactions, unless these are a critical part of the complex assembly or are required e.g. for the receptor to be functional; 2) proteins associated in a pull-down/co-immunoprecipitation assay with no functional link or any evidence that this is a defined biological entity rather than a loose-affinity complex; 3) any complex where the only evidence is based on genetic interaction data; 4) partial complexes, where some subunits (e.g. transmembrane ones) cannot be expressed as recombinant proteins and are excluded from experiments (in this case, independent evidence is necessary to find out the composition of the full complex, if known). Interactions that may be captured as protein complexes include: 1) enzyme/substrate or receptor/ligand if the complex can only assemble and become functional in the presence of both classes of subunits; 2) complexes where one of the members has not been shown to be physically linked to the other(s), but is a homologue of, and has the same functionality as, a protein that has been experimentally demonstrated to form a complex with the other member(s); 3) complexes whose existence is accepted based on localization and pharmacological studies, but for which experimental evidence is not yet available for the complex as a whole.",synonyms:["macromolecular complex@","@macromolecule complex@","@protein containing complex"]},{id:"GO:0005575",label:"cellular_component",definition:"A location, relative to cellular compartments and structures, occupied by a macromolecular machine. There are three types of cellular components described in the gene ontology: (1) the cellular anatomical entity where a gene product carries out a molecular function (e.g., plasma membrane, cytoskeleton) or membrane-enclosed compartments (e.g., mitochondrion); (2) virion components, where viral proteins act, and (3) the stable macromolecular complexes of which gene product are parts (e.g., the clathrin complex).",comment:"Note that, in addition to forming the root of the cellular component ontology, this term is recommended for the annotation of gene products whose cellular component is unknown. When this term is used for annotation, it indicates that no information was available about the cellular component of the gene product annotated as of the date the annotation was made; the evidence code 'no data' (ND), is used to indicate this.",synonyms:["cell or subcellular entity@","@cellular component"]},{id:"GO:0008150",label:"biological_process",definition:"A process that emerges from two or more causally-connected macromolecular activities and has evolved to achieve a biological objective.",comment:"Note that, in addition to forming the root of the biological process ontology, this term is recommended for use for the annotation of gene products whose biological process is unknown. When this term is used for annotation, it indicates that no information was available about the biological process of the gene product annotated as of the date the annotation was made; the evidence code 'no data' (ND), is used to indicate this.",synonyms:["physiological process@","@biological process"]},{id:"GO:0048856",label:"anatomical structure development",definition:"The biological process whose specific outcome is the progression of an anatomical structure from an initial condition to its mature state. This process begins with the formation of the structure and ends with the mature structure, whatever form that may be including its natural destruction. An anatomical structure is any biological entity that occupies space and is distinguished from its surroundings. Anatomical structures can be macroscopic such as a carpel, or microscopic such as an acrosome.",comment:"",synonyms:["development of an anatomical structure"]},{id:"GO:0048646",label:"anatomical structure formation involved in morphogenesis",definition:"The developmental process pertaining to the initial formation of an anatomical structure from unspecified parts. This process begins with the specific processes that contribute to the appearance of the discrete structure and ends when the structural rudiment is recognizable. An anatomical structure is any biological entity that occupies space and is distinguished from its surroundings. Anatomical structures can be macroscopic such as a carpel, or microscopic such as an acrosome.",comment:"Note that, for example, the formation of a pseudopod in an amoeba would not be considered formation involved in morphogenesis because it would not be thought of as the formation of an anatomical structure that was part of the shaping of the amoeba during its development. The formation of an axon from a neuron would be considered the formation of an anatomical structure involved in morphogenesis because it contributes to the creation of the form of the neuron in a developmental sense.",synonyms:["formation of an anatomical structure involved in morphogenesis"]},{id:"GO:0009653",label:"anatomical structure morphogenesis",definition:"The process in which anatomical structures are generated and organized. Morphogenesis pertains to the creation of form.",comment:"",synonyms:["anatomical structure organization@","@morphogenesis"]},{id:"GO:0030154",label:"cell differentiation",definition:"The cellular developmental process in which a relatively unspecialized cell, e.g. embryonic or regenerative cell, acquires specialized structural and/or functional features that characterize a specific cell. Differentiation includes the processes involved in commitment of a cell to a specific fate and its subsequent development to the mature state.",comment:"",synonyms:[""]},{id:"GO:0051301",label:"cell division",definition:"The process resulting in division and partitioning of components of a cell to form more cells; may or may not be accompanied by the physical separation of a cell into distinct, individually membrane-bounded daughter cells.",comment:"Note that this term differs from 'cytokinesis ; GO:0000910' in that cytokinesis does not include nuclear division.",synonyms:[""]},{id:"GO:0045165",label:"cell fate commitment",definition:"The cellular developmental process by which a cell establishes the intrinsic character of a cell or tissue region irreversibly committing it to a particular fate.",comment:"Note that this term was 'cell fate determination' but the term name was changed to better match its existing definition and the child term 'cell fate determination; GO:0001709' was also created.",synonyms:[""]},{id:"GO:0001709",label:"cell fate determination",definition:"The cellular developmental process involved in cell fate commitment that occurs after cell fate specification, in which a cell is irreversibly committed to a cellular developmental fate which is heritable on cell division.",comment:"",synonyms:[""]},{id:"GO:0001708",label:"cell fate specification",definition:"The cellular developmental process involved in cell fate commitment in which the cell is designated to follow a developmental path, unless they receive extrinsic cues that direct an alternative fate.",comment:"",synonyms:[""]},{id:"GO:0022607",label:"cellular component assembly",definition:"The aggregation, arrangement and bonding together of a cellular component.",comment:"",synonyms:["cell structure assembly@","@cellular component assembly at cellular level"]},{id:"GO:0022411",label:"cellular component disassembly",definition:"A cellular process that results in the breakdown of a cellular component.",comment:"Note that this term is in the subset of terms that should not be used for direct gene product annotation. Instead, select a child term or, if no appropriate child term exists, please request a new term. Direct annotations to this term may be amended during annotation QC.",synonyms:["cell structure disassembly@","@cellular component disassembly at cellular level"]},{id:"GO:0016043",label:"cellular component organization",definition:"A process that results in the assembly, arrangement of constituent parts, or disassembly of a cellular component.",comment:"",synonyms:["cell organisation@","@cellular component organisation at cellular level@","@cellular component organisation in other organism@","@cellular component organization at cellular level@","@cellular component organization in other organism"]},{id:"GO:0021700",label:"developmental maturation",definition:"A developmental process, independent of morphogenetic (shape) change, that is required for an anatomical structure, cell or cellular component to attain its fully functional state.",comment:"",synonyms:[""]},{id:"GO:0040007",label:"growth",definition:"The increase in size or mass of an entire organism, a part of an organism or a cell.",comment:"See also the biological process term 'cell growth ; GO:0016049'.",synonyms:[""]},{id:"GO:0051179",label:"localization",definition:"Any process in which a cell, a substance, or a cellular entity, such as a protein complex or organelle, is transported, tethered to or otherwise maintained in a specific location. In the case of substances, localization may also be achieved via selective degradation.",comment:"",synonyms:["establishment and maintenance of localization@","@establishment and maintenance of position@","@localisation"]},{id:"GO:0040011",label:"locomotion",definition:"Self-propelled movement of a cell or organism from one location to another.",comment:"",synonyms:[""]},{id:"GO:0034367",label:"protein-containing complex remodeling",definition:"The acquisition, loss, or modification of macromolecules within a complex, resulting in the alteration of an existing complex.",comment:"",synonyms:["protein-containing complex remodelling"]},{id:"GO:0007389",label:"pattern specification process",definition:"Any developmental process that results in the creation of defined areas or spaces within an organism to which cells respond and eventually are instructed to differentiate.",comment:"",synonyms:[""]},{id:"GO:0008152",label:"metabolic process",definition:"The chemical reactions and pathways, including anabolism and catabolism, by which living organisms transform chemical substances. Metabolic processes typically transform small molecules, but also include macromolecular processes such as DNA repair and replication, and protein synthesis and degradation.",comment:"Note that metabolic processes do not include single functions or processes such as protein-protein interactions, protein-nucleic acids, nor receptor-ligand interactions.",synonyms:["metabolism"]},{id:"GO:0006810",label:"transport",definition:"The directed movement of substances (such as macromolecules, small molecules, ions) or cellular components (such as complexes and organelles) into, out of or within a cell, or between cells, or within a multicellular organism by means of some agent such as a transporter or a transporter complex, a pore or a motor protein.",comment:"Note that this term should not be used for direct annotation. It should be possible to make a more specific annotation to one of the children of this term, for e.g. to transmembrane transport, to microtubule-based transport or to vesicle-mediated transport.",synonyms:[""]},{id:"GO:0003674",label:"molecular_function",definition:"A molecular process that can be carried out by the action of a single macromolecular machine, usually via direct physical interactions with other molecular entities. Function in this sense denotes an action, or activity, that a gene product (or a complex) performs.",comment:"This is the same as GO molecular function",synonyms:["molecular function"]},{id:"GO:0005215",label:"transporter activity",definition:"Enables the directed movement of substances (such as macromolecules, small molecules, ions) into, out of or within a cell, or between cells.",comment:"Some transporters, such as certain members of the SLC family, are referred to as 'carriers'; however GO uses carrier with a different meaning: a carrier binds to and transports the substance (see GO:0140104 molecular carrier activity), whereas a transporter forms some pore that allows the passing of molecules.",synonyms:[""]},{id:"CHEBI:24431",label:"chemical entity",definition:"A chemical entity is a physical entity of interest in chemistry including molecular entities, parts thereof, and chemical substances.",comment:"",synonyms:["chemical entity"]},{id:"ECO:0000000",label:"evidence",definition:"A type of information that is used to support an assertion.",comment:"",synonyms:[""]},{id:"CARO:0000000",label:"anatomical entity",definition:"",comment:"",synonyms:[""]},{id:"CL:0000000",label:"cell",definition:"A material entity of anatomical origin (part of or deriving from an organism) that has as its parts a maximally connected cell compartment surrounded by a plasma membrane.",comment:"The definition of cell is intended to represent all cells, and thus a cell is defined as a material entity and not an anatomical structure, which implies that it is part of an organism (or the entirety of one).",synonyms:[""]},{id:"NCBITaxon:1",label:"root",definition:"",comment:"",synonyms:[""]},{id:"GO:0044848",label:"biological phase",definition:"A distinct period or stage in a biological process or cycle.",comment:"Note that phases are is_a disjoint from other biological processes. happens_during relationships can operate between phases and other biological processes e.g. DNA replication happens_during S phase.",synonyms:[""]},{id:"UBERON:0000105",label:"life cycle stage",definition:"A spatiotemporal region encompassing some part of the life cycle of an organism.",comment:"",synonyms:[""]},{id:"PO:0009012",label:"plant structure development stage",definition:"A stage in the life of a plant structure (PO:0009011) during which the plant structure undergoes developmental processes.",comment:"",synonyms:["etapa de desarrollo de estructura vegetal (Spanish, exact)@","@plant growth and development stage (exact)"]},{id:"BFO:0000050",label:"part of",definition:"a core relation that holds between a part and its whole",comment:"",synonyms:[""]},{id:"BFO:0000051",label:"has part",definition:"a core relation that holds between a whole and its part",comment:"",synonyms:[""]},{id:"BFO:0000066",label:"occurs in",definition:"b occurs_in c =def b is a process and c is a material entity or immaterial entity& there exists a spatiotemporal region r and b occupies_spatiotemporal_region r.& forall(t) if b exists_at t then c exists_at t & there exist spatial regions s and s\u2019 where & b spatially_projects_onto s at t& c is occupies_spatial_region s\u2019 at t& s is a proper_continuant_part_of s\u2019 at t",comment:"Paraphrase of definition: a relation between a process and an independent continuant, in which the process takes place entirely within the independent continuant",synonyms:[""]},{id:"RO:0002220",label:"adjacent to",definition:"x adjacent to y if and only if x and y share a boundary.",comment:"",synonyms:[""]},{id:"RO:0002131",label:"overlaps",definition:"x overlaps y if and only if there exists some z such that x has part z and z part of y",comment:"",synonyms:[""]},{id:"RO:0002490",label:"existence overlaps",definition:"x existence overlaps y if and only if either (a) the start of x is part of y or (b) the end of x is part of y. Formally: x existence starts and ends during y iff (\u03b1(x) >= \u03b1(y) & \u03b1(x) <= \u03c9(y)) OR (\u03c9(x) <= \u03c9(y) & \u03c9(x) >= \u03b1(y))",comment:"The relations here were created based on work originally by Fabian Neuhaus and David Osumi-Sutherland. The work has not yet been vetted and errors in definitions may have occurred during transcription.",synonyms:[""]},{id:"RO:0002491",label:"existence starts and ends during",definition:"x exists during y if and only if: 1) the time point at which x begins to exist is after or equal to the time point at which y begins and 2) the time point at which x ceases to exist is before or equal to the point at which y ends. Formally: x existence starts and ends during y iff \u03b1(x) >= \u03b1(y) & \u03b1(x) <= \u03c9(y) & \u03c9(x) <= \u03c9(y) & \u03c9(x) >= \u03b1(y)",comment:"The relations here were created based on work originally by Fabian Neuhaus and David Osumi-Sutherland. The work has not yet been vetted and errors in definitions may have occurred during transcription.",synonyms:["exists during"]},{id:"RO:0002333",label:"enabled by",definition:"inverse of enables",comment:"",synonyms:[""]},{id:"RO:0002326",label:"contributes to",definition:"",comment:"",synonyms:[""]},{id:"RO:0002233",label:"has input",definition:"p has input c iff: p is a process, c is a material entity, c is a participant in p, c is present at the start of p, and the state of c is modified during p.",comment:"",synonyms:[""]},{id:"RO:0002234",label:"has output",definition:"p has output c iff c is a participant in p, c is present at the end of p, and c is not present in the same state at the beginning of p.",comment:"",synonyms:[""]},{id:"RO:0004009",label:"has primary input",definition:"p has primary input c if (a) p has input c and (b) the goal of process is to modify, consume, or transform c.",comment:"",synonyms:[""]},{id:"RO:0004008",label:"has primary output",definition:"p has primary output c if (a) p has output c and (b) the goal of process is to modify, produce, or transform c.",comment:"",synonyms:[""]},{id:"RO:0002339",label:"has target end location",definition:"This relationship holds between p and l when p is a transport or localization process in which the outcome is to move some cargo c from a an initial location to some destination l.",comment:"",synonyms:[""]},{id:"RO:0002338",label:"has target start location",definition:"This relationship holds between p and l when p is a transport or localization process in which the outcome is to move some cargo c from some initial location l to some destination.",comment:"",synonyms:[""]},{id:"RO:0002313",label:"transports or maintains localization of",definition:"Holds between p and c when p is a localization process (localization covers maintenance of localization as well as its establishment)  and the outcome of this process is to regulate the localization of c.",comment:"",synonyms:[""]},{id:"RO:0002413",label:"provides input for",definition:"p provides input for q iff p is immediately causally upstream of q, and there exists some c such that p has_output c and q has_input c.",comment:"",synonyms:[""]},{id:"RO:0002629",label:"directly positively regulates",definition:"p directly positively regulates q iff p is immediately causally upstream of q, and p positively regulates q.",comment:"",synonyms:[""]},{id:"RO:0012000",label:"has small molecule regulator",definition:"a relation between a process and a continuant, in which the process is regulated by the small molecule continuant",comment:"",synonyms:[""]},{id:"RO:0012001",label:"has small molecule activator",definition:"a relation between a process and a continuant, in which the process is activated by the small molecule continuant",comment:"",synonyms:[""]},{id:"RO:0012002",label:"has small molecule inhibitor",definition:"a relation between a process and a continuant, in which the process is inhibited by the small molecule continuant",comment:"",synonyms:[""]},{id:"RO:0012004",label:"is small molecule regulator of",definition:"a relation between a continuant and a process, in which the continuant is a small molecule that regulates the process",comment:"",synonyms:[""]},{id:"RO:0012005",label:"is small molecule activator of",definition:"a relation between a continuant and a process, in which the continuant is a small molecule that activates the process",comment:"",synonyms:[""]},{id:"RO:0012006",label:"is small molecule inhibitor of",definition:"a relation between a continuant and a process, in which the continuant is a small molecule that inhibits the process",comment:"",synonyms:[""]},{id:"RO:0001025",label:"located in",definition:"a relation between two independent continuants, the target and the location, in which the target is entirely within the location",comment:"",synonyms:[""]},{id:"RO:0001015",label:"location of",definition:"a relation between two independent continuants, the location and the target, in which the target is entirely within the location",comment:"",synonyms:[""]},{id:"RO:0002432",label:"is active in",definition:"c executes activity in d if and only if c enables p and p occurs_in d.  Assuming no action at a distance by gene products, if a gene product enables (is capable of) a process that occurs in some structure, it must have at least some part in that structure.",comment:"",synonyms:["enables activity in"]},{id:"RO:0002092",label:"happens during",definition:"",comment:"X happens_during Y iff: (start(Y) before_or_simultaneous_with start(X)) AND (end(X) before_or_simultaneous_with end(Y))",synonyms:[""]},{id:"RO:0002211",label:"regulates",definition:"p regulates q iff p is causally upstream of q, the execution of p is not constant and varies according to specific conditions, and p influences the rate or magnitude of execution of q due to an effect either on some enabler of q or some enabler of a part of q.",comment:"",synonyms:[""]},{id:"RO:0002212",label:"negatively regulates",definition:"p negatively regulates q iff p regulates q, and p decreases the rate or magnitude of execution of q.",comment:"",synonyms:[""]},{id:"RO:0002213",label:"positively regulates",definition:"p positively regulates q iff p regulates q, and p increases the rate or magnitude of execution of q.",comment:"",synonyms:[""]},{id:"RO:0002578",label:"directly regulates",definition:"p directly regulates q iff p is immediately causally upstream of q and p regulates q.",comment:"",synonyms:[""]},{id:"RO:0002630",label:"directly negatively regulates",definition:"p directly negatively regulates q iff p is immediately causally upstream of q, and p negatively regulates q.",comment:"",synonyms:[""]},{id:"RO:0002406",label:"obsolete directly activates",definition:"",comment:"This term was obsoleted because it has the same meaning as 'directly positively regulates'.",synonyms:[""]},{id:"RO:0012012",label:"indirectly regulates",definition:"p indirectly regulates q iff p is indirectly causally upstream of q and p regulates q.",comment:"",synonyms:[""]},{id:"RO:0002407",label:"indirectly positively regulates",definition:"p indirectly positively regulates q iff p is indirectly causally upstream of q and p positively regulates q.",comment:"",synonyms:[""]},{id:"RO:0002409",label:"indirectly negatively regulates",definition:"p indirectly negatively regulates q iff p is indirectly causally upstream of q and p negatively regulates q.",comment:"",synonyms:[""]},{id:"RO:0012009",label:"constitutively upstream of",definition:"p is constitutively upstream of q iff p is causally upstream of q, p is required for execution of q or a part of q, and the execution of p is approximately constant.",comment:"",synonyms:[""]},{id:"RO:0012010",label:"removes input for",definition:"p removes input for q iff p is causally upstream of q, there exists some c such that p has_input c and q has_input c, p reduces the levels of c, and c is rate limiting for execution of q.",comment:"",synonyms:[""]},{id:"RO:0002418",label:"causally upstream of or within",definition:"p is 'causally upstream or within' q iff p is causally related to q, and the end of p precedes, or is coincident with, the end of q.",comment:"",synonyms:[""]},{id:"RO:0004046",label:"causally upstream of or within, negative effect",definition:"",comment:"",synonyms:[""]},{id:"RO:0004047",label:"causally upstream of or within, positive effect",definition:"",comment:"",synonyms:[""]},{id:"RO:0002411",label:"causally upstream of",definition:"p is causally upstream of q iff p is causally related to q, the end of p precedes the end of q, and p is not an occurrent part of q.",comment:"",synonyms:[""]},{id:"RO:0002305",label:"causally upstream of, negative effect",definition:"p is causally upstream of, negative effect q iff p is casually upstream of q, and the execution of p decreases the execution of q.",comment:"",synonyms:[""]},{id:"RO:0002304",label:"causally upstream of, positive effect",definition:"p is causally upstream of, positive effect q iff p is casually upstream of q, and the execution of p is required for the execution of q.",comment:"holds between x and y if and only if x is causally upstream of y and the progression of x increases the frequency, rate or extent of y",synonyms:[""]},{id:"RO:0012003",label:"acts on population of",definition:"p acts on population of c iff c' is a collection, has members of type c, and p has participant c",comment:"",synonyms:[""]},{id:"RO:0002296",label:"results in development of",definition:"p 'results in development of' c if and only if p is a developmental process and p results in the state of c changing from its initial state as a primordium or anlage through its mature state and to its final state.",comment:"",synonyms:[""]},{id:"RO:0002297",label:"results in formation of",definition:"",comment:"",synonyms:[""]},{id:"RO:0002298",label:"results in morphogenesis of",definition:"The relationship that links an entity with the process that results in the formation and shaping of that entity over time from an immature to a mature state.",comment:"",synonyms:[""]},{id:"RO:0002315",label:"results in acquisition of features of",definition:"The relationship that links a specified entity with the process that results in an unspecified entity acquiring the features and characteristics of the specified entity",comment:"",synonyms:[""]},{id:"RO:0002348",label:"results in commitment to",definition:"p 'results in commitment to' c if and only if p is a developmental process and c is a cell and p results in the state of c changing such that is can only develop into a single cell type.",comment:"",synonyms:[""]},{id:"RO:0002349",label:"results in determination of",definition:"p 'results in determination of' c if and only if p is a developmental process and c is a cell and p results in the state of c changing to be determined. Once a cell becomes determined, it becomes committed to differentiate down a particular pathway regardless of its environment.",comment:"",synonyms:[""]},{id:"RO:0002356",label:"results in specification of",definition:"The relationship linking a cell and its participation in a process that results in the fate of the cell being specified. Once specification has taken place, a cell will be committed to differentiate down a specific pathway if left in its normal environment. ",comment:"",synonyms:[""]},{id:"RO:0002588",label:"results in assembly of",definition:"",comment:"",synonyms:[""]},{id:"RO:0002590",label:"results in disassembly of",definition:"",comment:"",synonyms:[""]},{id:"RO:0002592",label:"results in organization of",definition:"p results in organization of c iff p results in the assembly, arrangement of constituent parts, or disassembly of c",comment:"",synonyms:[""]},{id:"RO:0002299",label:"results in maturation of",definition:"The relationship that links an entity with a process that results in the progression of the entity over time that is independent of changes in it's shape and results in an end point state of that entity.",comment:"",synonyms:[""]},{id:"RO:0002343",label:"results in growth of",definition:"",comment:"",synonyms:[""]},{id:"RO:0002565",label:"results in movement of",definition:"Holds between p and c when p is locomotion process and the outcome of this process is the change of location of c",comment:"",synonyms:[""]},{id:"RO:0002591",label:"results in remodeling of",definition:"",comment:"",synonyms:[""]}];class ei{static toTitleCase(e){e=e.toLowerCase().split(" ");for(var r=0;r<e.length;r++)e[r]=e[r].charAt(0).toUpperCase()+e[r].slice(1);return e.join(" ")}static genTermLookupTable(){const e={};return nS.forEach(r=>{e[r.id]=r}),e}static getPredicates(e,r,n,a=!0){const i=new Set;return r||n?(e.forEach(o=>{const l=!r||0===r.length||r.includes(o.subject),u=!n||0===n.length||o.object.some(c=>n.includes(c));l&&u&&o.exclude_from_extensions!==a&&i.add(o.predicate)}),[...i]):(e.forEach(o=>{a&&o.exclude_from_extensions||i.add(o.predicate)}),[...i])}static getObjects(e,r,n){const a=new Set;return e.forEach(i=>{r.includes(i.subject)&&(!n||i.predicate===n)&&i.object.forEach(o=>a.add(o))}),[...a]}static getSubjectShapes(e,r,n=!0){return e.filter(a=>n?a.subject===r&&!a.exclude_from_extensions:a.subject===r)}static getRangeBySubject(e,r,n){return e.find(a=>a.subject===r&&a.predicate===n&&!a.exclude_from_extensions)}static getRangeLabels(e,r){return e.map(a=>{const i=a.object.map(l=>{var u;return null===(u=r[l])||void 0===u?void 0:u.label}),o=Ye.cloneDeep(r[a.predicate]);return o.rangeLabel=i.join(", "),o})}static processHasParticipants(e){const r=new Map(e.nodes.map(n=>[n.id,n.lbl]));return e.edges.filter(n=>"RO:0000057"===n.pred).map(n=>({id:n.obj,label:r.get(n.obj)||""}))}static findCommonItems(e,r){const n=new Set(r.map(a=>a.id));return e.filter(a=>n.has(a.id))}}var ht=function(t){return t.none="none",t.oneToOne="oneToOne",t.oneToMany="oneToMany",t}(ht||{});function iS(t,e){return t.id===e.id}const Jh={[ue.GoMolecularEntity]:[{label:"Add part of (Protein Complex)",id:ue.GoProteinContainingComplex,node:{type:ue.GoProteinContainingComplex,category:[rr],label:"(GP) part of (Protein Complex)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,weight:3,isKey:!1,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToMany},{label:"Add located in (CC)",id:ue.GoCellularComponent,node:{type:ue.GoCellularComponent,category:[an],label:"(GP) located in (CC)",aspect:"C",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,weight:10,showInMenu:!0},predicate:W.edge.locatedIn,cardinality:ht.oneToMany}],[ue.GoProteinContainingComplex]:[{label:"Add has part (Gene Product)",id:ue.GoMolecularEntity,node:{type:ue.GoMolecularEntity,category:[Rr,rr],label:"(Protein Complex) has part (GP)",displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,weight:3,isKey:!1,showInMenu:!0},predicate:W.edge.hasPart,cardinality:ht.oneToMany}],[ue.GoMolecularFunction]:[{label:"Add enabled by Protein Complex",id:ue.GoProteinContainingComplex,node:{id:rr.id,type:ue.GoProteinContainingComplex,category:[rr],label:"(MF) enabled by (Protein Complex)",displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,termRequired:!0,weight:2,isKey:!0},predicate:W.edge.enabledBy,cardinality:ht.oneToOne},{label:"Add enabled by GP",id:ue.GoMolecularEntity,node:{id:Rr.id,type:ue.GoMolecularEntity,category:[Rr,rr],label:"(MF) enabled by (GP)",displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,termRequired:!0,weight:2,isKey:!0},predicate:W.edge.enabledBy,cardinality:ht.oneToOne},{label:"Add part of (BP)",id:ue.GoBiologicalProcess,node:{type:ue.GoBiologicalProcess,category:[Nr],label:"(MF) part of (BP)",aspect:"P",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.bp,weight:10,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToOne},{label:"Add occurs in (CC)",id:ue.GoCellularComponent,node:{type:ue.GoCellularComponent,category:[an],label:"(MF) occurs in (CC)",aspect:"C",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,weight:20,showInMenu:!0},predicate:W.edge.occursIn,cardinality:ht.oneToOne},{label:"Add occurs in (Cell Type)",id:ue.GoCellTypeEntity,node:{category:[yp],type:ue.GoCellTypeEntity,label:"occurs in (Cell Type)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!1,weight:30},predicate:W.edge.occursIn,cardinality:ht.oneToOne},{label:"Add occurs in (Anatomy)",id:ue.GoAnatomicalEntity,node:{category:[Ao],type:ue.GoAnatomicalEntity,label:"occurs in (Anatomy)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:40},predicate:W.edge.occursIn,cardinality:ht.oneToOne},{label:"Add occurs in (Organism)",id:ue.GoOrganism,node:{category:[qs],type:ue.GoOrganism,label:"part of (Organism)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:50},predicate:W.edge.occursIn,cardinality:ht.oneToOne},{label:"Add Has Input (Chemical/Protein Containing Complex)",id:ue.GoChemicalEntityHasInput,node:{category:[jn,rr],type:ue.GoChemicalEntityHasInput,label:"has input (Chemical/Protein Containing Complex)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.mf,isExtension:!0,weight:4,showInMenu:!0},predicate:W.edge.hasInput,cardinality:ht.oneToMany},{label:"Add Has Output (Chemical/Protein Containing Complex)",id:ue.GoChemicalEntityHasOutput,node:{category:[jn,rr],type:ue.GoChemicalEntityHasOutput,label:"has output (Chemical/Protein Containing Complex)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.mf,isExtension:!0,weight:5,showInMenu:!0},predicate:W.edge.hasOutput,cardinality:ht.oneToMany},{label:"Add Happens During (Biological Phase)",id:ue.GoBiologicalPhase,node:{category:[A_,ic],type:ue.GoBiologicalPhase,label:"happens during (Biological Phase)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.mf,isExtension:!0,weight:3,showInMenu:!0},predicate:W.edge.happensDuring,cardinality:ht.oneToOne},{label:"Add has part (Subfunction)",id:ue.GoMolecularFunction,node:{type:ue.GoMolecularFunction,category:[jr],label:"has part (Subfunction)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,weight:100,showInMenu:!0},predicate:W.edge.hasPart,cardinality:ht.oneToMany},...(t=>{const e=[];return Ye.each(t,r=>{e.push({id:ue.GoBiologicalProcess,node:{type:ue.GoBiologicalProcess,category:[Nr],label:`MF ${r.label} BP`,aspect:"P",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.bp,isKey:!0,relationEditable:!0,weight:10},predicate:r,cardinality:ht.oneToOne})}),e})([Se.createEntity(W.edge.causallyUpstreamOfOrWithin),Se.createEntity(W.edge.causallyUpstreamOf),Se.createEntity(W.edge.causallyUpstreamOfNegativeEffect),Se.createEntity(W.edge.causallyUpstreamOfPositiveEffect),Se.createEntity(W.edge.causallyUpstreamOfOrWithinPositiveEffect),Se.createEntity(W.edge.causallyUpstreamOfOrWithinNegativeEffect)])],[ue.GoBiologicalProcess]:[{label:"Add part of (BP)",id:ue.GoBiologicalProcess,node:{category:[Nr],type:ue.GoBiologicalProcess,label:"part of (BP)",aspect:"P",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.bp,isExtension:!0,weight:10,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToOne},{label:"Add occurs in (CC)",id:ue.GoCellularComponent,node:{category:[an],type:ue.GoCellularComponent,aspect:"C",label:"occurs in (CC)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.bp,isExtension:!0,weight:20},predicate:W.edge.occursIn,cardinality:ht.oneToOne},{label:"Add Has Input (Chemical/Anatomical Entity/Protein Containing Complex)",id:ue.GoChemicalEntityHasInput,node:{category:[jn,Ao,rr],type:ue.GoChemicalEntityHasInput,label:"Has Input (Chemical/Anatomical Entity/Protein Containing Complex)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.bp,isExtension:!0,weight:14,showInMenu:!0},predicate:W.edge.hasInput,cardinality:ht.oneToMany},{label:"Add Has Output (Chemical/Anatomical Entity/Protein Containing Complex)",id:ue.GoChemicalEntityHasInput,node:{category:[jn,Ao,rr],type:ue.GoChemicalEntityHasOutput,label:"Has Output (Chemical/Anatomical Entity/Protein Containing Complex)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.bp,isExtension:!0,weight:14,showInMenu:!0},predicate:W.edge.hasOutput,cardinality:ht.oneToMany}],[ue.GoCellularComponent]:[{label:"Add part of (CC)",id:ue.GoCellularComponent,node:{category:[an],type:ue.GoCellularComponent,aspect:"C",label:"part of (CC)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:20,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToOne},{label:"Add part of (Cell Type)",id:ue.GoCellTypeEntity,node:{category:[yp],type:ue.GoCellTypeEntity,label:"part of (Cell Type)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:30,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToOne},{label:"Add part of (Anatomy)",id:ue.GoAnatomicalEntity,node:{category:[Ao],type:ue.GoAnatomicalEntity,label:"part of (Anatomy)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:40,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToOne},{label:"Add part of (Organism)",id:ue.GoOrganism,node:{category:[qs],type:ue.GoOrganism,label:"part of (Organism)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:50,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToOne},{label:"Add Existence Overlaps (BP/Phase/Stage)",id:ue.BPPhaseStageExistenceOverlaps,node:{category:[Nr,ic],type:ue.BPPhaseStageExistenceOverlaps,label:"existence overlaps (BP/Phase/Stage)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:60,showInMenu:!0},predicate:W.edge.existenceOverlaps,cardinality:ht.oneToMany},{label:"Add Existence Starts and Ends During (BP/Phase/Stage)",id:ue.BPPhaseStageExistenceStartsEnds,node:{category:[Nr,ic],type:ue.BPPhaseStageExistenceStartsEnds,label:"Add Existence Starts and Ends During (BP/Phase/Stage)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:61,showInMenu:!0},predicate:W.edge.existenceStartsEndsDuring,cardinality:ht.oneToMany}],[ue.GoCellTypeEntity]:[{label:"Add part of (Anatomy)",id:ue.GoAnatomicalEntity,node:{category:[Ao],type:ue.GoAnatomicalEntity,label:"part of (Anatomy)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:40,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToOne},{label:"Add part of (Organism)",id:ue.GoOrganism,node:{category:[qs],type:ue.GoOrganism,label:"part of (Organism)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:50,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToOne}],[ue.GoAnatomicalEntity]:[{label:"Add part of (Organism)",id:ue.GoOrganism,node:{category:[qs],type:ue.GoOrganism,label:"part of (Organism)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:50,showInMenu:!0},predicate:W.edge.partOf,cardinality:ht.oneToOne}],[ue.GoChemicalEntity]:[{label:"Add located in (CC)",id:ue.GoCellularComponent,node:{category:[an],type:ue.GoCellularComponent,aspect:"C",label:"located in (CC)",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,isExtension:!0,weight:20,showInMenu:!0},predicate:W.edge.locatedIn,cardinality:ht.oneToOne}]};class Vr{constructor(e,r){this.count=0,this.frequency=0,this.tooltip="",this.nodes=[],this.label=e||null,this.shorthand=r||null}getSortedNodes(){return Ye.orderBy(this.nodes,["frequency"],["desc"])}append(e){this.nodes.push(e),this.count=this.nodes.length,e instanceof nc?this.tooltip+=`${e.term.label} (${e.term.id}) \n`:e instanceof sc&&(this.tooltip+=`${e.evidence.label} (${e.evidence.id}) \n\n                        ${e.referenceEntity.label} \n\n                        ${e.withEntity.label} \n`)}}class ev{constructor(){this.bp=new Vr("Biological Process","BP"),this.cc=new Vr("Cellular Component","CC"),this.mf=new Vr("Molecular Function","MF"),this.gp=new Vr("Gene Product","GP"),this.other=new Vr("Other"),this.evidences=new Vr("Evidence(Full)"),this.evidenceEcos=new Vr("Evidence Codes"),this.references=new Vr("Reference"),this.withs=new Vr("With/From"),this.papers=new Vr("PMID Papers"),this.contributors=new Vr("Contribution"),this.relations=new Vr("Relations"),this.dates=new Vr("Dates"),this.allTerms=[],this.nodes=[],this.nodes=[this.mf,this.bp,this.cc]}}var tv=function(t){return t.GP="gp",t.MF="mf",t.BP="bp",t.CC="cc",t.DATE="date",t}(tv||{}),rv=function(t){return t.TABLE="table",t.TREE="tree",t.TREE_TABLE="tree_table",t.SLIM_TREE="slim_tree",t.GRAPH="graph",t}(rv||{}),Ke=function(t){return t.default="default",t.bpOnly="bpOnly",t.ccOnly="ccOnly",t.molecule="molecule",t.proteinComplex="proteinComplex",t.simpleAnnoton="simpleAnnoton",t}(Ke||{});class lS{constructor(){this.width=150,this.height=150}}class uS{constructor(){this.x=0,this.y=0}}class nv extends rS{constructor(){super(),this.validateEvidence=!0,this.modified=!1,this.expanded=!1,this.visible=!0,this.graphPreview={nodes:[],edges:[]},this.summary=new ev,this.activityDisplayType=rv.TREE,this.displayNumber="1",this.hasViolations=!1,this.position=new uS,this.size=new lS,this._backgroundColor="#c8e6c9",this.activityType="default",this.id=$s(),this.errors=[],this.submitErrors=[]}updateProperties(){this.updateNodeTypes(),this.updateSummary(),this.updateDate(),this.updateRootNodes()}get id(){return this._id}set id(e){this._id=e,this.displayId=Ms.cleanID(e)+"activity"}get backgroundColor(){switch(this.activityType){case Ke.ccOnly:return"#DDDDDD";case Ke.bpOnly:return"#d7ccc8";case Ke.molecule:return"#b2dfdb";case Ke.proteinComplex:return"#e2bde7";default:return this._backgroundColor}}get rootNode(){return this.sourceNodes()[0]}postRunUpdateCompliment(){(this.activityType===Ke.default||this.activityType===Ke.bpOnly)&&this.mfNode&&this.enabledByEdge&&this.mfNode.isComplement&&(this.enabledByEdge.predicate.isComplement=!0)}postRunUpdate(){if(this.activityType!==Ke.ccOnly){const e=this.enabledByEdge;this.mfNode&&e&&(this.mfNode.showEvidence=!1,this.mfNode.predicate=e.predicate)}}getActivityTypeDetail(){return W.activityType.options[this.activityType]}updateNodeTypes(){this.nodes.forEach(e=>{e.updateNodeType()})}updateRootNodes(){this.getEdges(this.rootNode.id).forEach(r=>{var n,a,i,o;switch(null===(n=r.predicate.edge)||void 0===n?void 0:n.id){case W.edge.enabledBy.id:this.mfNode=r.subject,this.gpNode=r.object,this.enabledByEdge=r;break;case W.edge.partOf.id:this.bpNode=r.object;break;case W.edge.occursIn.id:this.ccNode=r.object}this.activityType===Ke.bpOnly&&Ye.find(W.bpOnlyCausalEdges,{id:null===(a=r.predicate.edge)||void 0===a?void 0:a.id})&&(this.bpNode=r.object,this.bpPartOfEdge=r),this.activityType===Ke.ccOnly&&(this.gpNode=this.rootNode,((null===(i=r.predicate.edge)||void 0===i?void 0:i.id)===W.edge.locatedIn.id||(null===(o=r.predicate.edge)||void 0===o?void 0:o.id)===W.edge.isActiveIn.id)&&(this.ccNode=r.object)),this.activityType===Ke.proteinComplex&&(this.pccNode=this.gpNode)})}updateDate(){const e=this.rootNode;e&&(this.date=new Date(e.date),this.nodes.forEach(r=>{const n=new Date(r.date);n>this.date&&(this.date=n)}),Ye.each(this.edges,r=>{Ye.each(r.predicate.evidence,n=>{const a=new Date(n.date);a>this.date&&(this.date=a)})}),this.formattedDate=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(this.date))}updateSummary(){let e=new ev,r=0;this.nodes.filter(a=>a.term.hasValue()).forEach(a=>{a.type===ue.GoMolecularFunction?e.mf.append(a):a.type===ue.GoBiologicalProcess?e.bp.append(a):a.type===ue.GoCellularComponent?e.cc.append(a):e.other.append(a)}),e.mf.nodes.length>0&&(r|=4),e.bp.nodes.length>0&&(r|=2),e.cc.nodes.length>0&&(r|=1),e.coverage=r,this.summary=e}updateShapeMenuShex(e){Ye.each(this.nodes,r=>{const n=r.category.map(o=>o.category);e&&n.push(...e.map(o=>o.id));const a=((t,e=!0)=>{const r=[],n=ei.genTermLookupTable(),a=kc_goshapes;return t.forEach(i=>{const o=ei.getSubjectShapes(a,i,e);if(o){const l=ei.getRangeLabels(o,n);r.push(...l)}}),Ye.uniqWith(r,iS)})(n),i=[];Ye.each(a,o=>{i.push(o)}),r.canInsertNodes=i,r.insertMenuNodes=Ye.filter(i,o=>!0)})}updateEdgesShex(e,r,n){let i=!1;Ye.each(Jh[e.type]||[],o=>{if(n.edge.id===o.predicate.id&&o.cardinality===ht.oneToOne){const l=this.edgeTypeExist(e.id,o.predicate.id,e.type,o.node.type);if(l)return l.object.treeLevel++,this.removeEdge(l.subject,l.object,l.predicate),this.addEdge(l.subject,r,l.predicate),this.addEdge(r,l.object,n),i=!0,!1}}),i||this.addEdgeById(e.id,r.id,n)}updateEdges(e,r,n){let i=!1;Ye.each(Jh[e.type]||[],o=>{if(n.edge.id===o.predicate.id&&o.cardinality===ht.oneToOne){const l=this.edgeTypeExist(e.id,o.predicate.id,e.type,o.node.type);if(l)return l.object.treeLevel++,this.removeEdge(l.subject,l.object,l.predicate),this.addEdge(l.subject,r,l.predicate),this.addEdge(r,l.object,n),i=!0,!1}}),i||this.addEdgeById(e.id,r.id,n)}getNodesByType(e){return Ye.filter(this.nodes,n=>n.type===e)}getRootNodeByType(e){const r=this.getEdges(this.rootNode.id),n=Ye.find(r,a=>a.object.type===e);return n?n.object:null}adjustCC(){if(this.ccNode&&!this.ccNode.hasValue()){const e=this.getEdges(this.ccNode.id);if(e.length>0){const r=e[0],n=W.rootNode.cc;this.ccNode.term=new Se(n.id,n.label),this.ccNode.predicate.evidence=r.predicate.evidence}}}adjustActivity(){if(this.activityType===W.activityType.options.bpOnly.name){const e=W.rootNode.mf,r=this.mfNode,n=this.bpNode;r.term=new Se(e.id,e.label),r.predicate.evidence=n.predicate.evidence,this.bpOnlyEdge&&(this.bpPartOfEdge.predicate.edge.id=n.predicate.edge.id=this.bpOnlyEdge.id,this.bpPartOfEdge.predicate.edge.label=n.predicate.edge.label=this.bpOnlyEdge.label)}this.activityType!==Ke.ccOnly&&this.activityType!==Ke.molecule&&this.mfNode&&this.enabledByEdge&&(this.enabledByEdge.predicate.evidence=this.mfNode.predicate.evidence)}copyValues(e){Ye.each(this.nodes,function(r){const n=e.getNode(r.id);n&&r.copyValues(n)})}setActivityType(e){this.activityType=e}getEdgesByEdgeId(e){return Ye.filter(this.edges,n=>n.predicate.edge.id===e)||null}get title(){const e=this.gpNode,r=e?e.getTerm().label:"";let n="";return n=this.activityType===Ke.ccOnly||this.activityType===Ke.molecule?r:`enabled by (${r})`,n}get presentation(){if(this._presentation)return this._presentation;const e=this.gpNode,r=this.mfNode,n=e?e.getTerm().label:"",a=r?r.getTerm().label:"";let i="",o="";this.activityType===Ke.ccOnly||this.activityType===Ke.molecule||this.activityType===Ke.proteinComplex?o=n:(i=r?.isComplement?"NOT":"",o=`enabled by ${n}`);const l={qualifier:i,title:o,gpText:n,mfText:a,gp:{},fd:{}},u=this.nodes.sort(T_);return Ye.each(u,function(c){c.displaySection&&c.displayGroup&&(l[c.displaySection.id][c.displayGroup.id]||(l[c.displaySection.id][c.displayGroup.id]={shorthand:c.displayGroup.shorthand,label:c.displayGroup.label,nodes:[]}),l[c.displaySection.id][c.displayGroup.id].nodes.push(c),c.nodeGroup=l[c.displaySection.id][c.displayGroup.id],c.isComplement&&(c.nodeGroup.isComplement=!0))}),this._presentation=l,this._presentation}resetPresentation(){this._presentation=null}_sortActivities(e){const r=W.edgePriority;return Ye.orderBy(e,["weight",a=>{const i=r.indexOf(a.predicate.edge.id);return-1===i?r.length:i}])}}class pS{constructor(){this.terms=[],this.reference=[]}}class hS{constructor(){this.field=tv.GP,this.label="",this.ascending=!0}}class vS{constructor(){this.totalChanges=0,this.camsCount=0,this.termsCount=0,this.gpsCount=0,this.evidenceCount=0,this.referencesCount=0,this.withsCount=0,this.relationsCount=0}updateTotal(){this.totalChanges=this.termsCount+this.gpsCount+this.evidenceCount+this.referencesCount+this.withsCount+this.relationsCount}}class gS{constructor(e=!1,r=""){this.status=!1,this.message="",this.status=e,this.message=r}reset(){this.status=!1,this.message=""}}class av{constructor(){this.comments=[],this.groups=[],this.contributors=[],this.expanded=!1,this.causalRelations=[],this.sortBy=new hS,this.error=!1,this.modified=!1,this.modifiedStats=new vS,this.matchedCount=0,this.queryMatch=new pS,this.dateReviewAdded=Date.now(),this.moreDetail=!1,this.displayNumber="1",this.loading=new gS(!1),this.isReasoned=!1,this.hasViolations=!1,this.manualLayout=!1,this.layoutChanged=!1,this.activities=[],this.storedActivities=[]}get id(){return this._id}set id(e){this._id=e,this.displayId=Ms.cleanID(e)}groupActivitiesByProcess(){return Ye.groupBy(this.activities,r=>r.activityType===Ke.molecule?"Small Molecules":r.bpNode?r.bpNode.term.label:"No Process Assigned")}findActivityById(e){return Ye.find(this.activities,n=>n.id===e)}updateProperties(){var e;Ye.each(this.activities,(n,a)=>{n.updateProperties()}),this.sortBy.label=null===(e=W.activitySortField.options[this.sortBy.field])||void 0===e?void 0:e.label}}var Pe=Ua(function(t,e){(function(){var r=this,n=r._,a=Array.prototype,i=Object.prototype,l=a.push,u=a.slice,c=i.toString,d=i.hasOwnProperty,p=Array.isArray,v=Object.keys,m=Function.prototype.bind,y=Object.create,b=function(){},g=function(O){return O instanceof g?O:this instanceof g?void(this._wrapped=O):new g(O)};t.exports&&(e=t.exports=g),e._=g,g.VERSION="1.8.3";var _=function(O,S,L){if(void 0===S)return O;switch(L??3){case 1:return function(q){return O.call(S,q)};case 2:return function(q,V){return O.call(S,q,V)};case 3:return function(q,V,H){return O.call(S,q,V,H)};case 4:return function(q,V,H,K){return O.call(S,q,V,H,K)}}return function(){return O.apply(S,arguments)}},w=function(O,S,L){return null==O?g.identity:g.isFunction(O)?_(O,S,L):g.isObject(O)?g.matcher(O):g.property(O)};g.iteratee=function(O,S){return w(O,S,1/0)};var E=function(O,S){return function(L){var q=arguments.length;if(q<2||null==L)return L;for(var V=1;V<q;V++)for(var H=arguments[V],K=O(H),pe=K.length,we=0;we<pe;we++){var te=K[we];(!S||void 0===L[te])&&(L[te]=H[te])}return L}},R=function(O){if(!g.isObject(O))return{};if(y)return y(O);b.prototype=O;var S=new b;return b.prototype=null,S},P=function(O){return function(S){return S?.[O]}},k=Math.pow(2,53)-1,T=P("length"),D=function(O){var S=T(O);return"number"==typeof S&&S>=0&&S<=k};function I(O){return function(L,q,V,H){q=_(q,H,4);var K=!D(L)&&g.keys(L),pe=(K||L).length,we=O>0?0:pe-1;return arguments.length<3&&(V=L[K?K[we]:we],we+=O),function S(L,q,V,H,K,pe){for(;K>=0&&K<pe;K+=O){var we=H?H[K]:K;V=q(V,L[we],we,L)}return V}(L,q,V,K,we,pe)}}g.each=g.forEach=function(O,S,L){var q,V;if(S=_(S,L),D(O))for(q=0,V=O.length;q<V;q++)S(O[q],q,O);else{var H=g.keys(O);for(q=0,V=H.length;q<V;q++)S(O[H[q]],H[q],O)}return O},g.map=g.collect=function(O,S,L){S=w(S,L);for(var q=!D(O)&&g.keys(O),V=(q||O).length,H=Array(V),K=0;K<V;K++){var pe=q?q[K]:K;H[K]=S(O[pe],pe,O)}return H},g.reduce=g.foldl=g.inject=I(1),g.reduceRight=g.foldr=I(-1),g.find=g.detect=function(O,S,L){var q;if(void 0!==(q=D(O)?g.findIndex(O,S,L):g.findKey(O,S,L))&&-1!==q)return O[q]},g.filter=g.select=function(O,S,L){var q=[];return S=w(S,L),g.each(O,function(V,H,K){S(V,H,K)&&q.push(V)}),q},g.reject=function(O,S,L){return g.filter(O,g.negate(w(S)),L)},g.every=g.all=function(O,S,L){S=w(S,L);for(var q=!D(O)&&g.keys(O),V=(q||O).length,H=0;H<V;H++){var K=q?q[H]:H;if(!S(O[K],K,O))return!1}return!0},g.some=g.any=function(O,S,L){S=w(S,L);for(var q=!D(O)&&g.keys(O),V=(q||O).length,H=0;H<V;H++){var K=q?q[H]:H;if(S(O[K],K,O))return!0}return!1},g.contains=g.includes=g.include=function(O,S,L,q){return D(O)||(O=g.values(O)),("number"!=typeof L||q)&&(L=0),g.indexOf(O,S,L)>=0},g.invoke=function(O,S){var L=u.call(arguments,2),q=g.isFunction(S);return g.map(O,function(V){var H=q?S:V[S];return null==H?H:H.apply(V,L)})},g.pluck=function(O,S){return g.map(O,g.property(S))},g.where=function(O,S){return g.filter(O,g.matcher(S))},g.findWhere=function(O,S){return g.find(O,g.matcher(S))},g.max=function(O,S,L){var H,K,q=-1/0,V=-1/0;if(null==S&&null!=O)for(var pe=0,we=(O=D(O)?O:g.values(O)).length;pe<we;pe++)(H=O[pe])>q&&(q=H);else S=w(S,L),g.each(O,function(te,B,ae){((K=S(te,B,ae))>V||K===-1/0&&q===-1/0)&&(q=te,V=K)});return q},g.min=function(O,S,L){var H,K,q=1/0,V=1/0;if(null==S&&null!=O)for(var pe=0,we=(O=D(O)?O:g.values(O)).length;pe<we;pe++)(H=O[pe])<q&&(q=H);else S=w(S,L),g.each(O,function(te,B,ae){((K=S(te,B,ae))<V||K===1/0&&q===1/0)&&(q=te,V=K)});return q},g.shuffle=function(O){for(var H,S=D(O)?O:g.values(O),L=S.length,q=Array(L),V=0;V<L;V++)(H=g.random(0,V))!==V&&(q[V]=q[H]),q[H]=S[V];return q},g.sample=function(O,S,L){return null==S||L?(D(O)||(O=g.values(O)),O[g.random(O.length-1)]):g.shuffle(O).slice(0,Math.max(0,S))},g.sortBy=function(O,S,L){return S=w(S,L),g.pluck(g.map(O,function(q,V,H){return{value:q,index:V,criteria:S(q,V,H)}}).sort(function(q,V){var H=q.criteria,K=V.criteria;if(H!==K){if(H>K||void 0===H)return 1;if(H<K||void 0===K)return-1}return q.index-V.index}),"value")};var F=function(O){return function(S,L,q){var V={};return L=w(L,q),g.each(S,function(H,K){var pe=L(H,K,S);O(V,H,pe)}),V}};g.groupBy=F(function(O,S,L){g.has(O,L)?O[L].push(S):O[L]=[S]}),g.indexBy=F(function(O,S,L){O[L]=S}),g.countBy=F(function(O,S,L){g.has(O,L)?O[L]++:O[L]=1}),g.toArray=function(O){return O?g.isArray(O)?u.call(O):D(O)?g.map(O,g.identity):g.values(O):[]},g.size=function(O){return null==O?0:D(O)?O.length:g.keys(O).length},g.partition=function(O,S,L){S=w(S,L);var q=[],V=[];return g.each(O,function(H,K,pe){(S(H,K,pe)?q:V).push(H)}),[q,V]},g.first=g.head=g.take=function(O,S,L){if(null!=O)return null==S||L?O[0]:g.initial(O,O.length-S)},g.initial=function(O,S,L){return u.call(O,0,Math.max(0,O.length-(null==S||L?1:S)))},g.last=function(O,S,L){if(null!=O)return null==S||L?O[O.length-1]:g.rest(O,Math.max(0,O.length-S))},g.rest=g.tail=g.drop=function(O,S,L){return u.call(O,null==S||L?1:S)},g.compact=function(O){return g.filter(O,g.identity)};var M=function(O,S,L,q){for(var V=[],H=0,K=q||0,pe=T(O);K<pe;K++){var we=O[K];if(D(we)&&(g.isArray(we)||g.isArguments(we))){S||(we=M(we,S,L));var te=0,B=we.length;for(V.length+=B;te<B;)V[H++]=we[te++]}else L||(V[H++]=we)}return V};function G(O){return function(S,L,q){L=w(L,q);for(var V=T(S),H=O>0?0:V-1;H>=0&&H<V;H+=O)if(L(S[H],H,S))return H;return-1}}function j(O,S,L){return function(q,V,H){var K=0,pe=T(q);if("number"==typeof H)O>0?K=H>=0?H:Math.max(H+pe,K):pe=H>=0?Math.min(H+1,pe):H+pe+1;else if(L&&H&&pe)return q[H=L(q,V)]===V?H:-1;if(V!=V)return(H=S(u.call(q,K,pe),g.isNaN))>=0?H+K:-1;for(H=O>0?K:pe-1;H>=0&&H<pe;H+=O)if(q[H]===V)return H;return-1}}g.flatten=function(O,S){return M(O,S,!1)},g.without=function(O){return g.difference(O,u.call(arguments,1))},g.uniq=g.unique=function(O,S,L,q){g.isBoolean(S)||(q=L,L=S,S=!1),null!=L&&(L=w(L,q));for(var V=[],H=[],K=0,pe=T(O);K<pe;K++){var we=O[K],te=L?L(we,K,O):we;S?((!K||H!==te)&&V.push(we),H=te):L?g.contains(H,te)||(H.push(te),V.push(we)):g.contains(V,we)||V.push(we)}return V},g.union=function(){return g.uniq(M(arguments,!0,!0))},g.intersection=function(O){for(var S=[],L=arguments.length,q=0,V=T(O);q<V;q++){var H=O[q];if(!g.contains(S,H)){for(var K=1;K<L&&g.contains(arguments[K],H);K++);K===L&&S.push(H)}}return S},g.difference=function(O){var S=M(arguments,!0,!0,1);return g.filter(O,function(L){return!g.contains(S,L)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(O){for(var S=O&&g.max(O,T).length||0,L=Array(S),q=0;q<S;q++)L[q]=g.pluck(O,q);return L},g.object=function(O,S){for(var L={},q=0,V=T(O);q<V;q++)S?L[O[q]]=S[q]:L[O[q][0]]=O[q][1];return L},g.findIndex=G(1),g.findLastIndex=G(-1),g.sortedIndex=function(O,S,L,q){for(var V=(L=w(L,q,1))(S),H=0,K=T(O);H<K;){var pe=Math.floor((H+K)/2);L(O[pe])<V?H=pe+1:K=pe}return H},g.indexOf=j(1,g.findIndex,g.sortedIndex),g.lastIndexOf=j(-1,g.findLastIndex),g.range=function(O,S,L){null==S&&(S=O||0,O=0),L=L||1;for(var q=Math.max(Math.ceil((S-O)/L),0),V=Array(q),H=0;H<q;H++,O+=L)V[H]=O;return V};var z=function(O,S,L,q,V){if(!(q instanceof S))return O.apply(L,V);var H=R(O.prototype),K=O.apply(H,V);return g.isObject(K)?K:H};g.bind=function(O,S){if(m&&O.bind===m)return m.apply(O,u.call(arguments,1));if(!g.isFunction(O))throw new TypeError("Bind must be called on a function");var L=u.call(arguments,2),q=function(){return z(O,q,S,this,L.concat(u.call(arguments)))};return q},g.partial=function(O){var S=u.call(arguments,1),L=function(){for(var q=0,V=S.length,H=Array(V),K=0;K<V;K++)H[K]=S[K]===g?arguments[q++]:S[K];for(;q<arguments.length;)H.push(arguments[q++]);return z(O,L,this,this,H)};return L},g.bindAll=function(O){var S,q,L=arguments.length;if(L<=1)throw new Error("bindAll must be passed function names");for(S=1;S<L;S++)O[q=arguments[S]]=g.bind(O[q],O);return O},g.memoize=function(O,S){var L=function(q){var V=L.cache,H=""+(S?S.apply(this,arguments):q);return g.has(V,H)||(V[H]=O.apply(this,arguments)),V[H]};return L.cache={},L},g.delay=function(O,S){var L=u.call(arguments,2);return setTimeout(function(){return O.apply(null,L)},S)},g.defer=g.partial(g.delay,g,1),g.throttle=function(O,S,L){var q,V,H,K=null,pe=0;L||(L={});var we=function(){pe=!1===L.leading?0:g.now(),K=null,H=O.apply(q,V),K||(q=V=null)};return function(){var te=g.now();!pe&&!1===L.leading&&(pe=te);var B=S-(te-pe);return q=this,V=arguments,B<=0||B>S?(K&&(clearTimeout(K),K=null),pe=te,H=O.apply(q,V),K||(q=V=null)):!K&&!1!==L.trailing&&(K=setTimeout(we,B)),H}},g.debounce=function(O,S,L){var q,V,H,K,pe,we=function(){var te=g.now()-K;te<S&&te>=0?q=setTimeout(we,S-te):(q=null,L||(pe=O.apply(H,V),q||(H=V=null)))};return function(){H=this,V=arguments,K=g.now();var te=L&&!q;return q||(q=setTimeout(we,S)),te&&(pe=O.apply(H,V),H=V=null),pe}},g.wrap=function(O,S){return g.partial(S,O)},g.negate=function(O){return function(){return!O.apply(this,arguments)}},g.compose=function(){var O=arguments,S=O.length-1;return function(){for(var L=S,q=O[S].apply(this,arguments);L--;)q=O[L].call(this,q);return q}},g.after=function(O,S){return function(){if(--O<1)return S.apply(this,arguments)}},g.before=function(O,S){var L;return function(){return--O>0&&(L=S.apply(this,arguments)),O<=1&&(S=null),L}},g.once=g.partial(g.before,2);var ee=!{toString:null}.propertyIsEnumerable("toString"),Z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function Y(O,S){var L=Z.length,q=O.constructor,V=g.isFunction(q)&&q.prototype||i,H="constructor";for(g.has(O,H)&&!g.contains(S,H)&&S.push(H);L--;)(H=Z[L])in O&&O[H]!==V[H]&&!g.contains(S,H)&&S.push(H)}g.keys=function(O){if(!g.isObject(O))return[];if(v)return v(O);var S=[];for(var L in O)g.has(O,L)&&S.push(L);return ee&&Y(O,S),S},g.allKeys=function(O){if(!g.isObject(O))return[];var S=[];for(var L in O)S.push(L);return ee&&Y(O,S),S},g.values=function(O){for(var S=g.keys(O),L=S.length,q=Array(L),V=0;V<L;V++)q[V]=O[S[V]];return q},g.mapObject=function(O,S,L){S=w(S,L);for(var K,q=g.keys(O),V=q.length,H={},pe=0;pe<V;pe++)H[K=q[pe]]=S(O[K],K,O);return H},g.pairs=function(O){for(var S=g.keys(O),L=S.length,q=Array(L),V=0;V<L;V++)q[V]=[S[V],O[S[V]]];return q},g.invert=function(O){for(var S={},L=g.keys(O),q=0,V=L.length;q<V;q++)S[O[L[q]]]=L[q];return S},g.functions=g.methods=function(O){var S=[];for(var L in O)g.isFunction(O[L])&&S.push(L);return S.sort()},g.extend=E(g.allKeys),g.extendOwn=g.assign=E(g.keys),g.findKey=function(O,S,L){S=w(S,L);for(var V,q=g.keys(O),H=0,K=q.length;H<K;H++)if(S(O[V=q[H]],V,O))return V},g.pick=function(O,S,L){var H,K,q={},V=O;if(null==V)return q;g.isFunction(S)?(K=g.allKeys(V),H=_(S,L)):(K=M(arguments,!1,!1,1),H=function(ae,he,se){return he in se},V=Object(V));for(var pe=0,we=K.length;pe<we;pe++){var te=K[pe],B=V[te];H(B,te,V)&&(q[te]=B)}return q},g.omit=function(O,S,L){if(g.isFunction(S))S=g.negate(S);else{var q=g.map(M(arguments,!1,!1,1),String);S=function(V,H){return!g.contains(q,H)}}return g.pick(O,S,L)},g.defaults=E(g.allKeys,!0),g.create=function(O,S){var L=R(O);return S&&g.extendOwn(L,S),L},g.clone=function(O){return g.isObject(O)?g.isArray(O)?O.slice():g.extend({},O):O},g.tap=function(O,S){return S(O),O},g.isMatch=function(O,S){var L=g.keys(S),q=L.length;if(null==O)return!q;for(var V=Object(O),H=0;H<q;H++){var K=L[H];if(S[K]!==V[K]||!(K in V))return!1}return!0};var Q=function(O,S,L,q){if(O===S)return 0!==O||1/O==1/S;if(null==O||null==S)return O===S;O instanceof g&&(O=O._wrapped),S instanceof g&&(S=S._wrapped);var V=c.call(O);if(V!==c.call(S))return!1;switch(V){case"[object RegExp]":case"[object String]":return""+O==""+S;case"[object Number]":return+O!=+O?+S!=+S:0==+O?1/+O==1/S:+O==+S;case"[object Date]":case"[object Boolean]":return+O==+S}var H="[object Array]"===V;if(!H){if("object"!=typeof O||"object"!=typeof S)return!1;var K=O.constructor,pe=S.constructor;if(K!==pe&&!(g.isFunction(K)&&K instanceof K&&g.isFunction(pe)&&pe instanceof pe)&&"constructor"in O&&"constructor"in S)return!1}q=q||[];for(var we=(L=L||[]).length;we--;)if(L[we]===O)return q[we]===S;if(L.push(O),q.push(S),H){if((we=O.length)!==S.length)return!1;for(;we--;)if(!Q(O[we],S[we],L,q))return!1}else{var B,te=g.keys(O);if(we=te.length,g.keys(S).length!==we)return!1;for(;we--;)if(!g.has(S,B=te[we])||!Q(O[B],S[B],L,q))return!1}return L.pop(),q.pop(),!0};g.isEqual=function(O,S){return Q(O,S)},g.isEmpty=function(O){return null==O||(D(O)&&(g.isArray(O)||g.isString(O)||g.isArguments(O))?0===O.length:0===g.keys(O).length)},g.isElement=function(O){return!(!O||1!==O.nodeType)},g.isArray=p||function(O){return"[object Array]"===c.call(O)},g.isObject=function(O){var S=typeof O;return"function"===S||"object"===S&&!!O},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(O){g["is"+O]=function(S){return c.call(S)==="[object "+O+"]"}}),g.isArguments(arguments)||(g.isArguments=function(O){return g.has(O,"callee")}),"object"!=typeof Int8Array&&(g.isFunction=function(O){return"function"==typeof O||!1}),g.isFinite=function(O){return isFinite(O)&&!isNaN(parseFloat(O))},g.isNaN=function(O){return g.isNumber(O)&&O!==+O},g.isBoolean=function(O){return!0===O||!1===O||"[object Boolean]"===c.call(O)},g.isNull=function(O){return null===O},g.isUndefined=function(O){return void 0===O},g.has=function(O,S){return null!=O&&d.call(O,S)},g.noConflict=function(){return r._=n,this},g.identity=function(O){return O},g.constant=function(O){return function(){return O}},g.noop=function(){},g.property=P,g.propertyOf=function(O){return null==O?function(){}:function(S){return O[S]}},g.matcher=g.matches=function(O){return O=g.extendOwn({},O),function(S){return g.isMatch(S,O)}},g.times=function(O,S,L){var q=Array(Math.max(0,O));S=_(S,L,1);for(var V=0;V<O;V++)q[V]=S(V);return q},g.random=function(O,S){return null==S&&(S=O,O=0),O+Math.floor(Math.random()*(S-O+1))},g.now=Date.now||function(){return(new Date).getTime()};var oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},le=g.invert(oe),ne=function(O){var S=function(H){return O[H]},L="(?:"+g.keys(O).join("|")+")",q=RegExp(L),V=RegExp(L,"g");return function(H){return q.test(H=null==H?"":""+H)?H.replace(V,S):H}};g.escape=ne(oe),g.unescape=ne(le),g.result=function(O,S,L){var q=O?.[S];return void 0===q&&(q=L),g.isFunction(q)?q.call(O):q};var ve=0;g.uniqueId=function(O){var S=++ve+"";return O?O+S:S},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ye=/(.)^/,xe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},me=/\\|'|\r|\n|\u2028|\u2029/g,fe=function(O){return"\\"+xe[O]};g.template=function(O,S,L){!S&&L&&(S=L),S=g.defaults({},S,g.templateSettings);var q=RegExp([(S.escape||ye).source,(S.interpolate||ye).source,(S.evaluate||ye).source].join("|")+"|$","g"),V=0,H="__p+='";O.replace(q,function(te,B,ae,he,se){return H+=O.slice(V,se).replace(me,fe),V=se+te.length,B?H+="'+\n((__t=("+B+"))==null?'':_.escape(__t))+\n'":ae?H+="'+\n((__t=("+ae+"))==null?'':__t)+\n'":he&&(H+="';\n"+he+"\n__p+='"),te}),H+="';\n",S.variable||(H="with(obj||{}){\n"+H+"}\n"),H="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+H+"return __p;\n";try{var K=new Function(S.variable||"obj","_",H)}catch(te){throw te.source=H,te}var pe=function(te){return K.call(this,te,g)};return pe.source="function("+(S.variable||"obj")+"){\n"+H+"}",pe},g.chain=function(O){var S=g(O);return S._chain=!0,S};var J=function(O,S){return O._chain?g(S).chain():S};g.mixin=function(O){g.each(g.functions(O),function(S){var L=g[S]=O[S];g.prototype[S]=function(){var q=[this._wrapped];return l.apply(q,arguments),J(this,L.apply(g,q))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(O){var S=a[O];g.prototype[O]=function(){var L=this._wrapped;return S.apply(L,arguments),("shift"===O||"splice"===O)&&0===L.length&&delete L[0],J(this,L)}}),g.each(["concat","join","slice"],function(O){var S=a[O];g.prototype[O]=function(){return J(this,S.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped}}).call(pr)}),Wr=Pe.each;function iv(t){var e=!1;return t&&Pe.isObject(t)&&!Pe.isArray(t)&&!Pe.isFunction(t)&&(e=!0),e}function Mi(t){var e=null;return typeof t<"u"&&(e=null==t?"null":"object"==typeof t?typeof t._is_a<"u"?t._is_a:Pe.isArray(t)?"array":"object":typeof t),e}function pl(t){var e="",r=Mi(t);if(null==r)e="null";else if("null"==r)e="null";else if("string"==r)e='"'+t+'"';else if("boolean"==r)e=t?"true":"false";else if("array"==r){var n=[];Wr(t,function(i,o){n.push(pl(i))}),e="["+n.join(", ")+"]"}else if("object"==r){var a=[];Wr(t,function(i,o){a.push('"'+o+'": '+pl(i))}),e="{"+a.join(", ")+"}"}else e=t;return e}function ov(t,e){var n=e.indexOf(t);return 0==n?["",e.substr(n+1,e.length)]:n>0?[e.substr(0,n),e.substr(n+1,e.length)]:["",""]}var Dt={clone:function Dc(t){var e=null;if(!(typeof t>"u"))if("function"==typeof t)e=t;else if("boolean"==typeof t||"number"==typeof t||"string"==typeof t)e=t;else if("object"==typeof t)if(null==t)e=null;else if(Array.isArray(t)){e=[];for(var r=0;r<t.length;r++)e[r]=Dc(t[r])}else for(var n in e={},t)e[n]=Dc(t[n]);return e},dump:pl,first_split:ov,is_hash:iv,what_is:Mi,crop:function(t,e,r){var n=t,a=10;e&&(a=e);var i="";return r&&(i=r),t.length>a&&(n=t.substring(0,a-i.length)+i),n},fold:function(t,e){t||(t={}),e||(e={});var r={};for(var n in t)r[n]=Pe.isUndefined(e[n])?t[n]:e[n];return r},merge:function(t,e){t||(t={}),e||(e={});var r={};function n(a,i){r[i]=a}return Wr(t,n),Wr(e,n),r},get_keys:function(t){t||(t={});var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e},hashify:function(t){var e={};return t&&t[0]&&(Pe.isArray(t[0])?Wr(t,function(r){var n=r[0],a=r[1];Pe.isUndefined(n)||(e[n]=a)}):Wr(t,function(r){e[r]=!0})),e},is_array:function(t){var e=!1;return t&&Array.isArray(t)&&(e=!0),e},is_empty:function(t){var e=!1;return Pe.isArray(t)?0==t.length&&(e=!0):iv(t)?0==Pe.keys(t).length&&(e=!0):e=!1,e},is_defined:function(t){var e=!0;return typeof t>"u"&&(e=!1),e},pare:function(t,e,r){var n=[];if(!(typeof t>"u")){if("object"!=typeof t)throw new Error("Unsupported type in bbop.core.pare: "+typeof t);Pe.isArray(t)?Wr(t,e?function(a,i){e(a,i)||n.push(a)}:function(a,i){n.push(a)}):Pe.isFunction(t)||Pe.isObject(t)&&Wr(t,e?function(a,i){e(i,a)||n.push(a)}:function(a,i){n.push(a)})}return n.length>0&&r&&n.sort(r),n},to_string:function(t){if(t&&typeof t.to_string<"u"&&"function"==typeof t.to_string)return t.to_string();var e=Mi(t);return"number"==e?t.toString():"string"==e?t:"array"==e?pl(t):t},has_interface:function(t,e){var r=!0;return Wr(e,function(n){if(typeof t[n]>"u"&&typeof t.prototype[n]>"u")throw r=!1,new Error(Mi(t)+" breaks interface "+n)}),r},get_assemble:function(t){var e=[];for(var r in t){var n=t[r];if(null!=n)if("string"==typeof n||"number"==typeof n){var a=[];a.push(r),a.push("="),a.push(n),e.push(a.join(""))}else if("object"==typeof n)if(typeof n.length<"u")for(var i=0;i<n.length;i++){var o=[];o.push(r),o.push("="),o.push(n[i]),e.push(o.join(""))}else for(var l in n){var u=n[l];"array"!=Mi(u)&&(u=[u]),Wr(u,function(c){var d=[];if(d.push(r),d.push("="),d.push(l),d.push(":"),typeof c<"u"&&c){var p=Mi(c);"string"==p&&'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)||"string"==p&&"("==c.charAt(0)&&")"==c.charAt(c.length-1)?d.push(c):d.push('"'+c+'"')}else d.push('""');e.push(d.join(""))})}else if(!(typeof n>"u"))throw new Error("bbop.core.get_assemble: unknown type: "+typeof n)}return e.join("&")},randomness:function(t){for(var e=["1","2","3","4","5","6","7","8","9","0","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r=t||10,n=new Array,a=0;a<r;a++){var i=Math.floor(Math.random()*e.length);n.push(e[i])}return n.join("")},url_parameters:function(t){var n,e=[],r=t.split("?");return n=r[1]?r[1].split("&"):r[0].split("&"),Wr(n,function(a){var i=ov("=",a);e.push(i[0]||i[1]?i:[a])}),e},resourcify:function(t,e,r){var n=t+"/"+e;return r&&(n+="."+r),n.replace(/\ /g,"_").toLowerCase()},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function t(r){var n=16*Math.random()|0;return("x"==r?n:3&n|8).toString(16)})},numeric_sort_ascending:function(t,e){return t-e},numeric_sort_descending:function(t,e){return e-t},dequote:function(t){var e=t;if(!Pe.isUndefined(t)&&t.length>2){var r=t.length-1;'"'==t.charAt(0)&&'"'==t.charAt(r)&&(e=t.substr(1,r-1))}return e},ensure:function(t,e,r){var n=!1,a=!1;Pe.isUndefined(r)?(n=!0,a=!0):"front"==r?n=!0:"back"==r&&(a=!0);var i=t.length,o=e.length,l=t.substr(0,o),u=t.substr(i-o,i-1),c="";n&&l!=e&&(c=e);var d="";return a&&u!=e&&(d=e),c+t+d},chomp:function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},splode:function(t,e){var r=null;return Pe.isUndefined(t)||(Pe.isUndefined(e)&&(e=/\s+/),r=t.split(e)),r},extend:function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},logger:function(t){this.DEBUG=!1;var e=this;this._context=[],t&&(this._context=[t]),this.reset_context=function(r){this._context=r?[r]:[]},this.push_context=function(r){this._context.push(r)},this.pop_context=function(){var r=null;return this._context.length>0&&(r=this._context.pop()),r},this._console_sayer=function(){},typeof jQuery<"u"&&"undefined"!=jQuery("#bbop-logger-console-html")&&jQuery("#bbop-logger-console-html").length?this._console_sayer=function(r){var n=jQuery("#bbop-logger-console-html");n.append(r+"<br />");try{n.scrollTop(n[0].scrollHeight)}catch{}}:typeof console<"u"&&"function"==typeof console.log?this._console_sayer=function(r){console.log(r)}:typeof opera<"u"&&"function"==typeof opera.postError?this._console_sayer=function(r){opera.postError(r+"\n")}:typeof window<"u"&&"function"==typeof window.dump?this._console_sayer=function(r){dump(r+"\n")}:typeof window<"u"&&typeof window.console<"u"&&"function"==typeof window.console.log?this._console_sayer=function(r){window.console.log(r+"\n")}:("function"==typeof build&&"function"==typeof getpda&&"function"==typeof pc2line&&"function"==typeof print||typeof org<"u"&&typeof org.rhino<"u"&&"function"==typeof print)&&(this._console_sayer=function(r){print(r)}),this.kvetch=function(r){var n=null;return 1==e.DEBUG&&(typeof r>"u"&&(r=""),e._context.length>0&&(r=e._context.join(":")+": "+r),e._console_sayer(r),n=r),n}}},lt=Pe.each,Gr=Pe.keys,sv="points_at";function ma(t,e){this._is_a="bbop-graph.node",this._id=t||null,this._label=e||null,this._type="node",this._metadata=null}function Yn(t,e,r){if(this._is_a="bbop-graph.edge",!t||!e)throw new Error("incomplete arguments for new edge");if(this.default_predicate=sv,"string"==typeof t)this._subject_id=t;else{if(!t.id||"function"!=typeof t.id)throw new Error("cannot parse subject argument for edge");this._subject_id=t.id()}if("string"==typeof e)this._object_id=e;else{if(!e.id||"function"!=typeof e.id)throw new Error("cannot parse object argument for edge");this._object_id=e.id()}this._predicate_id=this.default_predicate,r&&(this._predicate_id=r),this._type="edge",this._metadata=null}function Qe(){this._is_a="bbop-graph.graph",this.default_predicate=sv,this._id=null,this._metadata=null,this._logger=new Dt.logger(this._is_a),this._logger.DEBUG=!0,this._nodes={},this._edge_list=[],this._predicates={},this._subjects={},this._objects={},this._so_table={},this._os_table={},this._sop_table={},this._is_a_singleton_lookup={}}ma.prototype.id=function(t){return t&&(this._id=t),this._id},ma.prototype.type=function(t){return t&&(this._type=t),this._type},ma.prototype.label=function(t){return t&&(this._label=t),this._label},ma.prototype.metadata=function(t){return Pe.isObject(t)&&!Pe.isArray(t)&&(this._metadata=t),this._metadata},ma.prototype.clone=function(){var t=new ma;return t.id(this.id()),t.label(this.label()),t.type(this.type()),t.metadata(Dt.clone(this.metadata())),t},Yn.prototype.subject_id=function(){return this._subject_id},Yn.prototype.object_id=function(){return this._object_id},Yn.prototype.predicate_id=function(){return this._predicate_id},Yn.prototype.type=function(t){return typeof t<"u"&&(this._type=t),this._type},Yn.prototype.metadata=function(t){return Pe.isObject(t)&&!Pe.isArray(t)&&(this._metadata=t),this._metadata},Yn.prototype.clone=function(){var t=new Yn(this.subject_id(),this.object_id(),this.predicate_id());return t.default_predicate=this.default_predicate,t.type(this.type()),t.metadata(Dt.clone(this.metadata())),t},Qe.prototype.create_edge=function(t,e,r){return new Yn(t,e,r)},Qe.prototype.create_node=function(t,e){return new ma(t,e)},Qe.prototype.create_graph=function(){return new Qe},Qe.prototype.metadata=function(t){return Pe.isObject(t)&&!Pe.isArray(t)&&(this._metadata=t),this._metadata},Qe.prototype.clone=function(){var t=this,e=t.create_graph();return lt(t.all_nodes(),function(r){e.add_node(r.clone())}),lt(t.all_edges(),function(r){e.add_edge(r.clone())}),e.default_predicate=t.default_predicate,e._id=t._id,e.metadata(Dt.clone(this.metadata())),e},Qe.prototype.id=function(t){return t&&(this._id=t),this._id},Qe.prototype.incomplete_p=function(){var t=!1;if(this._metadata){var e=this._metadata["incomplete-p"];(!0===e||"true"===e)&&(t=!0)}return t},Qe.prototype.complete_node_count=function(){var t=null;if(this.incomplete_p()){var e=this._metadata["complete-node-count"];(Pe.isNumber(e)||Pe.isString(e))&&(t=parseInt(e))}return null===t&&(t=this.all_nodes().length),t},Qe.prototype.complete_edge_count=function(){var t=null;if(this.incomplete_p()){var e=this._metadata["complete-edge-count"];(Pe.isNumber(e)||Pe.isString(e))&&(t=parseInt(e))}return null===t&&(t=this.all_edges().length),t},Qe.prototype.add_node=function(t){if(!t.id())throw new Error("no anonymous nodes: "+t.id());var e=t.id();this._nodes[e]=t,!this._subjects[e]&&!this._objects[e]&&(this._is_a_singleton_lookup[e]=!0)},Qe.prototype.remove_node=function(t,e){var r=this,n=!1;if(r.get_node(t)&&(n=!0,delete r._nodes[t],delete r._is_a_singleton_lookup[t],e)){var a=[];r._so_table[t]&&lt(Gr(r._so_table[t]),function(i){a.push([t,i])}),r._os_table[t]&&lt(Gr(r._os_table[t]),function(i){a.push([i,t])}),lt(a,function(i){var o=r.get_edges(i[0],i[1]);lt(o,function(l){r.remove_edge(l.subject_id(),l.object_id(),l.predicate_id())})})}return n},Qe.prototype.add_edge=function(t){var e=t.subject_id(),r=t.object_id(),n=t.predicate_id();this.remove_edge(e,r,n),this._so_table[e]||(this._so_table[e]={}),typeof this._so_table[e][r]>"u"?this._so_table[e][r]=1:this._so_table[e][r]++,this._os_table[r]||(this._os_table[r]={}),typeof this._os_table[r][e]>"u"?this._os_table[r][e]=1:this._os_table[r][e]++,this._sop_table[e]||(this._sop_table[e]={}),this._sop_table[e][r]||(this._sop_table[e][r]={}),this._sop_table[e][r][n]=t,this._predicates[n]?this._predicates[n]++:this._predicates[n]=1,this._subjects[e]?this._subjects[e]++:this._subjects[e]=1,this._objects[r]?this._objects[r]++:this._objects[r]=1,this._is_a_singleton_lookup[e]&&delete this._is_a_singleton_lookup[e],this._is_a_singleton_lookup[r]&&delete this._is_a_singleton_lookup[r],this._edge_list.push(t)},Qe.prototype.remove_edge=function(t,e,r){r||(r=this.default_predicate);var n=!1;return this.get_edge(t,e,r)&&(n=!0,1===this._subjects[t]?delete this._subjects[t]:this._subjects[t]--,1===this._objects[e]?delete this._objects[e]:this._objects[e]--,1===this._predicates[r]?delete this._predicates[r]:this._predicates[r]--,delete this._sop_table[t][e][r],this._edge_list=Pe.reject(this._edge_list,function(i){var o=!1;return i.subject_id()===t&&i.object_id()===e&&i.predicate_id()===r&&(o=!0),o}),1===this._so_table[t][e]?delete this._so_table[t][e]:this._so_table[t][e]--,1===this._os_table[e][t]?delete this._os_table[e][t]:this._os_table[e][t]--,this._nodes[t]&&!this._subjects[t]&&!this._objects[t]&&(this._is_a_singleton_lookup[t]=!0),this._nodes[e]&&!this._subjects[e]&&!this._objects[e]&&(this._is_a_singleton_lookup[e]=!0)),n},Qe.prototype.all_nodes=function(){return Pe.values(this._nodes)},Qe.prototype.all_edges=function(){return this._edge_list},Qe.prototype.all_predicates=function(){return Gr(this._predicates)},Qe.prototype.all_dangling=function(){var t=this,e=Gr(this._subjects).concat(Gr(this._objects)),r=[];return lt(e,function(n){t._nodes[n]||r.push(n)}),r},Qe.prototype.is_complete=function(){var t=!0;return this.all_dangling().length>0&&(t=!1),t},Qe.prototype.get_node=function(t){var e=null;return this._nodes[t]&&(e=this._nodes[t].clone()),e},Qe.prototype.get_edge=function(t,e,r){r||(r=this.default_predicate);var n=null;return this._sop_table[t]&&this._sop_table[t][e]&&this._sop_table[t][e][r]&&(n=this._sop_table[t][e][r].clone()),n},Qe.prototype.get_edges=function(t,e){var r=this,n=[];return r._sop_table[t]&&r._sop_table[t][e]&&lt(Gr(r._sop_table[t][e]),function(a){var o=r._sop_table[t][e][a].clone();n.push(o)}),n},Qe.prototype.get_edges_by_subject=function(t){var e=this,r=[];return e._so_table[t]&&lt(Gr(e._so_table[t]),function(n){r=r.concat(e.get_edges(t,n))}),r},Qe.prototype.get_edges_by_object=function(t){var e=this,r=[];return e._os_table[t]&&lt(Gr(e._os_table[t]),function(n){r=r.concat(e.get_edges(n,t))}),r},Qe.prototype.get_predicates=function(t,e){var r=this,n=[];return r._sop_table[t]&&r._sop_table[t][e]&&lt(Gr(r._sop_table[t][e]),function(a){n.push(a)}),n},Qe.prototype.edges_to_nodes=function(t,e){var r=this;if("subject"!==e&&"object"!==e)throw new Error("Bad target for edges to bodies.");var n=[];return lt(t,function(a){var i;if(!(i="subject"===e?a.subject_id():a.object_id())||!r._nodes[i])throw new Error(e+" world issue");n.push(r._nodes[i])}),n},Qe.prototype.is_root_node=function(t){var e=!1;return this._nodes[t]&&!this._subjects[t]&&(e=!0),e},Qe.prototype.get_root_nodes=function(){var t=this,e=[];return lt(Gr(t._nodes),function(r){t.is_root_node(r)&&e.push(t.get_node(r).clone())}),e},Qe.prototype.is_leaf_node=function(t){var e=!1;return this._nodes[t]&&!this._objects[t]&&(e=!0),e},Qe.prototype.get_leaf_nodes=function(){var t=this,e=[];return lt(Gr(t._nodes),function(r){t.is_leaf_node(r)&&e.push(t.get_node(r).clone())}),e},Qe.prototype.get_singleton_nodes=function(){var t=this,e=[];return lt(Gr(t._is_a_singleton_lookup),function(r){if(!t._nodes[r])throw new Error("world issue in get_singletons: "+r);e.push(t._nodes[r])}),e},Qe.prototype.get_parent_edges=function(t,e){var r=this,n=[],a=[];return e?a.push(e):a=r.all_predicates(),lt(a,function(i){r._so_table[t]&&lt(Gr(r._so_table[t]),function(o){var l=r.get_edge(t,o,i);l&&n.push(l)})}),n},Qe.prototype.get_child_edges=function(t,e){var r=this,n=[],a=[];return e?a.push(e):a=r.all_predicates(),lt(a,function(i){r._os_table[t]&&lt(Gr(r._os_table[t]),function(o){var l=r.get_edge(o,t,i);l&&n.push(l)})}),n},Qe.prototype.get_parent_nodes=function(t,e){var r=this,n=[],a=this.get_parent_edges(t,e);return lt(a,function(i){var o=i.object_id(),l=r.get_node(o);l&&n.push(l)}),n},Qe.prototype.get_child_nodes=function(t,e){var r=this,n=[],a=this.get_child_edges(t,e);return lt(a,function(i){var o=i.subject_id(),l=r.get_node(o);l&&n.push(l)}),n},Qe.prototype.walker=function(t,e,r){var n=this,a={},i=[];function o(l){var c=t.call(n,l,r);lt(c,function(v){i.push(v)});var d=[];lt(c,function(v){var m=v.object_id(),y=n.get_node(m);y&&d.push(y)});var p=n.get_node(l);return p&&d.push(p),lt(d,function(v){var m=v.id();a[m]||(a[m]=v,o(m))}),[]}return Pe.isArray(e)?lt(e,function(l){o(l)}):o(e),[Pe.values(a),i]},Qe.prototype.get_ancestor_subgraph=function(t,e){var r=this,n=r.walker(r.get_parent_edges,t,e),a=n[0],i=n[1],o=r.create_graph();return lt(a,function(l){o.add_node(l.clone())}),lt(i,function(l){o.add_edge(l.clone())}),o},Qe.prototype.get_descendent_subgraph=function(t,e){var r=this,n=r.walker(r.get_child_edges,t,e),a=n[0],i=n[1],o=r.create_graph();return lt(a,function(l){o.add_node(l.clone())}),lt(i,function(l){o.add_edge(l.clone())}),o},Qe.prototype.is_topologically_equal=function(t){var r=!1,n=this.all_nodes(),a=this.all_edges(),i=t.all_nodes(),o=t.all_edges();return n.length===i.length&&a.length===o.length&&(lt(a,function(l){if(!t.get_edge(l.subject_id(),l.object_id(),l.predicate_id()))return!1}),lt(n,function(l){var u=l.id();if(!t.get_node(u))return!1}),r=!0),r},Qe.prototype.merge_in=function(t){var e=this;return 0===e.all_nodes().length&&0===e.all_edges().length&&(null===e.metadata()||Pe.isEmpty(e.metadata()))&&e.metadata(Pe.clone(t.metadata())),lt(t.all_nodes(),function(r){var n=r.clone();e.add_node(n)}),lt(t.all_edges(),function(r){var n=r.clone();e.add_edge(n)}),!0},Qe.prototype.load_base_json=function(t){var e=this;return 0===e.all_nodes().length&&0===e.all_edges().length&&(null===e.metadata()||Pe.isEmpty(e.metadata()))&&t.meta&&e.metadata(Pe.clone(t.meta)),t.nodes&&lt(t.nodes,function(r){var i=e.create_node(r.id,r.lbl);r.meta&&i.metadata(r.meta),e.add_node(i)}),t.edges&&lt(t.edges,function(r){var n=e.create_edge(r.sub,r.obj,r.pred);r.meta&&n.metadata(r.meta),e.add_edge(n)}),!0},Qe.prototype.to_json=function(){var t=this,e=[];lt(t.all_nodes(),function(a){var i=Dt.clone(a),o={},l=i.id();l&&(o.id=l);var u=i.label();u&&(o.lbl=u);var c=i.metadata();c&&(o.meta=c),e.push(o)});var r=[];Dt.clone(t._edge_list),lt(t.all_edges(),function(a){var i={},o=a.subject_id();o&&(i.sub=o);var l=a.object_id();l&&(i.obj=l);var u=a.predicate_id();u&&(i.pred=u),r.push(i)});var n={nodes:e,edges:r};return t.metadata()&&(n.meta=Pe.clone(t.metadata())),n};var Nc_node=ma,Nc_edge=Yn,Nc_graph=Qe,hl=Pe.each,Lc=Dt.what_is,st=function(t){this._is_a="class_expression",t&&("class_expression"===Lc(t)?t=t.structure():"object"===Lc(t)||"string"===Lc(t)&&(t={type:"class",id:t,label:t})),this._id=Dt.uuid(),this._type=null,this._category="unknown",this._class_id=null,this._class_label=null,this._property_id=null,this._property_label=null,this._frame=[],this._raw_type=t,t&&this.parse(t)};st.prototype.id=function(){return this._id},st.prototype.nested_p=function(){var t=!1;return this._frame.length>0&&(t=!0),t},st.prototype.signature=function(){var t=this,e=[];return e.push(t.category()||""),e.push(t.type()||""),e.push(t.class_id()||""),e.push(t.property_id()||""),t.frame()&&hl(t.frame(),function(r){e.push(r.signature()||"")}),e.join("_")},st.prototype.category=function(){return this._category},st.prototype.type=function(){return this._type},st.prototype.svf_class_expression=function(){var t=null;return"svf"===this.type()&&(t=this._frame[0]),t},st.prototype.complement_class_expression=function(){var t=null;return"complement"===this.type()&&(t=this._frame[0]),t},st.prototype.frame=function(){return this._frame},st.prototype.class_id=function(){return this._class_id},st.prototype.class_label=function(){return this._class_label},st.prototype.property_id=function(){return this._property_id},st.prototype.property_label=function(){return this._property_label},st.prototype.parse=function(t){var e=this,n=function r(l){var u=null,c=l.type||null;return"class"===c?u="class":"union"===c?u="union":"intersection"===c?u="intersection":"svf"===c?u="svf":"complement"===c&&(u="complement"),u}(t);if("class"===n)this._type=n,this._category="instance_of",this._class_id=t.id,this._class_label=t.label||this._class_id;else if("union"===n||"intersection"===n)this._type=n,this._category=n,this._frame=[],hl(t.expressions||[],function(l){e._frame.push(new st(l))});else if("svf"===n)this._type=n,this._category=t.property.id,this._property_id=t.property.id,this._property_label=t.property.label||this._property_id,this._frame=[new st(t.filler)];else{if("complement"!==n)throw new Error("unknown type leaked in");this._type=n,this._category=n,this._frame=[new st(t.filler)]}return e},st.prototype.as_class=function(t){if(t){var e=new st(t);this.parse(e.structure())}return this},st.prototype.as_svf=function(t,e){var n={type:"svf",property:{type:"property",id:t},filler:new st(e).structure()};return this.parse(n),this},st.prototype.as_complement=function(t){var r={type:"complement",filler:new st(t).structure()};return this.parse(r),this},st.prototype.as_set=function(t,e){if(e||(e=[]),"union"===t||"intersection"===t){var r=[];hl(e,function(i){var o=new st(i);r.push(o.structure())});var a={};a.type=t,a.expressions=r,this.parse(a)}return this},st.prototype.structure=function(){var t=this,e={},r=t.type();if("class"===r)e.type="class",e.id=t.class_id(),t.class_label()&&t.class_id()!==t.class_label()&&(e.label=t.class_label());else if("svf"===r){e.type="svf",e.property={type:"property",id:t.property_id()};var n=t.svf_class_expression();n.type(),e.filler=n.structure()}else if("complement"===r){e.type="complement";var a=t.complement_class_expression();a.type(),e.filler=a.structure()}else{if("union"!==r&&"intersection"!==r)throw new Error("unknown type in request processing: "+r);var i=[],o=t.frame();hl(o,function(l){i.push(l.structure())}),e.type=r,e.expressions=i}return e},st.prototype.to_string=function(t,e){var r=this;function n(c){var p=c.type();return"class"===p?c.class_label():"union"===p||"intersection"===p?p+"["+c.frame().length+"]":"complement"===p?"[!]":"svf"===p?"[SVF]":"???"}var a="[???]",i=r.type(),o=r.frame();return a="class"===i?r.class_label():"union"===i||"intersection"===i?i+"["+o.length+"]":"complement"===i?"!["+n(r.complement_class_expression())+"]":"svf"===i?"svf["+r.property_label()+"]("+n(r.svf_class_expression())+")":"???",t&&"string"==typeof t&&(a=t+a),e&&"string"==typeof e&&(a+=e),a},st.prototype.to_string_plus=function(t,e){var r=this;function n(d){var p=d.class_label(),v=d.class_id();return v&&v!==p&&(p="["+v+"] "+p),p}function a(d){var v=d.type();return"class"===v?n(d):"union"===v||"intersection"===v?v+"["+d.frame().length+"]":"complement"===v?"[!]":"svf"===v?"[SVF]":"???"}var i="[???]",o=r.type(),l=r.frame();return i="class"===o?n(r):"union"===o||"intersection"===o?o+"["+l.length+"]":"complement"===o?"!["+a(r.complement_class_expression())+"]":"svf"===o?"svf["+r.property_label()+"]("+a(r.svf_class_expression())+")":"???",t&&"string"==typeof t&&(i=t+i),e&&"string"==typeof e&&(i+=e),i},st.intersection=function(t){var e=new st;return e.as_set("intersection",t),e},st.union=function(t){var e=new st;return e.as_set("union",t),e},st.svf=function(t,e){var r=new st;return r.as_svf(t,e),r},st.complement=function(t){var e=new st;return e.as_complement(t),e},st.cls=function(t){var e=new st;return e.as_class(t),e};var Kn=st,Re=Pe.each,lv={},vl=function(t){var e=t;return lv[t]&&(e=lv[t]),e};function ln(t){this._id=Dt.uuid(),this._properties={},t&&"object"===Dt.what_is(t)&&(t.key&&t.value?this._properties=Dt.clone(t):console.log("bad annotation k/v set: ",t))}function zi(t){return this._id=Dt.uuid(),this._node=null,this._explanations=[],Pe.isString(t.node)?this._node=Dt.clone(t.node):console.log("bad violation node: ",this._id),Pe.isArray(t.explanations)?this._explanations=Dt.clone(t.explanations):console.log("bad violation explanations: ",this._id),this}function mS(t){return Pe.isArray(t)&&(this._annotations=t),this._annotations}function yS(t){return Pe.isArray(t)||this._annotations.push(t),this._annotations}function bS(t){var r=[];return Re(this._annotations,function(n){var a=t(n);a&&!0===a&&r.push(n)}),r}function _S(t){var r=[];return Re(this._annotations,function(n){n.key()===t&&r.push(n)}),r}function xS(t){var r=null;return Re(this._annotations,function(n){n.id()===t&&(r=n)}),r}function wS(t){return Pe.isArray(t)&&(this._referenced_subgraphs=[],Re(t,function(e){this._referenced_subgraphs.push(e.clone())})),this._referenced_subgraphs}function OS(t){return Pe.isArray(t)||this._referenced_subgraphs.push(t),this._referenced_subgraphs}function ES(t){var r=[];return Re(this._referenced_subgraphs,function(n){var a=t(n);a&&!0===a&&r.push(n)}),r}function CS(t){var r=null;return Re(this._referenced_subgraphs,function(n){n.id()===t&&(r=n)}),r}function RS(t){"function"!=typeof t&&(t=function r(a){var i=null;if(1===a.all_nodes().length){var o=a.all_nodes()[0],l={id:null,class_expressions:[],annotations:[]};l.id=o.id(),Re(o.types(),function(u){l.class_expressions.push(u)}),Re(o.annotations(),function(u){l.annotations.push(u)}),i=l}return i});var n=[];return Re(this.referenced_subgraphs(),function(a){var i=t(a);i&&n.push(i)}),n}function TS(t){var r=[],n=Pe.object(Pe.map(t,function(a){return[a,!0]}));return Re(this.get_referenced_subgraph_profiles(),function(a){if(a.id&&!Pe.isEmpty(a.class_expressions)){var i={id:a.id,cls:a.class_expressions[0].to_string()};Re(a.annotations,function(o){n[o.key()]&&(i[o.key()]=o.value())}),r.push(i)}}),r}ln.prototype.id=function(){return this._id},ln.prototype.annotation=function(t,e,r){var n=this;return t&&typeof e<"u"&&(n._properties.key=t,n._properties.value=e,typeof r>"u"?delete n._properties["value-type"]:n._properties["value-type"]=r),n._properties},ln.prototype.key=function(t){return t&&(this._properties.key=t),this._properties.key},ln.prototype.value=function(t){return t&&(this._properties.value=t),this._properties.value},ln.prototype.value_type=function(t){return t&&(this._properties["value-type"]=t),this._properties["value-type"]},ln.prototype.delete=function(){var e=!1;return Pe.isEmpty(this._properties)||(this._properties={},e=!0),e},ln.prototype.clone=function(){var t=this,e={};t.key()&&(e.key=t.key()),t.value()&&(e.value=t.value()),t.value_type()&&(e["value-type"]=t.value_type());var r=new ln(e);return r._id=t._id,r},zi.prototype.id=function(){return this._id},zi.prototype.node_id=function(){return this._node},zi.prototype.explanations=function(){return this._explanations},zi.prototype.clone=function(){var e={};return e.node=this.node_id(),e.explanations=this.explanations(),new zi(e)};var ti=Nc_graph;function Xe(t){ti.call(this),this._is_a="bbop-graph-noctua.graph",typeof t<"u"&&this.id(t),this.core={edges:{},node_order:[],node2elt:{},elt2node:{},edge2connector:{},connector2edge:{}},this._annotations=[],this._inconsistent_p=null,this._modified_p=null,this._violations=[],this._valid_p=!0,this._valid_owl_p=!0,this._valid_shex_p=!0}Dt.extend(Xe,ti),Xe.prototype.create_edge=function(t,e,r){return new un(t,e,r)},Xe.prototype.create_node=function(t,e,r,n,a,i){return new ar(t,e,r,n,a,i)},Xe.prototype.clone=function(){var t=this,e=t.create_graph();return Re(t.all_nodes(),function(r){e.add_node(r.clone())}),Re(t.all_edges(),function(r){e.add_edge(r.clone())}),e.default_predicate=t.default_predicate,e._id=t._id,Re(t._annotations,function(r){e._annotations.push(r.clone())}),e._inconsistent_p=t._inconsistent_p,e._modified_p=t._modified_p,Re(t._violations,function(r){e._violations.push(r.clone())}),e._valid_p=t._valid_p,e._valid_owl_p=t._valid_owl_p,e._valid_shex_p=t._valid_shex_p,e},Xe.prototype.create_graph=function(){return new Xe},Xe.prototype.add_id=function(t){return this.id(t)},Xe.prototype.get_id=function(){return this.id()},Xe.prototype.inconsistent_p=function(){return this._inconsistent_p},Xe.prototype.modified_p=function(){return this._modified_p},Xe.prototype.valid_p=function(){return this._valid_p},Xe.prototype.valid_owl_p=function(){return this._valid_owl_p},Xe.prototype.valid_shex_p=function(){return this._valid_shex_p},Xe.prototype.violations=function(){return this._violations},Xe.prototype.get_violations_by_id=function(t){var e=[];return Re(this.violations(),function(r){r.node_id()===t&&e.push(r.clone())}),e},Xe.prototype.add_node=function(t){ti.prototype.add_node.call(this,t);var e=!1,r=t.id(),n=this.core.node2elt[r];return n||(this.core.node_order.unshift(r),n=Dt.uuid(),this.core.node2elt[r]=n,this.core.elt2node[n]=r,e=!0),e},Xe.prototype.add_node_from_individual=function(t){var r=null,n=t.id;if(n){r=this.create_node(n,null,t.type||[],t["root-type"]||[],t["inferred-type"]||[],t["inferred-type-with-all"]||[]);var u=t.annotations||[];Pe.isArray(u)&&Re(u,function(c){var d=new ln(c);r.add_annotation(d)}),this.add_node(r)}return r},Xe.prototype.edit_node_order=function(){return this.core.node_order||[]},Xe.prototype.get_node_elt_id=function(t){return this.core.node2elt[t]||null},Xe.prototype.get_node_by_elt_id=function(t){var e=null,r=this.core.elt2node[t]||null;return r&&(e=this.get_node(r)||null),e},Xe.prototype.get_node_by_individual=function(t){var e=null,r=t.id;return r&&(e=this.get_node(r)||null),e},Xe.prototype.get_nodes=function(){return this._nodes||{}},Xe.prototype.remove_node=function(t,e){var n=!1;if(this.get_node(t)){n=!0;var i=this.core.node_order.indexOf(t);-1!==i&&this.core.node_order.splice(i,1);var o=this.core.node2elt[t];delete this.core.node2elt[t],delete this.core.elt2node[o],ti.prototype.remove_node.call(this,t,e)}return n},Xe.prototype.add_edge=function(t){ti.prototype.add_edge.call(this,t);var e=t.id();if(!e)throw new Error("edge not of bbop-graph-noctua");this.core.edges[e]=t},Xe.prototype.add_edge_from_fact=function(t){var r=null,n=t.subject,a=t.object,i=t.property,o=t["property-label"],l=t.annotations||[];if(n&&a&&i){if(r=this.create_edge(n,a,i),!Pe.isArray(l))throw new Error("annotations is wrong");Re(l,function(u){var c=new ln(u);r.add_annotation(c)}),o&&r.label(o),this.add_edge(r)}return r},Xe.prototype.get_edge_by_id=function(t){var e=null,r=this.core.edges[t];return r&&(e=r),e},Xe.prototype.get_edge_id_by_connector_id=function(t){return this.core.connector2edge[t]||null},Xe.prototype.get_connector_id_by_edge_id=function(t){return this.core.edge2connector[t]||null},Xe.prototype.remove_edge_by_id=function(t){var e=!1;if(this.core.edges[t]){var r=this.core.edges[t];e=ti.prototype.remove_edge.call(this,r.subject_id(),r.object_id(),r.predicate_id()),delete this.core.edges[t];var n=this.core.edge2connector[t];delete this.core.edge2connector[t],delete this.core.connector2edge[n]}return e},Xe.prototype.create_edge_mapping=function(t,e){var r=t.id(),n=e.id;this.core.edge2connector[r]=n,this.core.connector2edge[n]=r},Xe.prototype.dump=function(){var t=[];return Re(this.get_nodes(),function(e,r){var n=["node"];n.push(e.id()),t.push(n.join("\t"))}),Re(this.core.edges,function(e,r){var n=["edge"];n.push(e.subject_id()),n.push(e.predicate_id()),n.push(e.object_id()),t.push(n.join("\t"))}),t.join("\n")},Xe.prototype.merge_in=function(t){var e=this,r=ti.prototype.merge_in.call(e,t),a=t.annotations();return Re(a,function(i){0===e.get_annotations_by_filter(function(o){return function n(i,o){var l=!1;return i.key()===o.key()&&i.value()===o.value()&&i.value_type()===o.value_type()&&(l=!0),l}(i,o)}).length&&e.add_annotation(i.clone())}),e._inconsistent_p=t._inconsistent_p,e._modified_p=t._modified_p,e._violations=[],Re(t._violations,function(i){e._violations.push(i.clone())}),e._valid_p=t._valid_p,e._valid_owl_p=t._valid_owl_p,e._valid_shex_p=t._valid_shex_p,r},Xe.prototype.merge_special=function(t){var e=this,r={};return Re(t.all_nodes(),function(a){r[a.id()]=!0}),Re(e.all_edges(),function(a){r[a.subject_id()]&&r[a.object_id()]&&e.remove_edge_by_id(a.id())}),e.annotations([]),e.merge_in(t)},Xe.prototype.update_with=function(t){var e=this;e._annotations=[];var r=t.annotations();Re(r,function(a){e.add_annotation(a.clone())});var n={};return Re(t.all_nodes(),function(a){e.get_node(a.id()),n[a.id()]=!0,e.add_node(a.clone())}),Re(t.all_nodes(),function(a){var i=a.id(),o=e.get_edges_by_subject(i);Re(o,function(l){e.remove_edge_by_id(l.id())})}),Re(t.all_edges(),function(a){var i=a.id();e.remove_edge_by_id(i),e.add_edge(a.clone())}),!0},Xe.prototype.load_data_basic=function(t){var e=this,r=!1;if(t){var n=t.id||null,a=t.annotations||[];if(n&&e.id(n),Pe.isEmpty(a)||Re(a,function(c){var d=new ln(c);e.add_annotation(d)}),typeof t["inconsistent-p"]<"u"&&(e._inconsistent_p=t["inconsistent-p"]),typeof t["modified-p"]<"u"&&(e._modified_p=t["modified-p"]),typeof t["validation-results"]<"u"&&Pe.isObject(t["validation-results"])){var i=t["validation-results"];Pe.isBoolean(i["is-conformant"])&&(!0===i["is-conformant"]?e._valid_p=!0:!1===i["is-conformant"]&&(e._valid_p=!1)),i["owl-validation"]&&Pe.isObject(i["owl-validation"])&&(!0===i["owl-validation"]["is-conformant"]?e._valid_owl_p=!0:!1===i["owl-validation"]["is-conformant"]&&(e._valid_owl_p=!1)),i["shex-validation"]&&Pe.isObject(i["shex-validation"])&&(!0===i["shex-validation"]["is-conformant"]?e._valid_shex_p=!0:!1===i["shex-validation"]["is-conformant"]&&(e._valid_shex_p=!1)),i["shex-validation"]&&Pe.isObject(i["shex-validation"])&&Pe.isArray(i["shex-validation"].violations)&&Re(i["shex-validation"].violations||[],function(c){var d=new zi(c);e._violations.push(d)})}Re(t.facts,function(c){e.add_edge_from_fact(c)}),Re(t.individuals,function(c){e.add_node_from_individual(c)}),r=!0}return r},Xe.prototype.extract_evidence_seeds=function(){var t=this;function e(a){var i=!1;return"evidence"===a.key()&&"IRI"===a.value_type()&&(i=!0),i}var r={};function n(a,i){Re(a.annotations(),function(o){if(i(o)){var l=o.value();t.get_node(l)&&(r[l]=a)}})}return Re(t.all_nodes(),function(a){n(a,e)}),Re(t.all_edges(),function(a){n(a,e)}),r},Xe.prototype.get_evidence_clique=function(t){var r=this.get_ancestor_subgraph(t),n=this.get_descendent_subgraph(t);return r.merge_in(n),r.id(t),r},Xe.prototype.get_evidence_subclique=function(t){var e=this,r=null,n=e.get_node(t);if(n){var a=e.create_graph();a.id(t),a.add_node(n.clone());var i=e.get_child_nodes(n.id(),"IAO:0000136");if(!Pe.isEmpty(i)){Re(i,function(l){var u=l.clone();a.add_node(u)});var o=e.get_child_edges(n.id(),"IAO:0000136");Re(o,function(l){var u=l.clone();a.add_edge(u)})}r=a}return r},Xe.prototype.fold_evidence=function(){var t=this,r=t.extract_evidence_seeds(),n={},a={},i={};return Re(r,function(o,l){if(!i[l]){var u=t.get_evidence_clique(l),c=u.id();a[c]={},Re(r,function(d,p){i[p]||u.get_node(p)&&(a[c][p]=!0,i[p]=!0,n[c]=u)})}}),Re(n,function(o,l){var u={};Re(o.all_nodes(),function(p){var v=p.id();u[v]=!0});var d={};Re(a[l],function(p,v){var m=t.get_evidence_clique(v);d[v]=m,Re(m.all_nodes(),function(y){var b=y.id();u[b]&&delete u[b]})}),Pe.isEmpty(u)&&(Re(d,function(p,v){var m=r[v];if(m){m.add_referenced_subgraph(p);var y=Dt.what_is(m);"bbop-graph-noctua.node"===y?t.add_node(m):"bbop-graph-noctua.edge"===y?t.add_edge(m):console.log("ERROR: attempt to clobber unknown entity")}}),Re(o.all_nodes(),function(p,v){t.remove_node(p.id(),!0)}))}),!0},Xe.prototype.fold_go_noctua=function(t,e){var r=this,n=r.fold_evidence();if(!n)return!1;var o=r.all_nodes();return o=o.sort(function(l,u){return l.id().localeCompare(u.id())}),Re(o,function(l){var u=l.id(),c=r.create_graph();c.add_node(l.clone());var d=!1;Re(t||[],function(m){var y=r.get_parent_nodes(u,m);Re(y,function(b){if(function a(l){var u=!1;return r.is_root_node(l.id())&&!l.subgraph()&&1===r.get_child_nodes(l.id()).length&&(u=!0),u}(b)){d=!0;var g=b.clone();c.add_node(g);var _=r.get_edge(u,g.id(),m);c.add_edge(_.clone()),r.remove_node(b.id(),!0)}})}),Re(e||[],function(m){var y=r.get_child_nodes(u,m);Re(y,function(b){(function i(l){var u=!1;return r.is_leaf_node(l.id())&&!l.subgraph()&&1===r.get_parent_nodes(l.id()).length&&(u=!0),u})(b)&&(d=!0,c.add_node(b.clone()),c.add_edge(r.get_child_edges(u,m)[0].clone()),r.remove_node(b.id(),!0))})}),d&&l.subgraph(c)}),n},Xe.prototype.unfold=function(t){var e=this;function r(a){Re(a.all_nodes(),function(i){e.add_node(i)}),Re(a.all_edges(),function(i){e.add_edge(i)})}return t||(t=e),Re(t.all_nodes(),function(a){var i=a.referenced_subgraphs();Re(i,function(l){r(l)}),a.referenced_subgraphs([]),Re(i,function(l){e.unfold(l)});var o=a.subgraph();o&&(r(o),a.subgraph(null),e.unfold(o))}),Re(t.all_edges(),function(a){var i=a.referenced_subgraphs();Re(i,function(o){r(o)}),a.referenced_subgraphs([]),Re(i,function(o){e.unfold(o)})}),!0},Xe.prototype.report_state=function(t,e){var r=this;t||(t=r),typeof e>"u"&&(e=0);for(var n="",a=0;a<e;a++)n+="   ";function i(l){console.log(n+l)}return i(t.id()||"(anonymous graph)"),i(" entities # ("+t.all_nodes().length+", "+t.all_edges().length+")"),Re(t.all_nodes().sort(function(l,u){return l.id()>u.id()?1:l.id()<u.id()?-1:0}),function(l){i(" node: "+vl(l.id()));var u=l.subgraph();u&&(i("  subgraph: "),r.report_state(u,e+1));var c=l.referenced_subgraphs();c.length>0&&(i("  references: "),Re(c,function(d){r.report_state(d,e+1)}))}),Re(t.all_edges().sort(function(l,u){return l.id()>u.id()?1:l.id()<u.id()?-1:0}),function(l){i(" edge: "+vl(l.subject_id())+", "+vl(l.object_id())+": "+vl(l.predicate_id()));var p=l.referenced_subgraphs();p.length>0&&(i("  references: "),Re(p,function(v){r.report_state(v,e+1)}))}),Pe.isEmpty(t._os_table)||console.log(n+"OS:",t._os_table),Pe.isEmpty(t._so_table)||console.log(n+"SO:",t._so_table),Pe.isEmpty(t._predicates)||console.log(n+"PRED:",t._predicates),null};var uv=Nc_node;function ar(t,e,r,n,a,i){uv.call(this,t,e),this._is_a="bbop-graph-noctua.node";var o=this;this._types=[],this._id2type={},this._root_types=[],this._inferred_types=[],this._inferred_types_with_all=[],this._annotations=[],this._referenced_subgraphs=[],this._embedded_subgraph=null,this._id=typeof t>"u"?Dt.uuid():t,Pe.isArray(r)&&Re(r,function(l){var u=new Kn(l);o._id2type[u.id()]=u,o._types.push(new Kn(l))}),Pe.isArray(n)&&Re(n,function(l){var u=new Kn(l);o._id2type[u.id()]=u,o._root_types.push(new Kn(l))}),Pe.isArray(a)&&Re(a,function(l){var u=new Kn(l);o._id2type[u.id()]=u,o._inferred_types.push(new Kn(l))}),Pe.isArray(i)&&Re(i,function(l){var u=new Kn(l);o._id2type[u.id()]=u,o._inferred_types_with_all.push(new Kn(l))})}Dt.extend(ar,uv),ar.prototype.clone=function(){var t=this,e=new ar(t.id(),t.label(),t.types(),t.root_types(),t.inferred_types(),t.inferred_types_with_all());return e.type(this.type()),e.metadata(Dt.clone(this.metadata())),Re(t._annotations,function(r){e._annotations.push(r.clone())}),Re(t._referenced_subgraphs,function(r){e._referenced_subgraphs.push(r.clone())}),e._embedded_subgraph=t._embedded_subgraph?t._embedded_subgraph.clone():null,e},ar.prototype.types=function(){return this._types},ar.prototype.root_types=function(){return this._root_types},ar.prototype.inferred_types=function(){return this._inferred_types},ar.prototype.inferred_types_with_all=function(){return this._inferred_types_with_all},ar.prototype.add_types=function(t,e){var r=this,n=!1;return Pe.isArray(t)&&Re(t,function(a){var i=new Kn(a);r._id2type[i.id()]=i,e?(r._inferred_types.push(i),r._inferred_types_with_all.push(i)):r._types.push(i),n=!0}),n},ar.prototype.get_type_by_id=function(t){return this._id2type[t]},ar.prototype.get_unique_root_types=function(){var e=[],r={};return Re(this.types(),function(n){r[n.signature()]=!0}),Re(this.root_types(),function(n){r[n.signature()]||e.push(n)}),e},ar.prototype.get_unique_inferred_types=function(){var e=[],r={};return Re(this.types(),function(n){r[n.signature()]=!0}),Re(this.inferred_types(),function(n){r[n.signature()]||e.push(n)}),e},ar.prototype.get_unique_inferred_types_with_all=function(){var e=[],r={};return Re(this.types(),function(n){r[n.signature()]=!0}),Re(this.inferred_types_with_all(),function(n){r[n.signature()]||e.push(n)}),e},ar.prototype.subgraph=function(t){return typeof t>"u"||(null===t?this._embedded_subgraph=null:"bbop-graph-noctua.graph"===Dt.what_is(t)&&(this._embedded_subgraph=t)),this._embedded_subgraph};var cv=Nc_edge;function un(t,e,r){cv.call(this,t,e,r),this._is_a="bbop-graph-noctua.edge",this._id=Dt.uuid(),this._predicate_label=null,this._annotations=[],this._referenced_subgraphs=[]}Dt.extend(un,cv),un.prototype.clone=function(){var t=this,e=new un(t.subject_id(),t.object_id(),t.predicate_id());return e._id=t._id,e._predicate_label=t._predicate_label,e.default_predicate=t.default_predicate,e.type(t.type()),e.metadata(Dt.clone(t.metadata())),Re(t._annotations,function(r){e._annotations.push(r.clone())}),Re(t._referenced_subgraphs,function(r){e._referenced_subgraphs.push(r.clone())}),e},un.prototype.id=function(){return this._id},un.prototype.source=function(t){return t&&(this._subject_id=t),this._subject_id},un.prototype.target=function(t){return t&&(this._object_id=t),this._object_id},un.prototype.relation=function(t){return t&&(this._predicate_id=t),this._predicate_id},un.prototype.label=function(t){return(null===t||"string"==typeof t)&&(this._predicate_label=t),this._predicate_label},Re([Xe,ar,un],function(t){t.prototype.annotations=mS,t.prototype.add_annotation=yS,t.prototype.get_annotations_by_filter=bS,t.prototype.get_annotations_by_key=_S,t.prototype.get_annotation_by_id=xS}),Re([ar,un],function(t){t.prototype.referenced_subgraphs=wS,t.prototype.add_referenced_subgraph=OS,t.prototype.get_referenced_subgraphs_by_filter=ES,t.prototype.get_referenced_subgraph_by_id=CS,t.prototype.get_referenced_subgraph_profiles=RS,t.prototype.get_basic_evidence=TS});var fv={annotation:ln,node:ar,edge:un,graph:Xe};class SS{constructor(e,r){this.noctuaFormConfigService=e,this.dbXrefService=r}getTermURL(e){if(!e)return"";if(e.startsWith("ECO"))return"http://www.evidenceontology.org/term/"+e;if(e.startsWith("PMID")){const r=e.split(":");return r.length>1?"https://www.ncbi.nlm.nih.gov/pubmed/"+r[1].trim():null}{const r=e.split(/:(.+)/,2);if(r.length>1)return this.dbXrefService.getURL(r[0],void 0,r[1])}}getCam(e){const r=new av;return r.graph=new fv.graph,r.graph.load_data_basic(e),r.id=e.id,r.modified=e["modified-p"],this.getMetadata(r),this.loadCam(r,!0),r}getMetadata(e){const r=new av;r.graph=new fv.graph,r.graph.load_data_basic(e),r.id=e.id;const n=r.graph.get_annotations_by_key("title"),a=r.graph.get_annotations_by_key("comment");r.graph.get_annotations_by_key("state");const i=r.graph.get_annotations_by_key("date");return i.length>0&&(r.date=i[0].value()),n.length>0&&(r.title=n[0].value()),r.comments=a.map(o=>o.value()),r}loadCam(e,r=!1){let n=this.graphToActivities(e.graph);r&&(n=n?.filter(i=>i.activityType===Ke.default||i.activityType===Ke.bpOnly||i.activityType===Ke.proteinComplex));const a=this.graphToMolecules(e.graph,n.map(i=>i.id));n.push(...a),e.activities=n,e.updateProperties(),e.causalRelations=this.getCausalRelations(e)}getNodeInfo(e){const r={};return Ye.each(e.types(),function(n){const a="complement"===n.type()?n.complement_class_expression():n;r.id=a.class_id(),r.label=a.class_label(),r.classExpression=n}),r}getNodeRootInfo(e){return e.root_types().map(n=>{const a="complement"===n.type()?n.complement_class_expression():n;return new Se(a.class_id(),a.class_label())})}getNodeCategoryInfo(e){return e.map(n=>{const a=new gp;return a.category=n.id,a})}getNodeDate(e){const r=e.get_annotations_by_key("date");return r.length>0?r[0].value():null}getNodeLocation(e){const r={x:0,y:0},n=e.get_annotations_by_key("hint-layout-x"),a=e.get_annotations_by_key("hint-layout-y");return 1===n.length&&(r.x=parseInt(n[0].value())),1===a.length&&(r.y=parseInt(a[0].value())),r}getNodeIsComplement(e){let r=!0;return e&&Ye.each(e.types(),function(n){const a=n.type();r=r&&"complement"===a}),r}nodeToActivityNode(e,r){const n=this,a=e.get_node(r);if(!a)return null;const i=n.getNodeInfo(a),o=n.getNodeRootInfo(a),l={id:r,uuid:r,date:n.getNodeDate(a),term:new Se(i.id,i.label,n.getTermURL(i.id),r),rootTypes:o,category:n.getNodeCategoryInfo(o),classExpression:i.classExpression,location:n.getNodeLocation(a),isComplement:n.getNodeIsComplement(a)};return new nc(l)}edgeComments(e){return e.get_annotations_by_key("comment").map(n=>n.value())}edgeToEvidence(e,r){const n=this,a=r.get_annotations_by_key("evidence"),i=[];return Ye.each(a,function(o){const l=o.value(),u=e.get_node(l),c=new sc;if(c.edge=new Se(r.predicate_id(),""),c.uuid=u.id(),u){const d=n.getNodeInfo(u);c.setEvidence(new Se(d.id,d.label,n.getTermURL(d.id)),d.classExpression);const p=u.get_annotations_by_key("source"),v=u.get_annotations_by_key("with");u.get_annotations_by_key("contributor"),u.get_annotations_by_key("providedBy");const m=n.getNodeDate(u),y=new Date(m);if(c.date=m,c.formattedDate=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(y),p.length>0){const b=p.sort(n._compareSources);c.reference=b.map(_=>_.value()).join("| ");const g=n.getTermURL(c.reference);c.referenceEntity=new Se(c.reference,c.reference,g,c.uuid)}v.length>0&&(c.with=v[0].value(),c.withEntity=new Se(c.with,c.with,null,c.uuid)),i.push(c)}}),i}isStartEdge(e,r){return r===W.edge.enabledBy.id||(r===W.edge.partOf.id||r===W.edge.locatedIn.id||r===W.edge.contributesTo.id||r===W.edge.isActiveIn.id)&&e.hasRootType(Rr)}getActivityPreset(e,r,n,a){let o=Ke.default;return n!==W.edge.partOf.id&&n!==W.edge.locatedIn.id&&n!==W.edge.contributesTo.id&&n!==W.edge.isActiveIn.id||!e.hasRootType(Rr)?e.term.id===W.rootNode.mf.id?Ye.each(a,function(l){Ye.find(W.bpOnlyCausalEdges,{id:l.predicate_id()})&&(o=Ke.bpOnly)}):r.hasRootType(rr)&&(o=Ke.proteinComplex):o=Ke.ccOnly,this.noctuaFormConfigService.createActivityBaseModel(o,e)}graphToActivities(e){const r=this,n=[];return Ye.each(e.all_edges(),a=>{const i=a.subject_id(),o=a.object_id(),l=r.nodeToActivityNode(e,i),u=r.nodeToActivityNode(e,o);if(r.isStartEdge(l,a.predicate_id())){const c=e.get_edges_by_subject(i),d=r.getActivityPreset(l,u,a.predicate_id(),c),p=d.rootNode;p.term=l.term,p.date=l.date,p.category=l.category,p.rootTypes=l.rootTypes,p.classExpression=l.classExpression,p.setIsComplement(l.isComplement),p.uuid=i,r._graphToActivityDFS(e,d,c,p),d.id=i,d.postRunUpdateCompliment(),d.postRunUpdate(),n.push(d)}}),n}graphToMolecules(e,r){const n=this,a=[];for(const i of e.all_nodes()){const o=n.nodeToActivityNode(e,i.id());if(!r.includes(i.id())&&o.hasRootType(jn)&&!o.hasRootType(Rr)){const l=e.get_edges_by_subject(i.id()),u=e.get_edges_by_object(i.id());if(!Ye.find(u,d=>d.predicate_id()===W.edge.enabledBy.id)){const d=n.noctuaFormConfigService.createActivityBaseModel(Ke.molecule,o),p=d.rootNode;p.term=o.term,p.date=o.date,p.classExpression=o.classExpression,p.uuid=i.id(),d.id=i.id(),n._graphToActivityDFS(e,d,l,p,r),a.push(d)}}}return a}getCausalRelations(e){const r=this,n=[];return Ye.each(e.activities,a=>{Ye.each(e.graph.get_edges_by_subject(a.id),i=>{const o=i.predicate_id(),l=r.edgeToEvidence(e.graph,i),u=i.object_id(),c=r.nodeToActivityNode(e.graph,u),d=this.noctuaFormConfigService.findEdge(o);if(c.hasRootType(jr)||c.hasRootType(jn)){const p=e.findActivityById(u),v=new js(d,l);d.id===W.edge.hasInput.id&&(v.isReverseLink=!0,v.reverseLinkTitle="input of");const m=new Us(a,p,v);m.subject&&m.object&&n.push(m)}})}),n}_graphToActivityDFS(e,r,n,a,i=[]){const o=this;for(const l of n){const u=l.object_id(),c=l.predicate_id();if(i.includes(u))continue;const d=this.noctuaFormConfigService.shapePredicates.find(w=>w===c),p=this.noctuaFormConfigService.termLookupTable[c];if(!d||!p)continue;const v=W.causalEdges.map(w=>w.id);let m=this.noctuaFormConfigService.shapePredicates.filter(w=>!v.includes(w));if(r.activityType===Ke.bpOnly&&a.term.id===W.rootNode.mf.id&&(m=[...m,...W.bpOnlyCausalEdges.map(w=>w.id)]),!m.includes(c))continue;const y=o.edgeToEvidence(e,l),b=o.edgeComments(l),g=o.nodeToActivityNode(e,u),_=this.noctuaFormConfigService.addActivityNodeShex(r,a,p,g);if(r.updateShapeMenuShex(),_){const w=r.getEdge(a.id,_.id);w&&(w.object.id=g.id,w.object.uuid=g.uuid,w.object.term=g.term,w.object.date=g.date,w.object.category=g.category,w.object.rootTypes=g.rootTypes,w.object.classExpression=g.classExpression,w.object.setIsComplement(g.isComplement),w.predicate.isComplement=w.object.isComplement,w.predicate.evidence=y,w.predicate.comments=b,w.predicate.uuid=l.id(),o._graphToActivityDFS(e,r,e.get_edges_by_subject(u),w.object,i))}}return r}_compareSources(e,r){return e.value()>r.value()?-1:1}}const Gc={defType:"edismax",indent:"on",qt:"standard",wt:"json",rows:"50",start:"0",packet:"1",callback_type:"search",qf:["annotation_class^3","annotation_class_label_searchable^5.5","description_searchable^1","comment_searchable^0.5","synonym_searchable^1","alternate_id^1","isa_closure^1","isa_closure_label_searchable^1"],_:Date.now()},gl=(t,e={})=>{const r=new nc,n=new js(null),a=ac(t),i=ac([mp]);return r.overrideValues(e),n.setEvidenceMeta("eco",Object.assign({},JSON.parse(JSON.stringify(Gc)),{fq:['document_category:"ontology_class"',i]})),r.predicate=n,t&&t.length>0&&(r.termLookup=new Io(null,Object.assign({},JSON.parse(JSON.stringify(Gc)),{fq:['document_category:"ontology_class"',a]}))),r},dv=(t,e,r)=>({type:ue.GoMolecularEntity,category:r,label:e.label,canDelete:!0,displaySection:t.displaySection,displayGroup:t.displayGroup,weight:t.weight+2}),AS={[Ke.default]:{type:ue.GoMolecularFunction,label:"Molecular Function",aspect:"",category:[jr],displaySection:W.displaySection.fd,displayGroup:W.displayGroup.mf,skipEvidenceCheck:!0,canDelete:!1,termRequired:!0,weight:1},[Ke.bpOnly]:{type:ue.GoMolecularFunction,category:[jr],label:"Molecular Function",aspect:"F",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.mf,skipEvidenceCheck:!0,visible:!1,canDelete:!1,weight:1},[Ke.ccOnly]:{type:ue.GoMolecularEntity,category:[Rr],label:"Gene Product",skipEvidenceCheck:!0,termRequired:!0,canDelete:!1,displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,weight:1},[Ke.proteinComplex]:{type:ue.GoMolecularFunction,category:[jr],label:"Molecular Function",aspect:"F",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.mf,skipEvidenceCheck:!0,visible:!1,canDelete:!1,weight:1},[Ke.molecule]:{type:ue.GoChemicalEntity,category:[jn],label:"Molecule",skipEvidenceCheck:!0,showEvidence:!1,termRequired:!0,canDelete:!1,displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,weight:1}},BS={type:Ke.simpleAnnoton,nodes:{gp:{id:"gp",type:ue.GoMolecularEntity,category:[Rr,S_],label:"Gene Product",displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,termRequired:!0,skipEvidenceCheck:!0,canDelete:!1,weight:2},goterm:{id:"goterm",type:ue.GoMolecularFunction,category:[jr,Nr,I_],label:"GO Term",aspect:"F",displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,termRequired:!0,canDelete:!1,weight:1}},triples:[{subject:ue.GoMolecularFunction,object:ue.GoMolecularEntity,predicate:W.edge.enabledBy}]},PS={type:Ke.default,nodes:{[ue.GoMolecularFunction]:{id:jr.id,type:ue.GoMolecularFunction,category:[jr],label:"Molecular Function",aspect:"F",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.mf,termRequired:!0,canDelete:!1,weight:1},[ue.GoMolecularEntity]:{id:Rr.id,type:ue.GoMolecularEntity,category:[Rr,rr],label:"enabled by (GP)",displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,termRequired:!0,skipEvidenceCheck:!0,canDelete:!1,weight:2},[ue.GoBiologicalProcess]:{id:Nr.id,type:ue.GoBiologicalProcess,category:[Nr],label:"(MF) part of (BP)",aspect:"P",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.bp,weight:10},[ue.GoCellularComponent]:{id:an.id,type:ue.GoCellularComponent,category:[an],label:"(MF) occurs in (CC)",aspect:"C",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,weight:20}},triples:[{subject:ue.GoMolecularFunction,object:ue.GoMolecularEntity,predicate:W.edge.enabledBy},{subject:ue.GoMolecularFunction,object:ue.GoBiologicalProcess,predicate:W.edge.partOf},{subject:ue.GoMolecularFunction,object:ue.GoCellularComponent,predicate:W.edge.occursIn}]},kS={type:Ke.bpOnly,nodes:{[ue.GoMolecularFunction]:{id:jr.id,type:ue.GoMolecularFunction,category:[jr],label:"Molecular Function",aspect:"F",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.mf,visible:!1,canDelete:!1,weight:1},[ue.GoMolecularEntity]:{id:Rr.id,type:ue.GoMolecularEntity,category:[Rr,rr],label:"enabled by (GP)",displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,termRequired:!0,skipEvidenceCheck:!0,canDelete:!1,weight:2},[ue.GoBiologicalProcess]:{id:Nr.id,type:ue.GoBiologicalProcess,category:[Nr],label:"Biological Process",aspect:"P",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.bp,termRequired:!0,weight:10}},triples:[{subject:ue.GoMolecularFunction,object:ue.GoMolecularEntity,predicate:W.edge.enabledBy},{subject:ue.GoMolecularFunction,object:ue.GoBiologicalProcess,predicate:W.edge.causallyUpstreamOfOrWithin}],overrides:{[ue.GoBiologicalProcess]:{label:"Biological Process"},[ue.GoCellularComponent]:{}}},DS={type:Ke.ccOnly,nodes:{[ue.GoMolecularEntity]:{id:Rr.id,type:ue.GoMolecularEntity,category:[Rr,rr],label:"Gene Product",skipEvidenceCheck:!0,termRequired:!0,canDelete:!1,displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,weight:1}},triples:[]},NS={type:Ke.proteinComplex,isComplex:!0,nodes:{[ue.GoProteinContainingComplex]:{id:rr.id,type:ue.GoProteinContainingComplex,category:[rr],label:"Protein Complex",skipEvidenceCheck:!0,termRequired:!0,canDelete:!1,displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,weight:2},[ue.GoMolecularFunction]:{id:jr.id,type:ue.GoMolecularFunction,category:[jr],label:"Molecular Function",aspect:"F",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.mf,termRequired:!0,canDelete:!1,weight:1},[ue.GoBiologicalProcess]:{id:Nr.id,type:ue.GoBiologicalProcess,category:[Nr],label:"(MF) part of (BP)",aspect:"P",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.bp,weight:10},[ue.GoCellularComponent]:{id:an.id,type:ue.GoCellularComponent,category:[an],label:"(MF) occurs in (CC)",aspect:"C",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,weight:20}},triples:[{subject:ue.GoMolecularFunction,object:ue.GoProteinContainingComplex,predicate:W.edge.enabledBy},{subject:ue.GoMolecularFunction,object:ue.GoBiologicalProcess,predicate:W.edge.partOf},{subject:ue.GoMolecularFunction,object:ue.GoCellularComponent,predicate:W.edge.occursIn}]},LS={type:Ke.molecule,nodes:{[ue.GoChemicalEntity]:{id:jn.id,type:ue.GoChemicalEntity,category:[jn],label:"Molecule",skipEvidenceCheck:!0,termRequired:!0,canDelete:!1,displaySection:W.displaySection.gp,displayGroup:W.displayGroup.gp,weight:1},[ue.GoCellularComponent]:{id:an.id,type:ue.GoCellularComponent,category:[an],label:"(Chemical) located in (CC)",aspect:"C",displaySection:W.displaySection.fd,displayGroup:W.displayGroup.cc,weight:20}},triples:[{subject:ue.GoChemicalEntity,object:ue.GoCellularComponent,predicate:W.edge.locatedIn}]},Fi=t=>{const e=new nv;return e.activityType=t.type,Ye.each(t.nodes,r=>{const n=gl(r.category,r);e.addNode(n)}),Ye.each(t.triples,r=>{const n=e.getNode(r.object);if(n){const a=n.predicate;a.edge=Se.createEntity(r.predicate),n.treeLevel++,e.addEdgeById(r.subject,r.object,a)}}),e.updateShapeMenuShex(),e.updateProperties(),e},FS=[{compression:"gzip",dataset:"cgd",description:"gaf file for cgd from Candida Genome Database",entity_type:null,id:"cgd.gaf",label:"cgd gaf file",source:"http://www.candidagenome.org/download/go/gene_association.cgd.gz",species_code:null,status:"active",submitter:"cgd",taxa:["NCBITaxon:5476","NCBITaxon:5478","NCBITaxon:5480","NCBITaxon:1136231","NCBITaxon:284592","NCBITaxon:294746","NCBITaxon:294747","NCBITaxon:294748","NCBITaxon:306902","NCBITaxon:379508","NCBITaxon:42374","NCBITaxon:573826","NCBITaxon:284593","NCBITaxon:578454","NCBITaxon:237561"],type:"gaf",url:"http://current.geneontology.org/annotations/cgd.gaf.gz"},{compression:"gzip",dataset:"dictybase",description:"gpad file for dictyBase from dictyBase",entity_type:null,id:"dictybase.gpa",label:"dictybase gpad file",source:"https://ftp.ebi.ac.uk/pub/contrib/goa/dictyBase.gpa.gz",species_code:"Ddis",status:"active",submitter:"dictyBase",taxa:["NCBITaxon:352472","NCBITaxon:366501","NCBITaxon:44689","NCBITaxon:5782"],type:"gpad",url:"http://current.geneontology.org/annotations/dictybase.gpad.gz"},{compression:"gzip",dataset:"dictybase",description:"gpi file for dictyBase from dictyBase",entity_type:null,id:"dictybase.gpi",label:"dictybase gpi file",source:"https://ftp.ebi.ac.uk/pub/contrib/goa/dictyBase.gpi.gz",species_code:"Ddis",status:"active",submitter:"dictyBase",taxa:["NCBITaxon:352472","NCBITaxon:366501","NCBITaxon:44689","NCBITaxon:5782"],type:"gpi",url:"http://current.geneontology.org/annotations/dictybase.gpi.gz"},{compression:"gzip",dataset:"dictybase",description:"gaf file for dictybase from dictyBase",entity_type:null,id:"dictybase.gaf",label:"dictybase gaf file",source:"https://ftp.ebi.ac.uk/pub/contrib/goa/dictyBase.gaf.gz",species_code:"Ddis",status:"active",submitter:"dictyBase",taxa:["NCBITaxon:352472","NCBITaxon:366501","NCBITaxon:44689","NCBITaxon:5782"],type:"gaf",url:"http://current.geneontology.org/annotations/dictybase.gaf.gz"},{compression:"gzip",dataset:"ecocyc",description:"gaf file for ecocyc from Encyclopedia of E. coli metabolism",entity_type:null,id:"ecocyc.gaf",label:"ecocyc gaf file",source:"https://ecoliwiki.org/gaf/gene_association.ecocyc.gz",species_code:null,status:"active",submitter:"ecocyc",taxa:["NCBITaxon:83333"],type:"gaf",url:"http://current.geneontology.org/annotations/ecocyc.gaf.gz"},{compression:"gzip",dataset:"fb",description:"gaf file for fb from FlyBase",entity_type:null,id:"fb.gaf",label:"fb gaf file",source:"ftp://ftp.flybase.net/releases/current/precomputed_files/go/gene_association.fb.gz",species_code:"Dmel",status:"active",submitter:"fb",taxa:["NCBITaxon:7227"],type:"gaf",url:"http://current.geneontology.org/annotations/fb.gaf.gz"},{compression:"gzip",dataset:"genedb_lmajor",description:"gaf file for genedb_lmajor from GeneDB",entity_type:null,id:"genedb_lmajor.gaf",label:"genedb_lmajor gaf file",source:"ftp://ftp.sanger.ac.uk/pub/project/pathogens/as44/Lmajor.gaf.gz",species_code:null,status:"active",submitter:"genedb",taxa:["NCBITaxon:5664"],type:"gaf",url:"http://current.geneontology.org/annotations/genedb_lmajor.gaf.gz"},{compression:"gzip",dataset:"genedb_tbrucei",description:"gaf file for genedb_tbrucei from GeneDB",id:"genedb_tbrucei.gaf",label:"genedb_tbrucei gaf file",source:"ftp://ftp.sanger.ac.uk/pub/project/pathogens/as44/Tbruceibrucei927.gaf.gz",species_code:null,status:"active",submitter:"genedb",taxa:["NCBITaxon:185431"],type:"gaf",url:"http://current.geneontology.org/annotations/genedb_tbrucei.gaf.gz"},{compression:"gzip",dataset:"genedb_pfalciparum",description:"gaf file for genedb_pfalciparum from GeneDB",entity_type:null,id:"genedb_pfalciparum.gaf",label:"genedb_pfalciparum gaf file",source:"ftp://ftp.sanger.ac.uk/pub/project/pathogens/as44/Pfalciparum.gaf.gz",species_code:null,status:"active",submitter:"genedb",taxa:["NCBITaxon:5833","NCBITaxon:36329"],type:"gaf",url:"http://current.geneontology.org/annotations/genedb_pfalciparum.gaf.gz"},{compression:"gzip",dataset:"goa_chicken",description:"gpad file for goa_chicken from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_chicken.gpad",label:"goa_chicken gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken.gpa.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_chicken.gpad.gz"},{compression:"gzip",dataset:"goa_chicken",description:"gpi file for goa_chicken from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_chicken.gpi",label:"goa_chicken gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken.gpi.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_chicken.gpi.gz"},{compression:"gzip",dataset:"goa_chicken_complex",description:"gpad file for goa_chicken_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_chicken_complex.gpad",label:"goa_chicken_complex gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken_complex.gpa.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_chicken_complex.gpad.gz"},{compression:"gzip",dataset:"goa_chicken_complex",description:"gpi file for goa_chicken_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_chicken_complex.gpi",label:"goa_chicken_complex gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken_complex.gpi.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_chicken_complex.gpi.gz"},{compression:"gzip",dataset:"goa_chicken_isoform",description:"gpad file for goa_chicken_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_chicken_isoform.gpad",label:"goa_chicken_isoform gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken_isoform.gpa.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_chicken_isoform.gpad.gz"},{compression:"gzip",dataset:"goa_chicken_isoform",description:"gpi file for goa_chicken_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_chicken_isoform.gpi",label:"goa_chicken_isoform gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken_isoform.gpi.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_chicken_isoform.gpi.gz"},{compression:"gzip",dataset:"goa_chicken_rna",description:"gpad file for goa_chicken_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_chicken_rna.gpad",label:"goa_chicken_rna gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken_rna.gpa.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_chicken_rna.gpad.gz"},{compression:"gzip",dataset:"goa_chicken_rna",description:"gpi file for goa_chicken_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_chicken_rna.gpi",label:"goa_chicken_rna gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken_rna.gpi.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_chicken_rna.gpi.gz"},{compression:"gzip",dataset:"goa_cow",description:"gpad file for goa_cow from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_cow.gpad",label:"goa_cow gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow.gpa.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_cow.gpad.gz"},{compression:"gzip",dataset:"goa_cow",description:"gpi file for goa_cow from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_cow.gpi",label:"goa_cow gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow.gpi.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_cow.gpi.gz"},{compression:"gzip",dataset:"goa_cow_complex",description:"gpad file for goa_cow_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_cow_complex.gpad",label:"goa_cow_complex gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow_complex.gpa.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_cow_complex.gpad.gz"},{compression:"gzip",dataset:"goa_cow_complex",description:"gpi file for goa_cow_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_cow_complex.gpi",label:"goa_cow_complex gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow_complex.gpi.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_cow_complex.gpi.gz"},{compression:"gzip",dataset:"goa_cow_isoform",description:"gpad file for goa_cow_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_cow_isoform.gpad",label:"goa_cow_isoform gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow_isoform.gpa.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_cow_isoform.gpad.gz"},{compression:"gzip",dataset:"goa_cow_isoform",description:"gpi file for goa_cow_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_cow_isoform.gpi",label:"goa_cow_isoform gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow_isoform.gpi.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_cow_isoform.gpi.gz"},{compression:"gzip",dataset:"goa_cow_rna",description:"gpad file for goa_cow_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_cow_rna.gpad",label:"goa_cow_rna gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow_rna.gpa.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_cow_rna.gpad.gz"},{compression:"gzip",dataset:"goa_cow_rna",description:"gpi file for goa_cow_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_cow_rna.gpi",label:"goa_cow_rna gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow_rna.gpi.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_cow_rna.gpi.gz"},{compression:"gzip",dataset:"goa_dog",description:"gpad file for goa_dog from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_dog.gpad",label:"goa_dog gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog.gpa.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_dog.gpad.gz"},{compression:"gzip",dataset:"goa_dog",description:"gpi file for goa_dog from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_dog.gpi",label:"goa_dog gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog.gpi.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_dog.gpi.gz"},{compression:"gzip",dataset:"goa_dog_complex",description:"gpad file for goa_dog_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_dog_complex.gpad",label:"goa_dog_complex gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog_complex.gpa.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_dog_complex.gpad.gz"},{compression:"gzip",dataset:"goa_dog_complex",description:"gpi file for goa_dog_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_dog_complex.gpi",label:"goa_dog_complex gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog_complex.gpi.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_dog_complex.gpi.gz"},{compression:"gzip",dataset:"goa_dog_isoform",description:"gpad file for goa_dog_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_dog_isoform.gpad",label:"goa_dog_isoform gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog_isoform.gpa.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_dog_isoform.gpad.gz"},{compression:"gzip",dataset:"goa_dog_isoform",description:"gpi file for goa_dog_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_dog_isoform.gpi",label:"goa_dog_isoform gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog_isoform.gpi.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_dog_isoform.gpi.gz"},{compression:"gzip",dataset:"goa_dog_rna",description:"gpad file for goa_dog_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_dog_rna.gpad",label:"goa_dog_rna gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog_rna.gpa.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_dog_rna.gpad.gz"},{compression:"gzip",dataset:"goa_dog_rna",description:"gpi file for goa_dog_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_dog_rna.gpi",label:"goa_dog_rna gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog_rna.gpi.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_dog_rna.gpi.gz"},{compression:"gzip",dataset:"goa_human",description:"gpad file for goa_human from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_human.gpad",label:"goa_human gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human.gpa.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_human.gpad.gz"},{compression:"gzip",dataset:"goa_human",description:"gpi file for goa_human from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_human.gpi",label:"goa_human gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human.gpi.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_human.gpi.gz"},{compression:"gzip",dataset:"goa_human_complex",description:"gpad file for goa_human_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_human_complex.gpad",label:"goa_human_complex gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human_complex.gpa.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_human_complex.gpad.gz"},{compression:"gzip",dataset:"goa_human_complex",description:"gpi file for goa_human_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_human_complex.gpi",label:"goa_human_complex gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human_complex.gpi.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_human_complex.gpi.gz"},{compression:"gzip",dataset:"goa_human_isoform",description:"gpad file for goa_human_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_human_isoform.gpad",label:"goa_human_isoform gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human_isoform.gpa.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_human_isoform.gpad.gz"},{compression:"gzip",dataset:"goa_human_isoform",description:"gpi file for goa_human_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_human_isoform.gpi",label:"goa_human_isoform gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human_isoform.gpi.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_human_isoform.gpi.gz"},{compression:"gzip",dataset:"goa_human_rna",description:"gpad file for goa_human_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_human_rna.gpad",label:"goa_human_rna gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human_rna.gpa.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_human_rna.gpad.gz"},{compression:"gzip",dataset:"goa_human_rna",description:"gpi file for goa_human_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_human_rna.gpi",label:"goa_human_rna gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human_rna.gpi.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_human_rna.gpi.gz"},{compression:"gzip",dataset:"goa_pig",description:"gpad file for goa_pig from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_pig.gpad",label:"goa_pig gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig.gpa.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_pig.gpad.gz"},{compression:"gzip",dataset:"goa_pig",description:"gpi file for goa_pig from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_pig.gpi",label:"goa_pig gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig.gpi.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_pig.gpi.gz"},{compression:"gzip",dataset:"goa_pig_complex",description:"gpad file for goa_pig_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_pig_complex.gpad",label:"goa_pig_complex gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig_complex.gpa.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_pig_complex.gpad.gz"},{compression:"gzip",dataset:"goa_pig_complex",description:"gpi file for goa_pig_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_pig_complex.gpi",label:"goa_pig_complex gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig_complex.gpi.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_pig_complex.gpi.gz"},{compression:"gzip",dataset:"goa_pig_isoform",description:"gpad file for goa_pig_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_pig_isoform.gpad",label:"goa_pig_isoform gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig_isoform.gpa.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_pig_isoform.gpad.gz"},{compression:"gzip",dataset:"goa_pig_isoform",description:"gpi file for goa_pig_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_pig_isoform.gpi",label:"goa_pig_isoform gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig_isoform.gpi.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_pig_isoform.gpi.gz"},{compression:"gzip",dataset:"goa_pig_rna",description:"gpad file for goa_pig_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_pig_rna.gpad",label:"goa_pig_rna gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig_rna.gpa.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gpad",url:"http://current.geneontology.org/annotations/goa_pig_rna.gpad.gz"},{compression:"gzip",dataset:"goa_pig_rna",description:"gpi file for goa_pig_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_pig_rna.gpi",label:"goa_pig_rna gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig_rna.gpi.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gpi",url:"http://current.geneontology.org/annotations/goa_pig_rna.gpi.gz"},{compression:"gzip",dataset:"goa_chicken",description:"gaf file for goa_chicken from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_chicken.gaf",label:"goa_chicken gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken.gaf.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_chicken.gaf.gz"},{compression:"gzip",dataset:"goa_chicken_complex",description:"gaf file for goa_chicken_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_chicken_complex.gaf",label:"goa_chicken_complex gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken_complex.gaf.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_chicken_complex.gaf.gz"},{compression:"gzip",dataset:"goa_chicken_isoform",description:"gaf file for goa_chicken_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_chicken_isoform.gaf",label:"goa_chicken_isoform gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken_isoform.gaf.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_chicken_isoform.gaf.gz"},{compression:"gzip",dataset:"goa_chicken_rna",description:"gaf file for goa_chicken_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_chicken_rna.gaf",label:"goa_chicken_rna gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/CHICKEN/goa_chicken_rna.gaf.gz",species_code:"Ggal",status:"active",submitter:"goa",taxa:["NCBITaxon:208524","NCBITaxon:208525","NCBITaxon:208526","NCBITaxon:400035","NCBITaxon:9031"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_chicken_rna.gaf.gz"},{compression:"gzip",dataset:"goa_cow",description:"gaf file for goa_cow from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_cow.gaf",label:"goa_cow gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow.gaf.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_cow.gaf.gz"},{compression:"gzip",dataset:"goa_cow_complex",description:"gaf file for goa_cow_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_cow_complex.gaf",label:"goa_cow_complex gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow_complex.gaf.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_cow_complex.gaf.gz"},{compression:"gzip",dataset:"goa_cow_isoform",description:"gaf file for goa_cow_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_cow_isoform.gaf",label:"goa_cow_isoform gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow_isoform.gaf.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_cow_isoform.gaf.gz"},{compression:"gzip",dataset:"goa_cow_rna",description:"gaf file for goa_cow_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_cow_rna.gaf",label:"goa_cow_rna gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/COW/goa_cow_rna.gaf.gz",species_code:"Btau",status:"active",submitter:"goa",taxa:["NCBITaxon:297284","NCBITaxon:30523","NCBITaxon:9913"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_cow_rna.gaf.gz"},{compression:"gzip",dataset:"goa_dog",description:"gaf file for goa_dog from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_dog.gaf",label:"goa_dog gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog.gaf.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_dog.gaf.gz"},{compression:"gzip",dataset:"goa_dog_complex",description:"gaf file for goa_dog_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_dog_complex.gaf",label:"goa_dog_complex gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog_complex.gaf.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_dog_complex.gaf.gz"},{compression:"gzip",dataset:"goa_dog_isoform",description:"gaf file for goa_dog_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_dog_isoform.gaf",label:"goa_dog_isoform gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog_isoform.gaf.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_dog_isoform.gaf.gz"},{compression:"gzip",dataset:"goa_dog_rna",description:"gaf file for goa_dog_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_dog_rna.gaf",label:"goa_dog_rna gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/DOG/goa_dog_rna.gaf.gz",species_code:"Cfam",status:"active",submitter:"goa",taxa:["NCBITaxon:9615"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_dog_rna.gaf.gz"},{compression:"gzip",dataset:"goa_human",description:"gaf file for goa_human from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_human.gaf",label:"goa_human gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human.gaf.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_human.gaf.gz"},{compression:"gzip",dataset:"goa_human_complex",description:"gaf file for goa_human_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_human_complex.gaf",label:"goa_human_complex gaf file",source:"http://release.geneontology.org/2022-01-13/products/annotations/goa_human_complex-src.gaf.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_human_complex.gaf.gz"},{compression:"gzip",dataset:"goa_human_isoform",description:"gaf file for goa_human_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_human_isoform.gaf",label:"goa_human_isoform gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human_isoform.gaf.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_human_isoform.gaf.gz"},{compression:"gzip",dataset:"goa_human_rna",description:"gaf file for goa_human_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_human_rna.gaf",label:"goa_human_rna gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/HUMAN/goa_human_rna.gaf.gz",species_code:"Hsap",status:"active",submitter:"goa",taxa:["NCBITaxon:9606"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_human_rna.gaf.gz"},{compression:"gzip",dataset:"goa_pdb",description:"gaf file for goa_pdb from EBI Gene Ontology Annotation Database",entity_type:"protein",exclude:!0,id:"goa_pdb.gaf",label:"goa_pdb gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PDB/goa_pdb.gaf.gz",species_code:null,status:"active",submitter:"goa",taxa:null,type:"gaf",url:"http://geneontology.org/gene-associations/goa_pdb.gaf.gz"},{compression:"gzip",dataset:"goa_pig",description:"gaf file for goa_pig from EBI Gene Ontology Annotation Database",entity_type:"protein",id:"goa_pig.gaf",label:"goa_pig gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig.gaf.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_pig.gaf.gz"},{compression:"gzip",dataset:"goa_pig_complex",description:"gaf file for goa_pig_complex from EBI Gene Ontology Annotation Database",entity_type:"complex",id:"goa_pig_complex.gaf",label:"goa_pig_complex gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig_complex.gaf.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_pig_complex.gaf.gz"},{compression:"gzip",dataset:"goa_pig_isoform",description:"gaf file for goa_pig_isoform from EBI Gene Ontology Annotation Database",entity_type:"isoform",id:"goa_pig_isoform.gaf",label:"goa_pig_isoform gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig_isoform.gaf.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_pig_isoform.gaf.gz"},{compression:"gzip",dataset:"goa_pig_rna",description:"gaf file for goa_pig_rna from EBI Gene Ontology Annotation Database",entity_type:"rna",id:"goa_pig_rna.gaf",label:"goa_pig_rna gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/PIG/goa_pig_rna.gaf.gz",species_code:"Sscr",status:"active",submitter:"goa",taxa:["NCBITaxon:9823"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_pig_rna.gaf.gz"},{aggregates:"goa",compression:"gzip",dataset:"goa_uniprot_all",description:"gaf file for goa_uniprot_all from EBI Gene Ontology Annotation Database",entity_type:"all",id:"goa_uniprot_all.gaf",label:"goa_uniprot_all gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/UNIPROT/goa_uniprot_all.gaf.gz",status:"active",submitter:"goa",taxa:["NCBITaxon:1"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_uniprot_all.gaf.gz"},{aggregates:"goa",compression:"gzip",dataset:"goa_uniprot_all",description:"gpi file for goa_uniprot_all from EBI Gene Ontology Annotation Database",entity_type:"all",id:"goa_uniprot_all.gpi",label:"goa_uniprot_all gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/UNIPROT/goa_uniprot_all.gpi.gz",status:"active",submitter:"goa",taxa:["NCBITaxon:1"],type:"gpi",url:"http://geneontology.org/gene-associations/goa_uniprot_all.gpi.gz"},{aggregates:"goa",compression:"gzip",dataset:"goa_uniprot_all",description:"gpad file for goa_uniprot_all from EBI Gene Ontology Annotation Database",entity_type:"all",id:"goa_uniprot_all.gpad",label:"goa_uniprot_all gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/UNIPROT/goa_uniprot_all.gpa.gz",status:"active",submitter:"goa",taxa:["NCBITaxon:1"],type:"gpad",url:"http://geneontology.org/gene-associations/goa_uniprot_all.gpad.gz"},{aggregates:"goa",compression:"gzip",dataset:"goa_uniprot_gcrp",description:"gaf file for goa_uniprot_gcrp from EBI Gene Ontology Annotation Database",entity_type:"all",exclude:!0,id:"goa_uniprot_gcrp.gaf",label:"goa_uniprot_gcrp gaf file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/UNIPROT/goa_uniprot_gcrp.gaf.gz",status:"active",submitter:"goa",taxa:["NCBITaxon:1"],type:"gaf",url:"http://geneontology.org/gene-associations/goa_uniprot_gcrp.gaf.gz"},{aggregates:"goa",compression:"gzip",dataset:"goa_uniprot_gcrp",description:"gpi file for goa_uniprot_gcrp from EBI Gene Ontology Annotation Database",entity_type:"all",exclude:!0,id:"goa_uniprot_gcrp.gpi",label:"goa_uniprot_gcrp gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/UNIPROT/goa_uniprot_gcrp.gpi.gz",status:"active",submitter:"goa",taxa:["NCBITaxon:1"],type:"gpi",url:"http://geneontology.org/gene-associations/goa_uniprot_gcrp.gpi.gz"},{aggregates:"goa",compression:"gzip",dataset:"goa_uniprot_gcrp",description:"gpad file for goa_uniprot_gcrp from EBI Gene Ontology Annotation Database",entity_type:"all",exclude:!0,id:"goa_uniprot_gcrp.gpad",label:"goa_uniprot_gcrp gpad file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/UNIPROT/goa_uniprot_gcrp.gpa.gz",status:"active",submitter:"goa",taxa:["NCBITaxon:1"],type:"gpad",url:"http://geneontology.org/gene-associations/goa_uniprot_gcrp.gpad.gz"},{dataset:"interpro2go",description:"external2go file to map InterPro entries to GO terms",id:"interpro2go",label:"interpro2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/interpro2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/interpro2go"},{dataset:"pfam2go",description:"external2go file to map Pfam entries to GO terms",id:"pfam2go",label:"pfam2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/pfam2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/pfam2go"},{dataset:"pirsf2go",description:"external2go file to map PIRSF entries to GO terms",id:"pirsf2go",label:"pirsf2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/pirsf2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/pirsf2go"},{dataset:"prints2go",description:"external2go file to map PRINTS entries to GO terms",id:"prints2go",label:"prints2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/prints2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/prints2go"},{dataset:"prodom2go",description:"external2go file to map PRODOM entries to GO terms",id:"prodom2go",label:"prodom2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/prodom2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/prodom2go"},{dataset:"prosite2go",description:"external2go file to map PROSITE entries to GO terms",id:"prosite2go",label:"prosite2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/prosite2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/prosite2go"},{dataset:"smart2go",description:"external2go file to map SMART entries to GO terms",id:"smart2go",label:"smart2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/smart2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/smart2go"},{dataset:"uniprotkb_kw2go",description:"external2go file to map UniProtKB keywords to GO terms",id:"uniprotkb_kw2go",label:"uniprotkb_kw2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/uniprotkb_kw2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/uniprotkb_kw2go"},{dataset:"uniprotkb_sl2go",description:"external2go file to map UniProtKB Subcellular Location vocabulary to GO terms",id:"uniprotkb_sl2go",label:"uniprotkb_sl2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/uniprotkb_sl2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/uniprotkb_sl2go"},{dataset:"unirule2go",description:"external2go file to map UniRule rules to GO terms",id:"unirule2go",label:"unirule2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/unirule2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/unirule2go"},{dataset:"hamap2go",description:"external2go file to map HAMAP family members to GO terms",id:"hamap2go",label:"hamap2go mapping file",source:"https://ftp.ebi.ac.uk/pub/databases/GO/goa/external2go/hamap2go",status:"active",submitter:"goa",type:"external2go",url:"http://geneontology.org/external2go/hamap2go"},{compression:"gzip",dataset:"japonicusdb",description:"gaf file for japonicusdb from JaponicusDB",entity_type:null,id:"japonicusdb.gaf",label:"japonicusdb gaf file",source:"https://www.japonicusdb.org/data/annotations/Gene_ontology/gene_association.japonicusdb.gz",species_code:"Sjap",status:"active",submitter:"japonicusdb",taxa:["NCBITaxon:402676","NCBITaxon:4897"],type:"gaf",url:"http://current.geneontology.org/annotations/japonicusdb.gaf.gz"},{compression:"gzip",dataset:"japonicusdb",description:"gpi file for japonicusdb from JaponicusDB",entity_type:null,id:"japonicusdb.gpi",label:"japonicusdb gpi file",source:"https://www.japonicusdb.org/data/annotations/Gene_ontology/japonicusdb.gpi.gz",species_code:"Sjap",status:"active",submitter:"japonicusdb",taxa:["NCBITaxon:402676","NCBITaxon:4897"],type:"gpi",url:"http://current.geneontology.org/annotations/japonicusdb.gpi.gz"},{compression:"gzip",dataset:"japonicusdb",description:"gpad file for japonicusdb from JaponicusDB",entity_type:null,id:"japonicusdb.gpad",label:"japonicusdb gpad file",source:"https://www.japonicusdb.org/data/annotations/Gene_ontology/japonicusdb.gpad.gz",species_code:"Sjap",status:"active",submitter:"japonicusdb",taxa:["NCBITaxon:402676","NCBITaxon:4897"],type:"gpad",url:"http://current.geneontology.org/annotations/japonicusdb.gpad.gz"},{compression:"gzip",dataset:"mgi",description:"gaf file for mgi from Mouse Genome Informatics",entity_type:null,id:"mgi.gaf",label:"mgi gaf file",source:"http://www.informatics.jax.org/downloads/reports/gene_association_nonoctua.mgi.gz",species_code:"Mmus",status:"active",submitter:"mgi",taxa:["NCBITaxon:10090"],type:"gaf",url:"http://current.geneontology.org/annotations/mgi.gaf.gz"},{compression:"gzip",dataset:"mgi",description:"gpad file for mgi from Mouse Genome Informatics",entity_type:null,id:"mgi.gpad",label:"mgi gpad file",source:"http://www.informatics.jax.org/downloads/reports/mgi.gpad.gz",species_code:"Mmus",status:"active",submitter:"mgi",taxa:["NCBITaxon:10090"],type:"gpad",url:"http://current.geneontology.org/annotations/mgi.gpad.gz"},{compression:"gzip",dataset:"mgi",description:"gpi file for mgi from Mouse Genome Informatics",entity_type:null,id:"mgi.gpi",label:"mgi gpi file",source:"http://www.informatics.jax.org/downloads/reports/mgi.gpi.gz",species_code:"Mmus",status:"active",submitter:"mgi",taxa:["NCBITaxon:10090"],type:"gpi",url:"http://current.geneontology.org/annotations/mgi.gpi.gz"},{compression:"gzip",dataset:"noctua_mgi",description:"GPAD file for MGI from Noctua",entity_type:null,id:"noctua_mgi.gpad",label:"noctua_mgi gpad file",merges_into:"mgi",source:"./products/annotations/noctua_mgi-src.gpad.gz",species_code:null,status:"active",submitter:"GOC",taxa:["NCBITaxon:5476"],type:"gpad"},{compression:"gzip",dataset:"noctua_fb",description:"GPAD file for FB from Noctua",entity_type:null,id:"noctua_fb.gpad",label:"noctua_fb gpad file",source:"./products/annotations/noctua_fb.gpad.gz",species_code:null,status:"inactive",submitter:"GOC",taxa:["NCBITaxon:7227"],type:"gpad"},{compression:"gzip",dataset:"noctua_rgd",description:"GPAD file for RGD from Noctua",entity_type:null,id:"noctua_rgd.gpad",label:"noctua_rgd gpad file",source:"./products/annotations/noctua_rgd.gpad.gz",species_code:null,status:"inactive",submitter:"GOC",taxa:["NCBITaxon:10116"],type:"gpad"},{compression:"gzip",dataset:"noctua_sgd",description:"GPAD file for SGD from Noctua",entity_type:null,id:"noctua_sgd.gpad",label:"noctua_sgd gpad file",source:"./products/annotations/noctua_sgd.gpad.gz",species_code:null,status:"inactive",submitter:"GOC",taxa:["NCBITaxon:285006","NCBITaxon:307796","NCBITaxon:41870","NCBITaxon:4932","NCBITaxon:559292"],type:"gpad"},{compression:"gzip",dataset:"noctua_wb",description:"GPAD file for WB from Noctua",entity_type:null,id:"noctua_wb.gpad",label:"noctua_wb gpad file",source:"./products/annotations/noctua_wb.gpad.gz",species_code:null,status:"inactive",submitter:"GOC",taxa:["NCBITaxon:6239"],type:"gpad"},{compression:"gzip",dataset:"noctua_xenbase",description:"GPAD file for Xenbase from Noctua",entity_type:null,id:"noctua_xenbase.gpad",label:"noctua_xenbase gpad file",merges_into:"xenbase",source:"./products/annotations/noctua_xenbase-src.gpad.gz",species_code:null,status:"active",submitter:"GOC",taxa:["NCBITaxon:8364","NCBITaxon:8355"],type:"gpad"},{compression:"gzip",dataset:"noctua_zfin",description:"GPAD file for ZFIN from Noctua",entity_type:null,id:"noctua_zfin.gpad",label:"noctua_zfin gpad file",merges_into:"zfin",source:"./products/annotations/noctua_zfin-src.gpad.gz",species_code:null,status:"active",submitter:"GOC",taxa:["NCBITaxon:7955"],type:"gpad"},{compression:"gzip",dataset:"paint_cgd",description:"gaf file for paint_cgd from PAINT",entity_type:null,id:"paint_cgd.gaf",label:"paint_cgd gaf file",merges_into:"cgd",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_cgd.gaf.gz",species_code:null,status:"active",submitter:"paint",taxa:["NCBITaxon:5476"],type:"gaf"},{compression:"gzip",dataset:"paint_dictybase",description:"gaf file for paint_dictybase from PAINT",entity_type:null,id:"paint_dictybase.gaf",label:"paint_dictybase gaf file",merges_into:"dictybase",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_dictyBase.gaf.gz",species_code:"Ddis",status:"active",submitter:"paint",taxa:["NCBITaxon:352472","NCBITaxon:366501","NCBITaxon:44689","NCBITaxon:5782"],type:"gaf"},{compression:"gzip",dataset:"paint_ecocyc",description:"gaf file for paint_ecocyc from PAINT",entity_type:null,id:"paint_ecocyc.gaf",label:"paint_ecocyc gaf file",merges_into:"ecocyc",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_ecocyc.gaf.gz",species_code:null,status:"active",submitter:"paint",taxa:["NCBITaxon:83333"],type:"gaf"},{compression:"gzip",dataset:"paint_fb",description:"gaf file for paint_fb from PAINT",entity_type:null,id:"paint_fb.gaf",label:"paint_fb gaf file",merges_into:"fb",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_fb.gaf.gz",species_code:"Dmel",status:"active",submitter:"paint",taxa:["NCBITaxon:7227"],type:"gaf"},{compression:"gzip",dataset:"paint_goa_chicken",description:"gaf file for paint_goa_chicken from PAINT",entity_type:"chicken",id:"paint_goa_chicken.gaf",label:"paint_goa_chicken gaf file",merges_into:"goa_chicken",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_chicken.gaf.gz",species_code:null,status:"active",submitter:"paint",taxa:null,type:"gaf"},{compression:"gzip",dataset:"paint_goa_human",description:"gaf file for paint_goa_human from PAINT",entity_type:"human",id:"paint_goa_human.gaf",label:"paint_goa_human gaf file",merges_into:"goa_human",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_human.gaf.gz",species_code:null,status:"active",submitter:"paint",taxa:null,type:"gaf"},{compression:"gzip",dataset:"paint_mgi",description:"gaf file for paint_mgi from PAINT",entity_type:null,id:"paint_mgi.gaf",label:"paint_mgi gaf file",merges_into:"mgi",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_mgi.gaf.gz",species_code:"Mmus",status:"active",submitter:"paint",taxa:["NCBITaxon:10090"],type:"gaf"},{compression:"gzip",dataset:"paint_other",description:"gaf file for paint_other from PAINT",entity_type:null,id:"paint_other.gaf",label:"paint_other gaf file",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_other.gaf.gz",species_code:null,status:"active",submitter:"paint",taxa:[],type:"gaf"},{compression:"gzip",dataset:"paint_pombase",description:"gaf file for paint_pombase from PAINT",entity_type:null,id:"paint_pombase.gaf",label:"paint_pombase gaf file",merges_into:"pombase",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_pombase.gaf.gz",species_code:"Spom",status:"active",submitter:"paint",taxa:["NCBITaxon:284812","NCBITaxon:4896"],type:"gaf"},{compression:"gzip",dataset:"paint_rgd",description:"gaf file for paint_rgd from PAINT",entity_type:null,id:"paint_rgd.gaf",label:"paint_rgd gaf file",merges_into:"rgd",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_rgd.gaf.gz",species_code:"Rnor",status:"active",submitter:"paint",taxa:["NCBITaxon:10116"],type:"gaf"},{compression:"gzip",dataset:"paint_sgd",description:"gaf file for paint_sgd from PAINT",entity_type:null,id:"paint_sgd.gaf",label:"paint_sgd gaf file",merges_into:"sgd",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_sgd.gaf.gz",species_code:"Scer",status:"active",submitter:"paint",taxa:["NCBITaxon:285006","NCBITaxon:307796","NCBITaxon:41870","NCBITaxon:4932","NCBITaxon:559292"],type:"gaf"},{compression:"gzip",dataset:"paint_tair",description:"gaf file for paint_tair from PAINT",entity_type:null,id:"paint_tair.gaf",label:"paint_tair gaf file",merges_into:"tair",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_tair.gaf.gz",species_code:"Atal",status:"active",submitter:"paint",taxa:["NCBITaxon:3702"],type:"gaf"},{compression:"gzip",dataset:"paint_wb",description:"gaf file for paint_wb from PAINT",entity_type:null,id:"paint_wb.gaf",label:"paint_wb gaf file",merges_into:"wb",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_wb.gaf.gz",species_code:"Cele",status:"active",submitter:"paint",taxa:["NCBITaxon:6239"],type:"gaf"},{compression:"gzip",dataset:"paint_xenbase",description:"gaf file for paint_xenbase from PAINT",entity_type:null,id:"paint_xenbase.gaf",label:"paint_xenbase gaf file",merges_into:"xenbase",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_xenbase.gaf.gz",species_code:"Xenopus",status:"active",submitter:"paint",taxa:["NCBITaxon:8364","NCBITaxon:8355"],type:"gaf"},{compression:"gzip",dataset:"paint_zfin",description:"gaf file for paint_zfin from PAINT",entity_type:null,id:"paint_zfin.gaf",label:"paint_zfin gaf file",merges_into:"zfin",source:"ftp://ftp.pantherdb.org/downloads/paint/presubmission/gene_association.paint_zfin.gaf.gz",species_code:"Drer",status:"active",submitter:"paint",taxa:["NCBITaxon:7955"],type:"gaf"},{compression:"gzip",dataset:"pombase",description:"gaf file for pombase from PomBase",entity_type:null,id:"pombase.gaf",label:"pombase gaf file",source:"https://www.pombase.org/data/annotations/Gene_ontology/gene_association.pombase.gz",species_code:"Spom",status:"active",submitter:"pombase",taxa:["NCBITaxon:284812","NCBITaxon:4896"],type:"gaf",url:"http://current.geneontology.org/annotations/pombase.gaf.gz"},{compression:"gzip",dataset:"pombase",description:"gpi file for pombase from PomBase",entity_type:null,id:"pombase.gpi",label:"pombase gpi file",source:"https://www.pombase.org/data/annotations/Gene_ontology/pombase.gpi.gz",species_code:"Spom",status:"active",submitter:"pombase",taxa:["NCBITaxon:284812","NCBITaxon:4896"],type:"gpi",url:"http://current.geneontology.org/annotations/pombase.gpi.gz"},{compression:"gzip",dataset:"pombase",description:"gpad file for pombase from PomBase",entity_type:null,id:"pombase.gpad",label:"pombase gpad file",source:"https://www.pombase.org/data/annotations/Gene_ontology/pombase.gpad.gz",species_code:"Spom",status:"active",submitter:"pombase",taxa:["NCBITaxon:284812","NCBITaxon:4896"],type:"gpad",url:"http://current.geneontology.org/annotations/pombase.gpad.gz"},{compression:"gzip",dataset:"pseudocap",description:"gaf file for pseudocap from Pseudomonas Genome Project",entity_type:null,id:"pseudocap.gaf",label:"pseudocap gaf file",source:"https://github.com/brinkmanlab/pseudomonas-genome-database/raw/master/pseudocap-annotation-files/gene_association.pseudocap.gz",species_code:"Pseudomonas",status:"active",submitter:"pseudocap",taxa:["NCBITaxon:208964"],type:"gaf",url:"http://current.geneontology.org/annotations/pseudocap.gaf.gz"},{compression:"gzip",dataset:"reactome",description:"gaf file for reactome from Reactome - a curated knowledgebase of biological pathways",entity_type:null,id:"reactome.gaf",label:"reactome gaf file",source:"https://www.reactome.org/download/current/gene_association.reactome.gz",species_code:null,status:"inactive",submitter:"reactome",taxa:null,type:"gaf",url:"http://current.geneontology.org/annotations/reactome.gaf.gz"},{compression:"gzip",dataset:"rgd",description:"gaf file for rgd from Rat Genome Database",entity_type:null,id:"rgd.gaf",label:"rgd gaf file",source:"https://github.com/rat-genome-database/rgd-annotation-files/raw/master/gene_association.rgd.gz",species_code:"Rnor",status:"active",submitter:"rgd",taxa:["NCBITaxon:10116"],type:"gaf",url:"http://current.geneontology.org/annotations/rgd.gaf.gz"},{compression:"gzip",dataset:"rnacentral",description:"gpi file for RNA central, all species",entity_type:"rna",id:"rnacentral.gpi",label:"RNACentral gpi file",source:"https://ftp.ebi.ac.uk/pub/databases/RNAcentral/current_release/gpi/rnacentral.gpi.gz",status:"active",submitter:"rnacentral",taxa:["NCBITaxon:1"],type:"gpi"},{compression:"gzip",dataset:"sgd",description:"gaf file for sgd from Saccharomyces Genome Database",entity_type:null,id:"sgd.gaf",label:"sgd gaf file",source:"https://sgd-prod-upload.s3.amazonaws.com/latest/gene_association.sgd.gaf.gz",species_code:"Scer",status:"active",submitter:"sgd",taxa:["NCBITaxon:285006","NCBITaxon:307796","NCBITaxon:41870","NCBITaxon:4932","NCBITaxon:559292"],type:"gaf",url:"http://current.geneontology.org/annotations/sgd.gaf.gz"},{compression:"gzip",dataset:"sgd",description:"gpad file for sgd from Saccharomyces Genome Database",entity_type:null,id:"sgd.gpad",label:"sgd gpad file",source:"https://ftp.ebi.ac.uk/pub/contrib/goa/gp_association.559292_sgd.gz",species_code:"Scer",status:"active",submitter:"sgd",taxa:["NCBITaxon:285006","NCBITaxon:307796","NCBITaxon:41870","NCBITaxon:4932","NCBITaxon:559292"],type:"gpad",url:"http://current.geneontology.org/annotations/sgd.gpad.gz"},{compression:"gzip",dataset:"sgd",description:"gpi file for sgd from Saccharomyces Genome Database",entity_type:null,id:"sgd.gpi",label:"sgd gpi file",source:"https://downloads.yeastgenome.org/latest/gpi.sgd.gz",species_code:"Scer",status:"active",submitter:"sgd",taxa:["NCBITaxon:285006","NCBITaxon:307796","NCBITaxon:41870","NCBITaxon:4932","NCBITaxon:559292"],type:"gpi",url:"http://current.geneontology.org/annotations/sgd.gpi.gz"},{compression:"gzip",dataset:"sgn",description:"gaf file for sgn from Sol Genomics Network",entity_type:"gene",id:"sgn.gaf",label:"sgn gaf file",source:"https://solgenomics.net/ftp/ontology/GO/gene_association.sgn.gz",species_code:"Solanaceae",status:"active",submitter:"sgn",taxa:["NCBITaxon:4081"],type:"gaf",url:"http://current.geneontology.org/annotations/sgn.gaf.gz"},{compression:"gzip",dataset:"tair",description:"gaf file for tair from The Arabidopsis Information Resource",entity_type:null,id:"tair.gaf",label:"tair gaf file",source:"https://www.arabidopsis.org/download_files/GO_and_PO_Annotations/Gene_Ontology_Annotations/gene_association.tair.gz",species_code:"Atal",status:"active",submitter:"tair",taxa:["NCBITaxon:3702"],type:"gaf",url:"http://current.geneontology.org/annotations/tair.gaf.gz"},{compression:"gzip",dataset:"wb",description:"gaf file for wb from WormBase database of nematode biology",entity_type:null,id:"wb.gaf",label:"wb gaf file",source:"ftp://ftp.wormbase.org/pub/wormbase/species/c_elegans/PRJNA13758/annotation/gene_association/c_elegans.PRJNA13758.current.gene_association.wb.gz",species_code:"Cele",status:"active",submitter:"wb",taxa:["NCBITaxon:6239"],type:"gaf",url:"http://current.geneontology.org/annotations/wb.gaf.gz"},{compression:"gzip",dataset:"wb",description:"gpi file for Caenorhabditis elegans from WormBase",entity_type:null,id:"wb.gpi",label:"wb gpi file",source:"ftp://ftp.wormbase.org/pub/wormbase/species/c_elegans/PRJNA13758/annotation/gene_product_info/c_elegans.PRJNA13758.current.gene_product_info.gpi.gz",species_code:"Cele",status:"active",submitter:"wb",taxa:["NCBITaxon:6239"],type:"gpi",url:"http://current.geneontology.org/annotations/wb.gpi.gz"},{compression:"gzip",dataset:"xenbase",description:"gpi file for Xenbase",entity_type:null,id:"xenbase.gpi",label:"Xenbase gpi file",source:"https://ftp.xenbase.org/pub/GenePageReports/xenbase.gpi.gz",species_code:"Xenopus",status:"active",submitter:"xenbase",taxa:["NCBITaxon:8364","NCBITaxon:8355"],type:"gpi"},{compression:"gzip",dataset:"xenbase",description:"GAF file for Xenbase",entity_type:null,id:"xenbase.gaf",label:"xenbase gaf file",source:"https://ftp.xenbase.org/pub/DataExchange/GO/xenbase.EBI.only.2.2.gaf.gz",species_code:"Xenopus",status:"active",submitter:"xenbase",taxa:["NCBITaxon:8364","NCBITaxon:8355"],type:"gaf",url:"http://current.geneontology.org/annotations/xenbase.gaf.gz"},{compression:"gzip",dataset:"zfin",description:"gaf file for zfin from Zebrafish Information Network",entity_type:null,id:"zfin.gaf",label:"zfin gaf file",source:"https://zfin.org/downloads/gene_association2.2_automated_only.zfin.gz",species_code:"Drer",status:"active",submitter:"zfin",taxa:["NCBITaxon:7955"],type:"gaf",url:"http://current.geneontology.org/annotations/zfin.gaf.gz"},{compression:"gzip",dataset:"zfin",description:"gpi file for zfin from Zebrafish Information Network",entity_type:null,id:"zfin.gpi",label:"zfin gpi file",source:"https://zfin.org/downloads/zfin.gpi.gz",species_code:"Drer",status:"active",submitter:"zfin",taxa:["NCBITaxon:7955"],type:"gpi",url:"http://current.geneontology.org/annotations/zfin.gpi.gz"}];class qS{constructor(){this.speciesList=[],this.termLookupTable=ei.genTermLookupTable(),this.shapePredicates=ei.getPredicates(kc_goshapes,null,null,!1),this.speciesList=this.generateSpeciesList()}get edges(){return W.edge}get modelState(){const e=[W.modelState.options.development,W.modelState.options.production,W.modelState.options.review,W.modelState.options.closed,W.modelState.options.delete,W.modelState.options.internal_test];return{options:e,selected:e[0]}}get graphLayoutDetail(){const e=[W.graphLayoutDetail.options.detailed,W.graphLayoutDetail.options.simple,W.graphLayoutDetail.options.preview];return{options:e,selected:e[0]}}get evidenceDBs(){const e=[W.evidenceDB.options.pmid,W.evidenceDB.options.doi,W.evidenceDB.options.goRef];return{options:e,selected:e[0]}}get activityType(){const e=[W.activityType.options.default,W.activityType.options.bpOnly,W.activityType.options.ccOnly];return{options:e,selected:e[0]}}get activitySortField(){const e=[W.activitySortField.options.gp,W.activitySortField.options.date];return{options:e,selected:e[0]}}get bpOnlyEdges(){const e=[W.edge.causallyUpstreamOfOrWithin,W.edge.causallyUpstreamOf,W.edge.causallyUpstreamOfPositiveEffect,W.edge.causallyUpstreamOfNegativeEffect,W.edge.causallyUpstreamOfOrWithinPositiveEffect,W.edge.causallyUpstreamOfOrWithinNegativeEffect];return{options:e,selected:e[0]}}get ccOnlyEdges(){const e=[W.edge.partOf,W.edge.locatedIn,W.edge.isActiveIn];return{options:e,selected:e[0]}}get graphDisplayDefaultEdges(){const e=[W.edge.enabledBy,W.edge.partOf,W.edge.occursIn,W.edge.hasInput];return{options:e,selected:e[0]}}get effectDirection(){const e=[W.effectDirection.positive,W.effectDirection.negative];return{options:e,selected:e[0]}}get findReplaceCategories(){const e=[W.findReplaceCategory.options.term,W.findReplaceCategory.options.gp,W.findReplaceCategory.options.reference];return{options:e,selected:e[0]}}get directness(){const e=[W.directness.direct,W.directness.indirect];return{options:e,selected:e[0]}}get activityRelationship(){const e=[W.activityRelationship.regulation,W.activityRelationship.constitutivelyUpstream,W.activityRelationship.providesInputFor,W.activityRelationship.removesInputFor,W.activityRelationship.undetermined];return{options:e,selected:e[0]}}get activityMoleculeRelationship(){const e=[W.activityMoleculeRelationship.product];return{options:e,selected:e[0]}}get moleculeActivityRelationship(){const e=[W.moleculeActivityRelationship.regulates,W.moleculeActivityRelationship.substrate];return{options:e,selected:e[0]}}isAllowedEdge(e){return W.allowedPathwayViewerEdges.some(r=>r.id===e)}generateSpeciesList(){const e=new Set;return FS.forEach(r=>{r.species_code&&e.add(r.species_code)}),[...e]}getGeneShorthand(e){for(let r of this.speciesList)e=e.replace(new RegExp(`${r}$`,"i"),"").trim();return e}createPredicate(e,r){const n=new js(e,r);return(t=>{const e=ac([mp]);t.setEvidenceMeta("eco",Object.assign({},JSON.parse(JSON.stringify(Gc)),{fq:['document_category:"ontology_class"',e]}))})(n),n}createActivityBaseModel(e,r){const n=AS[e];if(n)return((t,e)=>{const r=new nv;r.activityType=t;const n=gl(e.category,e);return r.addNode(n),r.updateShapeMenuShex(),r.updateProperties(),r})(e,Object.assign(Object.assign({},n),r))}createActivityModel(e){switch(e){case Ke.default:return Fi(PS);case Ke.bpOnly:return Fi(kS);case Ke.ccOnly:return Fi(DS);case Ke.molecule:return Fi(LS);case Ke.proteinComplex:return Fi(NS);case Ke.simpleAnnoton:return Fi(BS)}}addActivityNodeShex(e,r,n,a){return((t,e,r,n)=>{const a=dv(e,r,n.category),i=gl(n.category,a);i.subjectId=e.id,i.id=n.id?n.id:$s(),t.addNode(i),i.treeLevel=e.treeLevel+1;const o=t.getNode(i.id).predicate;return o.subjectId=e.id,o.objectId=i.id,o.edge=Se.createEntity(r),t.addEdge(e,i,o),t.updateProperties(),t.resetPresentation(),i})(e,r,n,a)}insertActivityNodeShex(e,r,n,a=null){return((t,e,r,n=null)=>{const a=ei.genTermLookupTable(),i=kc_goshapes,o=[];e.category.forEach(d=>{const p=ei.getRangeBySubject(i,d.category,r.id);if(p){const v=p.object.map(m=>{const y=a[m],b=new gp;return b.category=y.id,b});o.push(...v)}});const l=dv(e,r,o),u=gl(o,l);u.id=n||$s(),u.subjectId=e.id,t.addNode(u),u.treeLevel=e.treeLevel+1;const c=t.getNode(u.id).predicate;return c.subjectId=e.id,c.objectId=u.id,c.edge=Se.createEntity(r),t.addEdge(e,u,c),t.updateProperties(),t.resetPresentation(),u})(e,r,n,a)}insertActivityNodeByPredicate(e,r,n,a){}findEdge(e){const r=Ye.find(W.allEdges,{id:e});return Se.createEntity(r||{id:e,label:e})}getAspect(e){const r=Ye.find(W.rootNode,{id:e});return r?r.aspect:""}getModelId(e){return"gomodel:"+e.substr(e.lastIndexOf("/")+1)}getIndividalId(e){return"gomodel:"+e.substr(e.lastIndexOf("/")+2)}}const pv=class{constructor(t){(0,Ae.r)(this,t),this.selectChanged=(0,Ae.c)(this,"selectChanged",7),this.previousElt=void 0,this.cam=void 0,this.parentCy=void 0,this.enrichedActivities=void 0,this.groupedActivities=void 0}componentWillLoad(){}componentDidLoad(){}camChanged(t,e){if(t!=e){if(this.enrichedActivities=void 0,!this.cam)return;this.groupedActivities=this.cam.groupActivitiesByProcess()}}highlightActivity(t){var e=this;return(0,ha.A)(function*(){const r=e.hostElement.shadowRoot.getElementById("gp_item_"+t);if(e.hostElement&&r){const n=e.hostElement.shadowRoot.querySelectorAll(".activity");for(let a=0;a<n.length;a++)n[a].classList.remove("active");r.classList.add("active"),e.hostElement.scroll(0,r.offsetTop-e.hostElement.offsetTop)}})()}select(t){this.clearHighlight(),this.selectChanged.emit(t)}highlight(t){let e=this.parentCy.elements('[id="'+t+'"]');e.size()>0&&(e.style("border-width","2px"),e.style("border-color","blue"),this.previousElt=e)}clearHighlight(){this.previousElt&&(this.previousElt.style("border-width","1px"),this.previousElt.style("border-color","black"),this.previousElt.style("background-color","white"),this.previousElt=void 0)}highlightSelf(t){t.classList.contains("gocam-activity:hover")||t.classList.add("gocam-activity:hover")}renderReferenceIcon(){return(0,Ae.h)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-newspaper icon",viewBox:"0 0 16 16"},(0,Ae.h)("path",{d:"M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5z"}),(0,Ae.h)("path",{d:"M2 3h10v2H2zm0 3h4v3H2zm0 4h4v1H2zm0 2h4v1H2zm5-6h2v1H7zm3 0h2v1h-2zM7 8h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2z"}))}renderReferences(t){return(0,Ae.h)("span",null,t.map(e=>{var r;if(!e.reference)return null;const n="Source: "+e.reference+"\nEvidence: "+e.evidence.label;return null!==(r=e.referenceEntity)&&void 0!==r&&r.url?(0,Ae.h)("a",{href:e.referenceEntity.url,target:"_blank",title:n},this.renderReferenceIcon()):(0,Ae.h)("span",{title:n},this.renderReferenceIcon())}))}renderTaxon(t){let e=t.taxonLabel;if(!e)return(0,Ae.h)("a",{href:t.taxonURL,target:"_blank"});if(e.includes(" ")){let r=e.split(" ");e=r[0].substring(0,1)+"."+r[1]}return(0,Ae.h)("a",{href:t.taxonURL,target:"_blank"},e)}renderProcess(t){return(0,Ae.h)("div",{class:"process",part:"process"},(0,Ae.h)("div",{class:"process-label",part:"process-label"},t),(0,Ae.h)("div",{class:"process-activities"},this.groupedActivities[t].map(e=>this.renderActivity(e))))}renderActivity(t){var e,r,n,a;const i=t.nodes.filter(o=>{var l,u,c,d;return""!==(null===(u=null===(l=o.predicate)||void 0===l?void 0:l.edge)||void 0===u?void 0:u.id)&&(null===(d=null===(c=o.predicate)||void 0===c?void 0:c.edge)||void 0===d?void 0:d.id)!==W.edge.enabledBy.id});return(0,Ae.h)("div",{class:"activity",id:"gp_item_"+t.id,onClick:()=>this.select(t),part:"activity"},(0,Ae.h)("div",{class:"gene-product",part:"gene-product"},t.gpNode&&(0,Ae.h)("a",{href:null===(e=t.gpNode)||void 0===e?void 0:e.term.url,target:"_blank"},null===(r=t.gpNode)||void 0===r?void 0:r.term.label)),t.rootNode&&(0,Ae.h)("div",{class:"function"},(0,Ae.h)("div",{class:"function-label",part:"function-label"},(0,Ae.h)("div",{class:"node-term"},(0,Ae.h)("a",{href:null===(n=t.rootNode)||void 0===n?void 0:n.term.url,target:"_blank"},null===(a=t.rootNode)||void 0===a?void 0:a.term.label)),(0,Ae.h)("div",{class:"node-evidence"},this.renderReferences(t.rootNode.predicate.evidence))),(0,Ae.h)("div",{class:"function-nodes"},i.map(o=>{var l;return(0,Ae.h)("div",{class:"node"},(0,Ae.h)("div",{class:"node-relation"},null===(l=o.predicate)||void 0===l?void 0:l.edge.label),(0,Ae.h)("div",{class:"node-term"},(0,Ae.h)("a",{target:"_blank",href:o.term.url},o.term.label)),(0,Ae.h)("div",{class:"node-evidence"},this.renderReferences(o.predicate.evidence)))}))))}render(){return this.cam&&this.groupedActivities?Object.keys(this.groupedActivities).map(t=>this.renderProcess(t)):null}get hostElement(){return(0,Ae.g)(this)}static get watchers(){return{cam:["camChanged"]}}};pv.style=":host{--height:auto;display:block;scroll-behavior:smooth;height:var(--height);box-sizing:border-box;overflow-y:scroll}.process{background:var(--process-background, none);border-color:var(--process-border-color, rgba(0, 0, 0, 0.125));border-style:solid;border-width:var(--process-border-width, 0);color:var(--process-color, inherit);padding:var(--process-padding, 0);margin-bottom:3em}.process:last-child{border-bottom:none;margin-bottom:0}.process-label{background:var(--process-label-background, none);border-color:var(--process-label-border-color, rgba(0, 0, 0, 0.125));border-style:solid;border-width:var(--process-label-border-width, 0);color:var(--process-label-color, inherit);padding:var(--process-label-padding, 0)}.activity{background:var(--activity-background, none);border-color:var(--activity-border-color, rgba(0, 0, 0, 0.125));border-style:solid;border-width:var(--activity-border-width, 0);color:var(--activity-color, inherit);padding:var(--activity-padding, 0)}.activity a{color:var(--activity-color);text-decoration:none}.activity a:hover{color:var(--activity-color-link-hover)}.activity.active{background-color:var(--activity-background-active);color:var(--activity-color-active)}.activity.active a{color:var(--activity-color-active)}.activity:last-child{border-bottom:none}.gene-product{background:var(--gene-product-background, none);border-color:var(--gene-product-border-color, rgba(0, 0, 0, 0.125));border-style:solid;border-width:var(--gene-product-border-width, 0);color:var(--gene-product-color, inherit);padding:var(--gene-product-padding, 0)}.function-label{background:var(--function-label-background, none);border-color:var(--function-label-border-color, rgba(0, 0, 0, 0.125));border-style:solid;border-width:var(--function-label-border-width, 0);color:var(--function-label-color, inherit);padding:var(--function-label-padding, 0);display:flex}.function-label .node-term{font-size:1em}.function-nodes{padding:var(--function-nodes-padding)}.node{display:flex;align-items:var(--node-align-items, center);margin-bottom:0.175em;width:100%;background:var(--node-background, none);border-color:var(--node-border-color, rgba(0, 0, 0, 0.125));border-style:solid;border-width:var(--node-border-width, 0);color:var(--node-color, inherit);padding:var(--node-padding, 0)}.node:last-child{border-bottom:none;margin-bottom:0}.node-relation{cursor:default;font-size:0.625em;width:8em;min-width:8em;max-width:8em}.node-term{font-size:0.75em;flex-grow:1;flex-shrink:1}.node-evidence{text-align:right}.node-evidence .icon{margin-left:0.25em;height:1em;width:1em}";var Ot=function(t){return t.CAUSALLY_UPSTREAM_OF_POSITIVE_EFFECT="RO:0002304",t.CAUSALLY_UPSTREAM_OF_NEGATIVE_EFFECT="RO:0002305",t.CONSTITUTIVELY_UPSTREAM_OF="RO:0012009",t.DIRECTLY_NEGATIVELY_REGULATES="RO:0002630",t.DIRECTLY_POSITIVELY_REGULATES="RO:0002629",t.HAS_INPUT="RO:0002233",t.HAS_OUTPUT="RO:0002234",t.INDIRECTLY_NEGATIVELY_REGULATES="RO:0002409",t.INDIRECTLY_POSITIVELY_REGULATES="RO:0002407",t.IS_SMALL_MOLECULE_INHIBITOR_OF="RO:0012006",t.IS_SMALL_MOLECULE_ACTIVATOR_OF="RO:0012005",t.NEGATIVELY_REGULATES="RO:0002212",t.POSITIVELY_REGULATES="RO:0002213",t.PROVIDES_INPUT_FOR="RO:0002413",t.REMOVES_INPUT_FOR="RO:0012010",t}(Ot||{});const Ne_SIZES_DEFAULT=5,Ne_COLORS_LIGHT_RED="#fF9999",Ne_COLORS_RED="#FF0000",Ne_COLORS_GREEN="#008800",Ne_COLORS_LIGHT_GREEN="#95e095",Ne_COLORS_GREY="#CCCCCC",Ne_LINE_STYLES_SOLID="solid",Ne_LINE_STYLES_DASHED="dashed",Ne_GLYPHS_NONE=null,Ne_GLYPHS_TEE="tee",Ne_GLYPHS_TRIANGLE="triangle",Ne_GLYPHS_CIRCLE="circle",Mc={[Ot.CAUSALLY_UPSTREAM_OF_POSITIVE_EFFECT]:{lineStyle:Ne_LINE_STYLES_DASHED,glyph:Ne_GLYPHS_TRIANGLE,label:"causally upstream of, positive effect",color:Ne_COLORS_LIGHT_GREEN,width:Ne_SIZES_DEFAULT},[Ot.CAUSALLY_UPSTREAM_OF_NEGATIVE_EFFECT]:{lineStyle:Ne_LINE_STYLES_DASHED,glyph:Ne_GLYPHS_TEE,label:"causally upstream of, negative effect",color:Ne_COLORS_LIGHT_RED,width:Ne_SIZES_DEFAULT},[Ot.CONSTITUTIVELY_UPSTREAM_OF]:{lineStyle:Ne_LINE_STYLES_DASHED,glyph:Ne_GLYPHS_CIRCLE,label:"constitutively upstream of",color:Ne_COLORS_LIGHT_GREEN,width:Ne_SIZES_DEFAULT},[Ot.DIRECTLY_NEGATIVELY_REGULATES]:{lineStyle:Ne_LINE_STYLES_SOLID,glyph:Ne_GLYPHS_TEE,label:"directly negatively regulates",color:Ne_COLORS_RED,width:Ne_SIZES_DEFAULT},[Ot.DIRECTLY_POSITIVELY_REGULATES]:{lineStyle:Ne_LINE_STYLES_SOLID,glyph:Ne_GLYPHS_TRIANGLE,label:"directly positively regulates",color:Ne_COLORS_GREEN,width:Ne_SIZES_DEFAULT},[Ot.HAS_INPUT]:{lineStyle:Ne_LINE_STYLES_SOLID,glyph:Ne_GLYPHS_CIRCLE,label:"has input",color:"#6495ED",width:Ne_SIZES_DEFAULT},[Ot.HAS_OUTPUT]:{lineStyle:Ne_LINE_STYLES_SOLID,glyph:Ne_GLYPHS_CIRCLE,label:"has output",color:"#ED6495",width:Ne_SIZES_DEFAULT},[Ot.INDIRECTLY_NEGATIVELY_REGULATES]:{lineStyle:Ne_LINE_STYLES_DASHED,glyph:Ne_GLYPHS_TEE,label:"indirectly negatively regulates",color:Ne_COLORS_RED,width:Ne_SIZES_DEFAULT},[Ot.INDIRECTLY_POSITIVELY_REGULATES]:{lineStyle:Ne_LINE_STYLES_DASHED,glyph:Ne_GLYPHS_TRIANGLE,label:"indirectly positively regulates",color:Ne_COLORS_GREEN,width:Ne_SIZES_DEFAULT},[Ot.IS_SMALL_MOLECULE_INHIBITOR_OF]:{lineStyle:Ne_LINE_STYLES_SOLID,glyph:Ne_GLYPHS_TEE,label:"is small molecule inhibitor of",color:Ne_COLORS_RED,width:Ne_SIZES_DEFAULT},[Ot.IS_SMALL_MOLECULE_ACTIVATOR_OF]:{lineStyle:Ne_LINE_STYLES_SOLID,glyph:Ne_GLYPHS_TRIANGLE,label:"is small molecule activator of",color:Ne_COLORS_GREEN,width:Ne_SIZES_DEFAULT},[Ot.NEGATIVELY_REGULATES]:{lineStyle:Ne_LINE_STYLES_DASHED,glyph:Ne_GLYPHS_TEE,label:"negatively regulates",color:Ne_COLORS_RED,width:Ne_SIZES_DEFAULT},[Ot.POSITIVELY_REGULATES]:{lineStyle:Ne_LINE_STYLES_DASHED,glyph:Ne_GLYPHS_TRIANGLE,label:"positively regulates",color:Ne_COLORS_GREEN,width:Ne_SIZES_DEFAULT},[Ot.PROVIDES_INPUT_FOR]:{lineStyle:Ne_LINE_STYLES_SOLID,glyph:"circle-triangle",label:"provides input for",color:"#800080",width:Ne_SIZES_DEFAULT},[Ot.REMOVES_INPUT_FOR]:{lineStyle:Ne_LINE_STYLES_SOLID,glyph:"square",label:"removes input for",color:Ne_COLORS_LIGHT_RED,width:Ne_SIZES_DEFAULT}},YS={regulation:{[Ot.DIRECTLY_POSITIVELY_REGULATES]:"direct positive regulation/activation",[Ot.DIRECTLY_NEGATIVELY_REGULATES]:"direct negative regulation/inhibition",[Ot.INDIRECTLY_POSITIVELY_REGULATES]:"indirect positive regulation",[Ot.INDIRECTLY_NEGATIVELY_REGULATES]:"indirect negative regulation"},input:{[Ot.PROVIDES_INPUT_FOR]:"provides input for",[Ot.REMOVES_INPUT_FOR]:"removes input for",[Ot.HAS_INPUT]:"input of",[Ot.HAS_OUTPUT]:"has output"},upstream:{[Ot.CONSTITUTIVELY_UPSTREAM_OF]:"constitutively upstream",[Ot.CAUSALLY_UPSTREAM_OF_POSITIVE_EFFECT]:"upstream positive effect",[Ot.CAUSALLY_UPSTREAM_OF_NEGATIVE_EFFECT]:"upstream negative effect"}},hv=class{constructor(t){(0,Ae.r)(this,t)}render(){return(0,Ae.h)(Ae.H,null,(0,Ae.h)("svg",{height:"0",width:"0",style:{position:"absolute"}},(0,Ae.h)("defs",null,Object.entries(Mc).map(([t,e])=>(0,Ae.h)("marker",{id:`${e.glyph}-${t}`,viewBox:"-2 0 18 10",refX:"18",refY:"5",markerWidth:"12",markerHeight:"4",orient:"auto"},"circle-triangle"===e.glyph&&(0,Ae.h)(Ae.F,null,(0,Ae.h)("path",{d:"M 4 0 L 12 5 L 4 10 z",fill:e.color}),(0,Ae.h)("circle",{cx:"16",cy:"5",r:"5",fill:e.color})),"triangle"===e.glyph&&(0,Ae.h)("path",{d:"M 12 0 L 20 5 L 12 10 z",fill:e.color}),"tee"===e.glyph&&(0,Ae.h)("rect",{x:"14",y:"0",width:"4",height:"10",fill:e.color}),"circle"===e.glyph&&(0,Ae.h)("circle",{cx:"16",cy:"5",r:"5",fill:e.color}),"square"===e.glyph&&(0,Ae.h)("rect",{x:"12",y:"0",width:"8",height:"10",fill:e.color}))))),(0,Ae.h)("div",{class:"header",part:"header"},"Relation Types"),(0,Ae.h)("div",{class:"sections",part:"sections"},Object.entries(YS).map(([t,e])=>(0,Ae.h)("div",{class:`section ${t}`,part:"section"},Object.entries(e).map(([r,n])=>{const a=Mc[r];return(0,Ae.h)("div",{class:"item"},(0,Ae.h)("svg",{height:"30",width:"60"},(0,Ae.h)("line",{x1:"5",y1:"15",x2:"45",y2:"15",stroke:a.color,"stroke-width":Ne_SIZES_DEFAULT,"stroke-dasharray":"dashed"===a.lineStyle?"5,5":"none","marker-end":a.glyph?`url(#${a.glyph}-${r})`:"none"})),(0,Ae.h)("span",null,n))})))))}};hv.style=":host{--border-width:0;--border-color:rgba(0, 0, 0, 0.125);--padding:0;--header-background:none;--header-border-color:var(--border-color);--header-border-width:0;--header-color:inherit;--header-padding:0;--header-font-weight:700;display:block;border-width:var(--border-width);border-style:solid;border-color:var(--border-color);padding:var(--padding)}.header{background:var(--header-background, none);border-color:var(--header-border-color, rgba(0, 0, 0, 0.125));border-style:solid;border-width:var(--header-border-width, 0);color:var(--header-color, inherit);padding:var(--header-padding, 0);font-weight:var(--header-font-weight);margin-bottom:0.5em}.item{display:flex;align-items:center;margin-bottom:0.2em;gap:0.25em}.item svg{flex-shrink:0}.item-label{display:inline-block;margin-left:0.2em}.sections{display:flex;gap:0.25em}.sections .section{flex:1;display:flex;flex-direction:column}";var QS=/^\s+|\s+$/g,JS=/^[-+]0x[0-9a-f]+$/i,eI=/^0b[01]+$/i,tI=/^0o[0-7]+$/i,rI=parseInt,aI="object"==typeof self&&self&&self.Object===Object&&self,iI="object"==typeof pr&&pr&&pr.Object===Object&&pr||aI||Function("return this")(),sI=Object.prototype.toString,lI=Math.max,uI=Math.min,zc=function(){return iI.Date.now()};function Fc(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function gv(t){if("number"==typeof t)return t;if(function dI(t){return"symbol"==typeof t||function fI(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==sI.call(t)}(t))return NaN;if(Fc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Fc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(QS,"");var r=eI.test(t);return r||tI.test(t)?rI(t.slice(2),r?2:8):JS.test(t)?NaN:+t}var hI=Ua(function(t,e){(function(){var r,n,a,i,o,l,u,c,d,p,v,m,y,b,g;a=Math.floor,p=Math.min,n=function(_,w){return _<w?-1:_>w?1:0},d=function(_,w,E,R,P){var k;if(null==E&&(E=0),null==P&&(P=n),E<0)throw new Error("lo must be non-negative");for(null==R&&(R=_.length);E<R;)P(w,_[k=a((E+R)/2)])<0?R=k:E=k+1;return[].splice.apply(_,[E,E-E].concat(w)),w},l=function(_,w,E){return null==E&&(E=n),_.push(w),b(_,0,_.length-1,E)},o=function(_,w){var E,R;return null==w&&(w=n),E=_.pop(),_.length?(R=_[0],_[0]=E,g(_,0,w)):R=E,R},c=function(_,w,E){var R;return null==E&&(E=n),R=_[0],_[0]=w,g(_,0,E),R},u=function(_,w,E){var R;return null==E&&(E=n),_.length&&E(_[0],w)<0&&(w=(R=[_[0],w])[0],_[0]=R[1],g(_,0,E)),w},i=function(_,w){var R,P,k,T,D;for(null==w&&(w=n),T=[],R=0,P=(k=function(){D=[];for(var I=0,F=a(_.length/2);0<=F?I<F:I>F;0<=F?I++:I--)D.push(I);return D}.apply(this).reverse()).length;R<P;R++)T.push(g(_,k[R],w));return T},y=function(_,w,E){var R;if(null==E&&(E=n),-1!==(R=_.indexOf(w)))return b(_,0,R,E),g(_,R,E)},v=function(_,w,E){var P,k,T,D;if(null==E&&(E=n),!(P=_.slice(0,w)).length)return P;for(i(P,E),k=0,T=(D=_.slice(w)).length;k<T;k++)u(P,D[k],E);return P.sort(E).reverse()},m=function(_,w,E){var R,P,k,T,D,I,F,M,G;if(null==E&&(E=n),10*w<=_.length){if(!(k=_.slice(0,w).sort(E)).length)return k;for(P=k[k.length-1],T=0,I=(F=_.slice(w)).length;T<I;T++)E(R=F[T],P)<0&&(d(k,R,0,null,E),k.pop(),P=k[k.length-1]);return k}for(i(_,E),G=[],D=0,M=p(w,_.length);0<=M?D<M:D>M;0<=M?++D:--D)G.push(o(_,E));return G},b=function(_,w,E,R){var P,k,T;for(null==R&&(R=n),P=_[E];E>w&&R(P,k=_[T=E-1>>1])<0;)_[E]=k,E=T;return _[E]=P},g=function(_,w,E){var R,P,k,T,D;for(null==E&&(E=n),P=_.length,D=w,k=_[w],R=2*w+1;R<P;)(T=R+1)<P&&!(E(_[R],_[T])<0)&&(R=T),_[w]=_[R],R=2*(w=R)+1;return _[w]=k,b(_,D,w,E)},r=function(){function _(w){this.cmp=w??n,this.nodes=[]}return _.push=l,_.pop=o,_.replace=c,_.pushpop=u,_.heapify=i,_.updateItem=y,_.nlargest=v,_.nsmallest=m,_.prototype.push=function(w){return l(this.nodes,w,this.cmp)},_.prototype.pop=function(){return o(this.nodes,this.cmp)},_.prototype.peek=function(){return this.nodes[0]},_.prototype.contains=function(w){return-1!==this.nodes.indexOf(w)},_.prototype.replace=function(w){return c(this.nodes,w,this.cmp)},_.prototype.pushpop=function(w){return u(this.nodes,w,this.cmp)},_.prototype.heapify=function(){return i(this.nodes,this.cmp)},_.prototype.updateItem=function(w){return y(this.nodes,w,this.cmp)},_.prototype.clear=function(){return this.nodes=[]},_.prototype.empty=function(){return 0===this.nodes.length},_.prototype.size=function(){return this.nodes.length},_.prototype.clone=function(){var w;return(w=new _).nodes=this.nodes.slice(0),w},_.prototype.toArray=function(){return this.nodes.slice(0)},_.prototype.insert=_.prototype.push,_.prototype.top=_.prototype.peek,_.prototype.front=_.prototype.peek,_.prototype.has=_.prototype.contains,_.prototype.copy=_.prototype.clone,_}(),t.exports=r}).call(pr)}),vI=hI;function mv(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var ml=mv(function cI(t,e,r){var n,a,i,o,l,u,c=0,d=!1,p=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(k){var T=n,D=a;return n=a=void 0,c=k,o=t.apply(D,T)}function g(k){var T=k-u;return void 0===u||T>=e||T<0||p&&k-c>=i}function _(){var k=zc();if(g(k))return w(k);l=setTimeout(_,function b(k){var I=e-(k-u);return p?uI(I,i-(k-c)):I}(k))}function w(k){return l=void 0,v&&n?m(k):(n=a=void 0,o)}function P(){var k=zc(),T=g(k);if(n=arguments,a=this,u=k,T){if(void 0===l)return function y(k){return c=k,l=setTimeout(_,e),d?m(k):o}(u);if(p)return l=setTimeout(_,e),m(u)}return void 0===l&&(l=setTimeout(_,e)),o}return e=gv(e)||0,Fc(r)&&(d=!!r.leading,i=(p="maxWait"in r)?lI(gv(r.maxWait)||0,e):i,v="trailing"in r?!!r.trailing:v),P.cancel=function E(){void 0!==l&&clearTimeout(l),c=0,n=u=a=l=void 0},P.flush=function R(){return void 0===l?o:w(zc())},P}),zo=mv(vI);function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hc(t,e,r){return e&&yv(t.prototype,e),r&&yv(t,r),t}function bv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xn(t,e){return function gI(t){if(Array.isArray(t))return t}(t)||function mI(t,e){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=t[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!e||r.length!==e);n=!0);}catch(u){a=!0,i=u}finally{try{!n&&null!=o.return&&o.return()}finally{if(a)throw i}}return r}(t,e)||function yI(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var zt=typeof window>"u"?null:window,_v=zt?zt.navigator:null,bI=Wt(""),xv=Wt({}),_I=Wt(function(){}),xI=typeof HTMLElement>"u"?"undefined":Wt(HTMLElement),Fo=function(e){return e&&e.instanceString&&Lt(e.instanceString)?e.instanceString():null},ze=function(e){return null!=e&&Wt(e)==bI},Lt=function(e){return null!=e&&Wt(e)===_I},Et=function(e){return!Yr(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},dt=function(e){return null!=e&&Wt(e)===xv&&!Et(e)&&e.constructor===Object},Te=function(e){return null!=e&&Wt(e)===Wt(1)&&!isNaN(e)},yl=function(e){if("undefined"!==xI)return null!=e&&e instanceof HTMLElement},Yr=function(e){return qo(e)||wv(e)},qo=function(e){return"collection"===Fo(e)&&e._private.single},wv=function(e){return"collection"===Fo(e)&&!e._private.single},$c=function(e){return"core"===Fo(e)},Ov=function(e){return"stylesheet"===Fo(e)},ya=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},TI=function(e){return function(e){return null!=e&&Wt(e)===xv}(e)&&Lt(e.then)},Ho=function(e,r){r||(r=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function a(){var l,o=arguments,u=r.apply(this,o),c=a.cache;return(l=c[u])||(l=c[u]=e.apply(this,o)),l};return n.cache={},n},Uc=Ho(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),bl=Ho(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Ev=Ho(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Cv=function(e){return ya(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Kt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",II="rgb[a]?\\(("+Kt+"[%]?)\\s*,\\s*("+Kt+"[%]?)\\s*,\\s*("+Kt+"[%]?)(?:\\s*,\\s*("+Kt+"))?\\)",AI="rgb[a]?\\((?:"+Kt+"[%]?)\\s*,\\s*(?:"+Kt+"[%]?)\\s*,\\s*(?:"+Kt+"[%]?)(?:\\s*,\\s*(?:"+Kt+"))?\\)",BI="hsl[a]?\\(("+Kt+")\\s*,\\s*("+Kt+"[%])\\s*,\\s*("+Kt+"[%])(?:\\s*,\\s*("+Kt+"))?\\)",PI="hsl[a]?\\((?:"+Kt+")\\s*,\\s*(?:"+Kt+"[%])\\s*,\\s*(?:"+Kt+"[%])(?:\\s*,\\s*(?:"+Kt+"))?\\)",Rv=function(e,r){return e<r?-1:e>r?1:0},Ue=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(null!=n)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];t[o]=n[o]}}return t},qI={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Tv=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(dt(o))throw Error("Tried to set map with object key");i<n.length-1?(null==r[o]&&(r[o]={}),r=r[o]):r[o]=e.value}},Sv=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(dt(o))throw Error("Tried to get map with object key");if(null==(r=r[o]))return r}return r},jc=zt?zt.performance:null,Iv=jc&&jc.now?function(){return jc.now()}:function(){return Date.now()},HI=function(){if(zt){if(zt.requestAnimationFrame)return function(t){zt.requestAnimationFrame(t)};if(zt.mozRequestAnimationFrame)return function(t){zt.mozRequestAnimationFrame(t)};if(zt.webkitRequestAnimationFrame)return function(t){zt.webkitRequestAnimationFrame(t)};if(zt.msRequestAnimationFrame)return function(t){zt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Iv())},1e3/60)}}(),_l=function(e){return HI(e)},Zn=Iv,qi=9261,$o=5381,Bv=function(e){for(var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qi;!(a=e.next()).done;)n=65599*n+a.value|0;return n},Uo=function(e){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:qi)+e|0},jo=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$o;return(r<<5)+r+e|0},ba=function(e){return 2097152*e[0]+e[1]},xl=function(e,r){return[Uo(e[0],r[0]),jo(e[1],r[1])]},ri=function(e,r){var n={value:0,done:!1},a=0,i=e.length;return Bv({next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}},r)},Pv=function(){return jI(arguments)},jI=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];r=0===n?ri(a):ri(a,r)}return r},kv=!0,VI=null!=console.warn,WI=null!=console.trace,Vc=Number.MAX_SAFE_INTEGER||9007199254740991,Dv=function(){return!0},wl=function(){return!1},Nv=function(){return 0},Wc=function(){},Ft=function(e){throw new Error(e)},Lv=function(e){if(void 0===e)return kv;kv=!!e},Ct=function(e){Lv()&&(VI?console.warn(e):(console.log(e),WI&&console.trace()))},Pn=function(e){return null==e?e:Et(e)?e.slice():dt(e)?function(e){return Ue({},e)}(e):e},Gv=function(e,r){for(r=e="";e++<36;r+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return r},XI={},Mv=function(){return XI},ir=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],l=n?.[o];a[o]=void 0===l?e[o]:l}return a}},_a=function(e,r,n){for(var a=e.length-1;a>=0&&(e[a]!==r||(e.splice(a,1),!n));a--);},Yc=function(e){e.splice(0,e.length)},wn=function(e,r,n){return n&&(r=Ev(n,r)),e[r]},xa=function(e,r,n,a){n&&(r=Ev(n,r)),e[r]=a},QI=function(){function t(){qc(this,t),this._obj={}}return Hc(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return void 0!==this._obj[r]}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),kn=typeof Map<"u"?Map:QI,eA=function(){function t(e){if(qc(this,t),this._obj=Object.create(null),this.size=0,null!=e){var r;r=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Hc(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;1!==n[r]&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;1===n[r]&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return 1===this._obj[r]}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),Hi="undefined"!==(typeof Set>"u"?"undefined":Wt(Set))?Set:eA,Ol=function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==r&&$c(e)){var a=r.group;if(null==a&&(a=r.data&&null!=r.data.source&&null!=r.data.target?"edges":"nodes"),"nodes"===a||"edges"===a){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:void 0===r.selectable||!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:void 0===r.grabbable||!!r.grabbable,pannable:void 0===r.pannable?"edges"===a:!!r.pannable,active:!1,classes:new Hi,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,l=e.pan(),u=e.zoom();i.position={x:(o.x-l.x)/u,y:(o.y-l.y)/u}}var c=[];Et(r.classes)?c=r.classes:ze(r.classes)&&(c=r.classes.split(/\s+/));for(var d=0,p=c.length;d<p;d++){var v=c[d];!v||""===v||i.classes.add(v)}this.createEmitter();var m=r.style||r.css;m&&(Ct("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m)),(void 0===n||n)&&this.restore()}else Ft("An element must be of type `nodes` or `edges`; you specified `"+a+"`")}else Ft("An element must have a core reference and parameters set")},zv=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var o;dt(n)&&!Yr(n)&&(n=(o=n).roots||o.root,a=o.visit,i=o.directed),i=2!==arguments.length||Lt(a)?i:a,a=Lt(a)?a:function(){};for(var b,l=this._private.cy,u=n=ze(n)?this.filter(n):n,c=[],d=[],p={},v={},m={},y=0,g=this.byGroup(),_=g.nodes,w=g.edges,E=0;E<u.length;E++){var R=u[E],P=R.id();R.isNode()&&(c.unshift(R),e.bfs&&(m[P]=!0,d.push(R)),v[P]=0)}var k=function(){var j=e.bfs?c.shift():c.pop(),z=j.id();if(e.dfs){if(m[z])return"continue";m[z]=!0,d.push(j)}var le,ee=v[z],Z=p[z],Y=null!=Z?Z.source():null,Q=null!=Z?Z.target():null,oe=null==Z?void 0:j.same(Y)?Q[0]:Y[0];if(!0===(le=a(j,Z,oe,y++,ee)))return b=j,"break";if(!1===le)return"break";for(var ne=j.connectedEdges().filter(function(fe){return(!i||fe.source().same(j))&&w.has(fe)}),ve=0;ve<ne.length;ve++){var ye=ne[ve],xe=ye.connectedNodes().filter(function(fe){return!fe.same(j)&&_.has(fe)}),me=xe.id();0!==xe.length&&!m[me]&&(c.push(xe=xe[0]),e.bfs&&(m[me]=!0,d.push(xe)),p[me]=ye,v[me]=v[z]+1)}};e:for(;0!==c.length;)switch(k()){case"continue":continue;case"break":break e}for(var D=l.collection(),I=0;I<d.length;I++){var F=d[I],M=p[F.id()];null!=M&&D.push(M),D.push(F)}return{path:l.collection(D),found:l.collection(b)}}},Vo={breadthFirstSearch:zv({bfs:!0}),depthFirstSearch:zv({dfs:!0})};Vo.bfs=Vo.breadthFirstSearch,Vo.dfs=Vo.depthFirstSearch;var tA=ir({root:null,weight:function(e){return 1},directed:!1}),rA={dijkstra:function(e){if(!dt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var Z,Y,n=tA(e),a=n.root,o=n.directed,l=this,u=n.weight,c=ze(a)?this.filter(a)[0]:a[0],d={},p={},v={},m=this.byGroup(),y=m.nodes,b=m.edges;b.unmergeBy(function(ee){return ee.isLoop()});for(var g=function(Z){return d[Z.id()]},w=new zo(function(ee,Z){return g(ee)-g(Z)}),E=0;E<y.length;E++){var R=y[E];d[R.id()]=R.same(c)?0:1/0,w.push(R)}for(var P=function(Z,Y){for(var le,Q=(o?Z.edgesTo(Y):Z.edgesWith(Y)).intersect(b),oe=1/0,ne=0;ne<Q.length;ne++){var ve=Q[ne],ye=u(ve);(ye<oe||!le)&&(oe=ye,le=ve)}return{edge:le,dist:oe}};w.size()>0;){var k=w.pop(),T=g(k),D=k.id();if(v[D]=T,T!==1/0)for(var I=k.neighborhood().intersect(y),F=0;F<I.length;F++){var M=I[F],G=M.id(),j=P(k,M),z=T+j.dist;z<g(M)&&(Y=z,d[(Z=M).id()]=Y,w.updateItem(Z),p[G]={node:k,edge:j.edge})}}return{distanceTo:function(Z){var Y=ze(Z)?y.filter(Z)[0]:Z[0];return v[Y.id()]},pathTo:function(Z){var Y=ze(Z)?y.filter(Z)[0]:Z[0],Q=[],oe=Y,le=oe.id();if(Y.length>0)for(Q.unshift(Y);p[le];){var ne=p[le];Q.unshift(ne.edge),Q.unshift(ne.node),le=(oe=ne.node).id()}return l.spawn(Q)}}}},nA={kruskal:function(e){e=e||function(E){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),l=n,u=function(R){for(var P=0;P<o.length;P++)if(o[P].has(R))return P},c=0;c<i;c++)o[c]=this.spawn(n[c]);for(var d=a.sort(function(E,R){return e(E)-e(R)}),p=0;p<d.length;p++){var v=d[p],m=v.source()[0],y=v.target()[0],b=u(m),g=u(y),_=o[b],w=o[g];b!==g&&(l.merge(v),_.merge(w),o.splice(g,1))}return l}},aA=ir({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),iA={aStar:function(e){var r=this.cy(),n=aA(e),a=n.root,i=n.goal,o=n.heuristic,l=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var E,R,c=a.id(),d=i.id(),p={},v={},m={},y=new zo(function(le,ne){return v[le.id()]-v[ne.id()]}),b=new Hi,g={},_={},w=function(ne,ve){y.push(ne),b.add(ve)};w(a,c),p[c]=0,v[c]=o(a);for(var T=0;y.size()>0;){if(R=(E=y.pop()).id(),b.delete(R),T++,R===d){for(var D=[],I=i,F=d,M=_[F];D.unshift(I),null!=M&&D.unshift(M),null!=(I=g[F]);)M=_[F=I.id()];return{found:!0,distance:p[R],path:this.spawn(D),steps:T}}m[R]=!0;for(var G=E._private.edges,j=0;j<G.length;j++){var z=G[j];if(this.hasElementWithId(z.id())&&(!l||z.data("source")===R)){var ee=z.source(),Z=z.target(),Y=ee.id()!==R?ee:Z,Q=Y.id();if(this.hasElementWithId(Q)&&!m[Q]){var oe=p[R]+u(z);if(!b.has(Q)){p[Q]=oe,v[Q]=oe+o(Y),w(Y,Q),g[Q]=E,_[Q]=z;continue}oe<p[Q]&&(p[Q]=oe,v[Q]=oe+o(Y),g[Q]=E,_[Q]=z)}}}}return{found:!1,distance:void 0,path:void 0,steps:T}}},oA=ir({weight:function(e){return 1},directed:!1}),sA={floydWarshall:function(e){for(var r=this.cy(),n=oA(e),i=n.directed,o=n.weight,l=this.byGroup(),u=l.nodes,c=l.edges,d=u.length,p=d*d,v=function(ye){return u.indexOf(ye)},m=function(ye){return u[ye]},y=new Array(p),b=0;b<p;b++){var g=b%d;y[b]=(b-g)/d===g?0:1/0}for(var w=new Array(p),E=new Array(p),R=0;R<c.length;R++){var P=c[R],k=P.source()[0],T=P.target()[0];if(k!==T){var D=v(k),I=v(T),F=D*d+I,M=o(P);if(y[F]>M&&(y[F]=M,w[F]=I,E[F]=P),!i){var G=I*d+D;!i&&y[G]>M&&(y[G]=M,w[G]=D,E[G]=P)}}}for(var j=0;j<d;j++)for(var z=0;z<d;z++)for(var ee=z*d+j,Z=0;Z<d;Z++){var Y=z*d+Z,Q=j*d+Z;y[ee]+y[Q]<y[Y]&&(y[Y]=y[ee]+y[Q],w[Y]=w[ee])}var le=function(ye){return v(function(ye){return(ze(ye)?r.filter(ye):ye)[0]}(ye))};return{distance:function(ye,xe){var me=le(ye),fe=le(xe);return y[me*d+fe]},path:function(ye,xe){var me=le(ye),fe=le(xe),J=m(me);if(me===fe)return J.collection();if(null==w[me*d+fe])return r.collection();var O=r.collection();for(O.merge(J);me!==fe;)O.merge(E[me*d+(me=w[me*d+fe])]),O.merge(m(me));return O}}}},lA=ir({weight:function(e){return 1},directed:!1,root:null}),uA={bellmanFord:function(e){var r=this,n=lA(e),i=n.directed,o=n.root,l=n.weight,u=this,c=this.cy(),d=this.byGroup(),p=d.edges,v=d.nodes,m=v.length,y=new kn,b=!1;o=c.collection(o)[0],p.unmergeBy(function(fe){return fe.isLoop()});for(var _=p.length,w=function(J){var O=y.get(J.id());return O||(O={},y.set(J.id(),O)),O},E=function(J){return(ze(J)?c.$(J):J)[0]},k=0;k<m;k++){var T=v[k],D=w(T);D.dist=T.same(o)?0:1/0,D.pred=null,D.edge=null}for(var I=!1,F=function(J,O,S,L,q,V){var H=L.dist+V;H<q.dist&&!S.same(L.edge)&&(q.dist=H,q.pred=J,q.edge=S,I=!0)},M=1;M<m;M++){I=!1;for(var G=0;G<_;G++){var j=p[G],z=j.source(),ee=j.target(),Z=l(j),Y=w(z),Q=w(ee);F(z,0,j,Y,Q,Z),i||F(ee,0,j,Q,Y,Z)}if(!I)break}if(I)for(var oe=0;oe<_;oe++){var le=p[oe],ne=le.source(),ve=le.target(),ye=l(le),xe=w(ne).dist,me=w(ve).dist;if(xe+ye<me||!i&&me+ye<xe){Ct("Graph contains a negative weight cycle for Bellman-Ford"),b=!0;break}}return{distanceTo:function(J){return w(E(J)).dist},pathTo:function(J){for(var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,L=[],q=E(J);;){if(null==q)return r.spawn();var V=w(q),H=V.edge,K=V.pred;if(L.unshift(q[0]),q.same(O)&&L.length>0)break;null!=H&&L.unshift(H),q=K}return u.spawn(L)},hasNegativeWeightCycle:b,negativeWeightCycles:[]}}},cA=Math.sqrt(2),fA=function(e,r,n){0===n.length&&Ft("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],l=r[a[1]],u=r[a[2]],c=n,d=c.length-1;d>=0;d--){var p=c[d],v=p[1],m=p[2];(r[v]===l&&r[m]===u||r[v]===u&&r[m]===l)&&c.splice(d,1)}for(var y=0;y<c.length;y++){var b=c[y];b[1]===u?(c[y]=b.slice(),c[y][1]=l):b[2]===u&&(c[y]=b.slice(),c[y][2]=l)}for(var g=0;g<r.length;g++)r[g]===u&&(r[g]=l);return c},Kc=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=fA(i,e,r),n--}return r},dA={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(Q){return Q.isLoop()});var i=n.length,o=a.length,l=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/cA);if(!(i<2)){for(var c=[],d=0;d<o;d++){var p=a[d];c.push([d,n.indexOf(p.source()),n.indexOf(p.target())])}for(var v=1/0,m=[],y=new Array(i),b=new Array(i),g=new Array(i),_=function(oe,le){for(var ne=0;ne<i;ne++)le[ne]=oe[ne]},w=0;w<=l;w++){for(var E=0;E<i;E++)b[E]=E;var R=Kc(b,c.slice(),i,u),P=R.slice();_(b,g);var k=Kc(b,R,u,2),T=Kc(g,P,u,2);k.length<=T.length&&k.length<v?(v=k.length,m=k,_(b,y)):T.length<=k.length&&T.length<v&&(v=T.length,m=T,_(g,y))}for(var D=this.spawn(m.map(function(Q){return a[Q[0]]})),I=this.spawn(),F=this.spawn(),M=y[0],G=0;G<y.length;G++){var z=n[G];y[G]===M?I.merge(z):F.merge(z)}var ee=function(oe){var le=e.spawn();return oe.forEach(function(ne){le.merge(ne),ne.connectedEdges().forEach(function(ve){e.contains(ve)&&!D.contains(ve)&&le.merge(ve)})}),le},Z=[ee(I),ee(F)];return{cut:D,components:Z,partition1:I,partition2:F}}Ft("At least 2 nodes are required for Karger-Stein algorithm")}},El=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Fv=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},$i=function(e){return{x:e[0],y:e[1]}},Cl=function(e,r){return Math.atan2(r,e)-Math.PI/2},Xc=Math.log2||function(t){return Math.log(t)/Math.log(2)},qv=function(e){return e>0?1:e<0?-1:0},ni=function(e,r){return Math.sqrt(ai(e,r))},ai=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},bA=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},Jt=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},Ui=function(e,r,n,a){return{x:Jt(e.x,r.x,n.x,a),y:Jt(e.y,r.y,n.y,a)}},Wo=function(e,r,n){return Math.max(e,Math.min(n,r))},Mr=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},OA=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},EA=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Rl=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Zc=function(e){var n,a,i,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===r.length)n=a=i=o=r[0];else if(2===r.length)n=i=r[0],o=a=r[1];else if(4===r.length){var l=Xn(r,4);n=l[0],a=l[1],i=l[2],o=l[3]}return e.x1-=o,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Hv=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Qc=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},ji=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},CA=function(e,r){return ji(e,r.x,r.y)},$v=function(e,r){return ji(e,r.x1,r.y1)&&ji(e,r.x2,r.y2)},Uv=function(e,r,n,a,i,o,l){var p,u=Xo(i,o),c=i/2,d=o/2,m=a-d-l;if((p=wa(e,r,n,a,n-c+u-l,m,n+c-u+l,m,!1)).length>0)return p;var g=n+c+l;if((p=wa(e,r,n,a,g,a-d+u-l,g,a+d-u+l,!1)).length>0)return p;var P=a+d+l;if((p=wa(e,r,n,a,n-c+u-l,P,n+c-u+l,P,!1)).length>0)return p;var G,D=n-c-l;if((p=wa(e,r,n,a,D,a-d+u-l,D,a+d-u+l,!1)).length>0)return p;var j=n-c+u,z=a-d+u;if((G=Yo(e,r,n,a,j,z,u+l)).length>0&&G[0]<=j&&G[1]<=z)return[G[0],G[1]];var ee=n+c-u,Z=a-d+u;if((G=Yo(e,r,n,a,ee,Z,u+l)).length>0&&G[0]>=ee&&G[1]<=Z)return[G[0],G[1]];var Y=n+c-u,Q=a+d-u;if((G=Yo(e,r,n,a,Y,Q,u+l)).length>0&&G[0]>=Y&&G[1]>=Q)return[G[0],G[1]];var oe=n-c+u,le=a+d-u;return(G=Yo(e,r,n,a,oe,le,u+l)).length>0&&G[0]<=oe&&G[1]>=le?[G[0],G[1]]:[]},RA=function(e,r,n,a,i,o,l){var u=l,c=Math.min(n,i),d=Math.max(n,i),p=Math.min(a,o),v=Math.max(a,o);return c-u<=e&&e<=d+u&&p-u<=r&&r<=v+u},TA=function(e,r,n,a,i,o,l,u,c){var d_x1=Math.min(n,l,i)-c,d_x2=Math.max(n,l,i)+c,d_y1=Math.min(a,u,o)-c,d_y2=Math.max(a,u,o)+c;return!(e<d_x1||e>d_x2||r<d_y1||r>d_y2)},AA=function(e,r,n,a,i,o,l,u){var m=[];!function(e,r,n,a,i){var l,u,c,d,p,v,m,y;0===e&&(e=1e-5),c=-27*(a/=e)+(r/=e)*(9*(n/=e)-r*r*2),l=(u=(3*n-r*r)/9)*u*u+(c/=54)*c,i[1]=0,m=r/3,l>0?(p=(p=c+Math.sqrt(l))<0?-Math.pow(-p,1/3):Math.pow(p,1/3),v=(v=c-Math.sqrt(l))<0?-Math.pow(-v,1/3):Math.pow(v,1/3),i[0]=-m+p+v,i[4]=i[2]=-(m+=(p+v)/2),m=Math.sqrt(3)*(-v+p)/2,i[3]=m,i[5]=-m):(i[5]=i[3]=0,0===l?(y=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=2*y-m,i[4]=i[2]=-(y+m)):(d=(u=-u)*u*u,d=Math.acos(c/Math.sqrt(d)),y=2*Math.sqrt(u),i[0]=-m+y*Math.cos(d/3),i[2]=-m+y*Math.cos((d+2*Math.PI)/3),i[4]=-m+y*Math.cos((d+4*Math.PI)/3)))}(1*n*n-4*n*i+2*n*l+4*i*i-4*i*l+l*l+a*a-4*a*o+2*a*u+4*o*o-4*o*u+u*u,9*n*i-3*n*n-3*n*l-6*i*i+3*i*l+9*a*o-3*a*a-3*a*u-6*o*o+3*o*u,3*n*n-6*n*i+n*l-n*e+2*i*i+2*i*e-l*e+3*a*a-6*a*o+a*u-a*r+2*o*o+2*o*r-u*r,1*n*i-n*n+n*e-i*e+a*o-a*a+a*r-o*r,m);for(var b=[],g=0;g<6;g+=2)Math.abs(m[g+1])<1e-7&&m[g]>=0&&m[g]<=1&&b.push(m[g]);b.push(1),b.push(0);for(var w,E,R,_=-1,P=0;P<b.length;P++)w=Math.pow(1-b[P],2)*n+2*(1-b[P])*b[P]*i+b[P]*b[P]*l,E=Math.pow(1-b[P],2)*a+2*(1-b[P])*b[P]*o+b[P]*b[P]*u,R=Math.pow(w-e,2)+Math.pow(E-r,2),_>=0?R<_&&(_=R):_=R;return _},BA=function(e,r,n,a,i,o){var l=[e-n,r-a],u=[i-n,o-a],c=u[0]*u[0]+u[1]*u[1],d=l[0]*l[0]+l[1]*l[1],p=l[0]*u[0]+l[1]*u[1],v=p*p/c;return p<0?d:v>c?(e-i)*(e-i)+(r-o)*(r-o):d-v},zr=function(e,r,n){for(var a,i,o,l,c=0,d=0;d<n.length/2;d++)if(i=n[2*d+1],d+1<n.length/2?(o=n[2*(d+1)],l=n[2*(d+1)+1]):(o=n[2*(d+1-n.length/2)],l=n[2*(d+1-n.length/2)+1]),(a=n[2*d])!=e||o!=e){if(!(a>=e&&e>=o||a<=e&&e<=o))continue;(e-a)/(o-a)*(l-i)+i>r&&c++}return c%2!=0},Qn=function(e,r,n,a,i,o,l,u,c){var p,b,d=new Array(n.length);null!=u[0]?(p=Math.atan(u[1]/u[0]),u[0]<0?p+=Math.PI/2:p=-p-Math.PI/2):p=u;for(var v=Math.cos(-p),m=Math.sin(-p),y=0;y<d.length/2;y++)d[2*y]=o/2*(n[2*y]*v-n[2*y+1]*m),d[2*y+1]=l/2*(n[2*y+1]*v+n[2*y]*m),d[2*y]+=a,d[2*y+1]+=i;if(c>0){var g=Vv(d,-c);b=jv(g)}else b=d;return zr(e,r,b)},jv=function(e){for(var l,u,c,d,r=new Array(e.length/2),p=0;p<e.length/4;p++){p<e.length/4-1?(l=e[4*(p+1)],u=e[4*(p+1)+1],c=e[4*(p+1)+2],d=e[4*(p+1)+3]):(l=e[0],u=e[1],c=e[2],d=e[3]);var v=wa(e[4*p],e[4*p+1],e[4*p+2],e[4*p+3],l,u,c,d,!0);r[2*p]=v[0],r[2*p+1]=v[1]}return r},Vv=function(e,r){for(var a,i,o,l,n=new Array(2*e.length),u=0;u<e.length/2;u++){u<e.length/2-1?(o=e[2*(u+1)],l=e[2*(u+1)+1]):(o=e[0],l=e[1]);var c=l-(i=e[2*u+1]),d=-(o-(a=e[2*u])),p=Math.sqrt(c*c+d*d),v=c/p,m=d/p;n[4*u]=a+v*r,n[4*u+1]=i+m*r,n[4*u+2]=o+v*r,n[4*u+3]=l+m*r}return n},ii=function(e,r,n,a,i,o,l){return e-=i,r-=o,(e/=n/2+l)*e+(r/=a/2+l)*r<=1},Yo=function(e,r,n,a,i,o,l){var u=[n-e,a-r],c=[e-i,r-o],d=u[0]*u[0]+u[1]*u[1],p=2*(c[0]*u[0]+c[1]*u[1]),m=p*p-4*d*(c[0]*c[0]+c[1]*c[1]-l*l);if(m<0)return[];var y=(-p+Math.sqrt(m))/(2*d),b=(-p-Math.sqrt(m))/(2*d),g=Math.min(y,b),_=Math.max(y,b),w=[];if(g>=0&&g<=1&&w.push(g),_>=0&&_<=1&&w.push(_),0===w.length)return[];var E=w[0]*u[0]+e,R=w[0]*u[1]+r;return w.length>1?w[0]==w[1]?[E,R]:[E,R,w[1]*u[0]+e,w[1]*u[1]+r]:[E,R]},Jc=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},wa=function(e,r,n,a,i,o,l,u,c){var d=e-i,p=n-e,v=l-i,m=r-o,y=a-r,b=u-o,g=v*m-b*d,_=p*m-y*d,w=b*p-v*y;if(0!==w){var E=g/w,R=_/w,k=-.001;return k<=E&&E<=1.001&&k<=R&&R<=1.001||c?[e+E*p,r+E*y]:[]}return 0===g||0===_?Jc(e,n,l)===l?[l,u]:Jc(e,n,i)===i?[i,o]:Jc(i,l,n)===n?[n,a]:[]:[]},Ko=function(e,r,n,a,i,o,l,u){var d,m,c=[],p=new Array(n.length),v=!0;if(null==o&&(v=!1),v){for(var y=0;y<p.length/2;y++)p[2*y]=n[2*y]*o+a,p[2*y+1]=n[2*y+1]*l+i;if(u>0){var b=Vv(p,-u);m=jv(b)}else m=p}else m=n;for(var w,E,R=0;R<m.length/2;R++)R<m.length/2-1?(w=m[2*(R+1)],E=m[2*(R+1)+1]):(w=m[0],E=m[1]),0!==(d=wa(e,r,a,i,m[2*R],m[2*R+1],w,E)).length&&c.push(d[0],d[1]);return c},Tl=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},Tr=function(e,r){var n=ef(e,r);return Wv(n)},Wv=function(e){for(var r,n,a=e.length/2,i=1/0,o=1/0,l=-1/0,u=-1/0,c=0;c<a;c++)r=e[2*c],n=e[2*c+1],i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),u=Math.max(u,n);for(var d=2/(l-i),p=2/(u-o),v=0;v<a;v++)r=e[2*v]=e[2*v]*d,n=e[2*v+1]=e[2*v+1]*p,i=Math.min(i,r),l=Math.max(l,r),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var m=0;m<a;m++)n=e[2*m+1]=e[2*m+1]+(-1-o);return e},ef=function(e,r){var n=1/e*2*Math.PI,a=e%2==0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var o,i=new Array(2*e),l=0;l<e;l++)o=l*n+a,i[2*l]=Math.cos(o),i[2*l+1]=Math.sin(-o);return i},Xo=function(e,r){return Math.min(e/4,r/4,8)},tf=function(e,r){return Math.min(e/10,r/10,8)},rf=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},LA=ir({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),GA={pageRank:function(e){for(var r=LA(e),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,l=this._private.cy,u=this.byGroup(),c=u.nodes,d=u.edges,p=c.length,m=d.length,y=new Array(p*p),b=new Array(p),g=(1-n)/p,_=0;_<p;_++){for(var w=0;w<p;w++)y[_*p+w]=0;b[_]=0}for(var R=0;R<m;R++){var P=d[R],k=P.data("source"),T=P.data("target");if(k!==T){var D=c.indexOfId(k),I=c.indexOfId(T),F=o(P);y[I*p+D]+=F,b[D]+=F}}for(var G=1/p+g,j=0;j<p;j++)if(0===b[j])for(var z=0;z<p;z++)y[z*p+j]=G;else for(var Z=0;Z<p;Z++){var Y=Z*p+j;y[Y]=y[Y]/b[j]+g}for(var le,Q=new Array(p),oe=new Array(p),ne=0;ne<p;ne++)Q[ne]=1;for(var ve=0;ve<i;ve++){for(var ye=0;ye<p;ye++)oe[ye]=0;for(var xe=0;xe<p;xe++)for(var me=0;me<p;me++)oe[xe]+=y[xe*p+me]*Q[me];bA(oe),le=Q,Q=oe,oe=le;for(var J=0,O=0;O<p;O++){var S=le[O]-Q[O];J+=S*S}if(J<a)break}return{rank:function(V){return V=l.collection(V)[0],Q[c.indexOf(V)]}}}},Kv=ir({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Vi={degreeCentralityNormalized:function(e){e=Kv(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var d={},p={},v=0,m=0,y=0;y<a;y++){var b=n[y],g=b.id();e.root=b;var _=this.degreeCentrality(e);v<_.indegree&&(v=_.indegree),m<_.outdegree&&(m=_.outdegree),d[g]=_.indegree,p[g]=_.outdegree}return{indegree:function(E){return 0==v?0:(ze(E)&&(E=r.filter(E)),d[E.id()]/v)},outdegree:function(E){return 0===m?0:(ze(E)&&(E=r.filter(E)),p[E.id()]/m)}}}for(var i={},o=0,l=0;l<a;l++){var u=n[l];e.root=u;var c=this.degreeCentrality(e);o<c.degree&&(o=c.degree),i[u.id()]=c.degree}return{degree:function(E){return 0===o?0:(ze(E)&&(E=r.filter(E)),i[E.id()]/o)}}},degreeCentrality:function(e){e=Kv(e);var r=this.cy(),n=this,i=e.root,o=e.weight,l=e.directed,u=e.alpha;if(i=r.collection(i)[0],l){for(var m=i.connectedEdges(),y=m.filter(function(k){return k.target().same(i)&&n.has(k)}),b=m.filter(function(k){return k.source().same(i)&&n.has(k)}),g=y.length,_=b.length,w=0,E=0,R=0;R<y.length;R++)w+=o(y[R]);for(var P=0;P<b.length;P++)E+=o(b[P]);return{indegree:Math.pow(g,1-u)*Math.pow(w,u),outdegree:Math.pow(_,1-u)*Math.pow(E,u)}}for(var c=i.connectedEdges().intersection(n),d=c.length,p=0,v=0;v<c.length;v++)p+=o(c[v]);return{degree:Math.pow(d,1-u)*Math.pow(p,u)}}};Vi.dc=Vi.degreeCentrality,Vi.dcn=Vi.degreeCentralityNormalised=Vi.degreeCentralityNormalized;var Xv=ir({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Wi={closenessCentralityNormalized:function(e){for(var r=Xv(e),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),l={},u=0,c=this.nodes(),d=this.floydWarshall({weight:a,directed:i}),p=0;p<c.length;p++){for(var v=0,m=c[p],y=0;y<c.length;y++)if(p!==y){var b=d.distance(m,c[y]);v+=n?1/b:b}n||(v=1/v),u<v&&(u=v),l[m.id()]=v}return{closeness:function(_){return 0==u?0:(_=ze(_)?o.filter(_)[0].id():_.id(),l[_]/u)}}},closenessCentrality:function(e){var r=Xv(e),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var l=this.dijkstra({root:n,weight:a,directed:i}),u=0,c=this.nodes(),d=0;d<c.length;d++){var p=c[d];if(!p.same(n)){var v=l.distanceTo(p);u+=o?1/v:v}}return o?u:1/u}};Wi.cc=Wi.closenessCentrality,Wi.ccn=Wi.closenessCentralityNormalised=Wi.closenessCentralityNormalized;var MA=ir({weight:null,directed:!1}),nf={betweennessCentrality:function(e){for(var r=MA(e),n=r.directed,a=r.weight,i=null!=a,o=this.cy(),l=this.nodes(),u={},c={},d=0,p={set:function(E,R){c[E]=R,R>d&&(d=R)},get:function(E){return c[E]}},v=0;v<l.length;v++){var m=l[v],y=m.id();u[y]=n?m.outgoers().nodes():m.openNeighborhood().nodes(),p.set(y,0)}for(var b=function(E){for(var R=l[E].id(),P=[],k={},T={},D={},I=new zo(function(me,fe){return D[me]-D[fe]}),F=0;F<l.length;F++){var M=l[F].id();k[M]=[],T[M]=0,D[M]=1/0}for(T[R]=1,D[R]=0,I.push(R);!I.empty();){var G=I.pop();if(P.push(G),i)for(var j=0;j<u[G].length;j++){var Z,z=u[G][j],ee=o.getElementById(G);Z=ee.edgesTo(z).length>0?ee.edgesTo(z)[0]:z.edgesTo(ee)[0];var Y=a(Z);z=z.id(),D[z]>D[G]+Y&&(D[z]=D[G]+Y,I.nodes.indexOf(z)<0?I.push(z):I.updateItem(z),T[z]=0,k[z]=[]),D[z]==D[G]+Y&&(T[z]=T[z]+T[G],k[z].push(G))}else for(var Q=0;Q<u[G].length;Q++){var oe=u[G][Q].id();D[oe]==1/0&&(I.push(oe),D[oe]=D[G]+1),D[oe]==D[G]+1&&(T[oe]=T[oe]+T[G],k[oe].push(G))}}for(var le={},ne=0;ne<l.length;ne++)le[l[ne].id()]=0;for(;P.length>0;){for(var ve=P.pop(),ye=0;ye<k[ve].length;ye++){var xe=k[ve][ye];le[xe]=le[xe]+T[xe]/T[ve]*(1+le[ve])}ve!=l[E].id()&&p.set(ve,p.get(ve)+le[ve])}},g=0;g<l.length;g++)b(g);var _={betweenness:function(E){var R=o.collection(E).id();return p.get(R)},betweennessNormalized:function(E){if(0==d)return 0;var R=o.collection(E).id();return p.get(R)/d}};return _.betweennessNormalised=_.betweennessNormalized,_}};nf.bc=nf.betweennessCentrality;var zA=ir({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),qA=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},Zv=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var o=0;o<r;o++)e[o*r+a]=e[o*r+a]/n}},$A=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var l=0;l<n;l++)for(var u=0;u<n;u++)a[i*n+u]+=e[i*n+l]*r[l*n+u]}return a},UA=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=$A(e,a,r);return e},jA=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return Zv(a,r),a},VA=function(e,r,n,a){for(var i=0;i<n;i++)if(Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a)!=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a))return!1;return!0},YA=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},Qv=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=function(e){return zA(e)}(e),o={},l=0;l<r.length;l++)o[r[l].id()]=l;for(var p,u=r.length,c=u*u,d=new Array(c),v=0;v<c;v++)d[v]=0;for(var m=0;m<n.length;m++){var y=n[m],b=o[y.source().id()],g=o[y.target().id()],_=qA(y,i.attributes);d[b*u+g]+=_,d[g*u+b]+=_}(function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n})(d,u,i.multFactor),Zv(d,u);for(var w=!0,E=0;w&&E<i.maxIterations;)w=!1,p=UA(d,u,i.expandFactor),d=jA(p,u,i.inflateFactor),VA(d,p,c,4)||(w=!0),E++;var R=function(e,r,n,a){for(var i=[],o=0;o<r;o++){for(var l=[],u=0;u<r;u++)Math.round(1e3*e[o*r+u])/1e3>0&&l.push(n[u]);0!==l.length&&i.push(a.collection(l))}return i}(d,u,r,a);return R=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&YA(e[r],e[n])&&e.splice(n,1);return e}(R),R},XA={markovClustering:Qv,mcl:Qv},ZA=function(e){return e},Jv=function(e,r){return Math.abs(r-e)},eg=function(e,r,n){return e+Jv(r,n)},tg=function(e,r,n){return e+Math.pow(n-r,2)},QA=function(e){return Math.sqrt(e)},JA=function(e,r,n){return Math.max(e,Jv(r,n))},Zo=function(e,r,n,a,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ZA,l=a,d=0;d<e;d++)l=i(l,r(d),n(d));return o(l)},Yi={euclidean:function(e,r,n){return e>=2?Zo(e,r,n,0,tg,QA):Zo(e,r,n,0,eg)},squaredEuclidean:function(e,r,n){return Zo(e,r,n,0,tg)},manhattan:function(e,r,n){return Zo(e,r,n,0,eg)},max:function(e,r,n){return Zo(e,r,n,-1/0,JA)}};function Sl(t,e,r,n,a,i){var o;return o=Lt(t)?t:Yi[t]||Yi.euclidean,0===e&&Lt(t)?o(a,i):o(e,r,n,a,i)}Yi["squared-euclidean"]=Yi.squaredEuclidean,Yi.squaredeuclidean=Yi.squaredEuclidean;var eB=ir({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),af=function(e){return eB(e)},Il=function(e,r,n,a,i){var l="kMedoids"!==i?function(p){return n[p]}:function(p){return a[p](n)};return Sl(e,a.length,l,function(v){return a[v](r)},n,r)},of=function(e,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),l=new Array(r),u=null,c=0;c<a;c++)i[c]=e.min(n[c]).value,o[c]=e.max(n[c]).value;for(var d=0;d<r;d++){u=[];for(var p=0;p<a;p++)u[p]=Math.random()*(o[p]-i[p])+i[p];l[d]=u}return l},rg=function(e,r,n,a,i){for(var o=1/0,l=0,u=0;u<r.length;u++){var c=Il(n,e,r[u],a,i);c<o&&(o=c,l=u)}return l},ng=function(e,r,n){for(var a=[],i=null,o=0;o<r.length;o++)n[(i=r[o]).id()]===e&&a.push(i);return a},tB=function(e,r,n){return Math.abs(r-e)<=n},rB=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++)if(Math.abs(e[a][i]-r[a][i])>n)return!1;return!0},nB=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},ag=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];nB(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},ig=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=Il("manhattan",r[i],e,n,"kMedoids");return a},oB=function(e,r,n,a,i){for(var o,l,u=0;u<r.length;u++)for(var c=0;c<e.length;c++)a[u][c]=Math.pow(n[u][c],i.m);for(var d=0;d<e.length;d++)for(var p=0;p<i.attributes.length;p++){o=0,l=0;for(var v=0;v<r.length;v++)o+=a[v][d]*i.attributes[p](r[v]),l+=a[v][d];e[d][p]=o/l}},sB=function(e,r,n,a,i){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var l,u,c,d=2/(i.m-1),p=0;p<n.length;p++)for(var v=0;v<a.length;v++){l=0;for(var m=0;m<n.length;m++)u=Il(i.distance,a[v],n[p],i.attributes,"cmeans"),c=Il(i.distance,a[v],n[m],i.attributes,"cmeans"),l+=Math.pow(u/c,d);e[v][p]=1/l}},og=function(e){var i,o,l,u,c,r=this.cy(),n=this.nodes(),a=af(e);u=new Array(n.length);for(var d=0;d<n.length;d++)u[d]=new Array(a.k);l=new Array(n.length);for(var p=0;p<n.length;p++)l[p]=new Array(a.k);for(var v=0;v<n.length;v++){for(var m=0,y=0;y<a.k;y++)l[v][y]=Math.random(),m+=l[v][y];for(var b=0;b<a.k;b++)l[v][b]=l[v][b]/m}o=new Array(a.k);for(var g=0;g<a.k;g++)o[g]=new Array(a.attributes.length);c=new Array(n.length);for(var _=0;_<n.length;_++)c[_]=new Array(a.k);for(var w=!0,E=0;w&&E<a.maxIterations;)w=!1,oB(o,n,l,c,a),sB(l,u,o,n,a),rB(l,u,a.sensitivityThreshold)||(w=!0),E++;return i=function(e,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var l,u,c=0;c<r.length;c++){l=-1/0,u=-1;for(var d=0;d<r[0].length;d++)r[c][d]>l&&(l=r[c][d],u=d);i[u].push(e[c])}for(var p=0;p<i.length;p++)i[p]=a.collection(i[p]);return i}(n,l,a,r),{clusters:i,degreeOfMembership:l}},uB={kMeans:function(e){var u,r=this.cy(),n=this.nodes(),a=null,i=af(e),o=new Array(i.k),l={};u=i.testMode?"number"==typeof i.testCentroids?of(n,i.k,i.attributes):"object"===Wt(i.testCentroids)?i.testCentroids:of(n,i.k,i.attributes):of(n,i.k,i.attributes);for(var c=!0,d=0;c&&d<i.maxIterations;){for(var p=0;p<n.length;p++)l[(a=n[p]).id()]=rg(a,u,i.distance,i.attributes,"kMeans");c=!1;for(var v=0;v<i.k;v++){var m=ng(v,n,l);if(0!==m.length){for(var y=i.attributes.length,b=u[v],g=new Array(y),_=new Array(y),w=0;w<y;w++){_[w]=0;for(var E=0;E<m.length;E++)_[w]+=i.attributes[w](a=m[E]);g[w]=_[w]/m.length,tB(g[w],b[w],i.sensitivityThreshold)||(c=!0)}u[v]=g,o[v]=r.collection(m)}}d++}return o},kMedoids:function(e){var l,c,r=this.cy(),n=this.nodes(),a=null,i=af(e),o=new Array(i.k),u={},d=new Array(i.k);i.testMode?"number"==typeof i.testCentroids||(l="object"===Wt(i.testCentroids)?i.testCentroids:ag(n,i.k)):l=ag(n,i.k);for(var p=!0,v=0;p&&v<i.maxIterations;){for(var m=0;m<n.length;m++)u[(a=n[m]).id()]=rg(a,l,i.distance,i.attributes,"kMedoids");p=!1;for(var y=0;y<l.length;y++){var b=ng(y,n,u);if(0!==b.length){d[y]=ig(l[y],b,i.attributes);for(var g=0;g<b.length;g++)(c=ig(b[g],b,i.attributes))<d[y]&&(d[y]=c,l[y]=b[g],p=!0);o[y]=r.collection(b)}}v++}return o},fuzzyCMeans:og,fcm:og},cB=ir({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),fB={single:"min",complete:"max"},sg=function(e,r,n,a,i){for(var u,o=0,l=1/0,c=i.attributes,d=function(I,F){return Sl(i.distance,c.length,function(M){return c[M](I)},function(M){return c[M](F)},I,F)},p=0;p<e.length;p++){var v=e[p].key,m=n[v][a[v]];m<l&&(o=v,l=m)}if("threshold"===i.mode&&l>=i.threshold||"dendrogram"===i.mode&&1===e.length)return!1;var g,y=r[o],b=r[a[o]];g="dendrogram"===i.mode?{left:y,right:b,key:y.key}:{value:y.value.concat(b.value),key:y.key},e[y.index]=g,e.splice(b.index,1),r[y.key]=g;for(var _=0;_<e.length;_++){var w=e[_];y.key===w.key?u=1/0:"min"===i.linkage?(u=n[y.key][w.key],n[y.key][w.key]>n[b.key][w.key]&&(u=n[b.key][w.key])):"max"===i.linkage?(u=n[y.key][w.key],n[y.key][w.key]<n[b.key][w.key]&&(u=n[b.key][w.key])):u="mean"===i.linkage?(n[y.key][w.key]*y.size+n[b.key][w.key]*b.size)/(y.size+b.size):"dendrogram"===i.mode?d(w.value,y.value):d(w.value[0],y.value[0]),n[y.key][w.key]=n[w.key][y.key]=u}for(var E=0;E<e.length;E++){var R=e[E].key;if(a[R]===y.key||a[R]===b.key){for(var P=R,k=0;k<e.length;k++){var T=e[k].key;n[R][T]<n[R][P]&&(P=T)}a[R]=P}e[E].index=E}return y.key=b.key=y.index=b.index=null,!0},Al=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},pB=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),a=t(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}return e.value?e.value.id():void 0},hB=function t(e,r,n){if(!e)return[];var a=[],i=[],o=[];return 0===r?(e.left&&Al(e.left,a),e.right&&Al(e.right,i),o=a.concat(i),[n.collection(o)]):1===r?e.value?[n.collection(e.value)]:(e.left&&Al(e.left,a),e.right&&Al(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=t(e.left,r-1,n)),e.right&&(i=t(e.right,r-1,n)),a.concat(i))},lg=function(e){for(var r=this.cy(),n=this.nodes(),a=function(e){var r=cB(e),n=fB[r.linkage];return null!=n&&(r.linkage=n),r}(e),i=a.attributes,o=function(E,R){return Sl(a.distance,i.length,function(P){return i[P](E)},function(P){return i[P](R)},E,R)},l=[],u=[],c=[],d=[],p=0;p<n.length;p++){var v={value:"dendrogram"===a.mode?n[p]:[n[p]],key:p,index:p};l[p]=v,d[p]=v,u[p]=[],c[p]=0}for(var m=0;m<l.length;m++)for(var y=0;y<=m;y++){var b;b="dendrogram"===a.mode?m===y?1/0:o(l[m].value,l[y].value):m===y?1/0:o(l[m].value[0],l[y].value[0]),u[m][y]=b,u[y][m]=b,b<u[m][c[m]]&&(c[m]=y)}for(var g=sg(l,d,u,c,a);g;)g=sg(l,d,u,c,a);var _;return"dendrogram"===a.mode?(_=hB(l[0],a.dendrogramDepth,r),a.addDendrogram&&pB(l[0],r)):(_=new Array(l.length),l.forEach(function(w,E){w.key=w.index=null,_[E]=r.collection(w.value)})),_},vB={hierarchicalClustering:lg,hca:lg},gB=ir({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),yB=function(e,r,n,a){var i=function(l,u){return a[u](l)};return-Sl(e,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},ug=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var o=-1,l=-1/0,u=0;u<n.length;u++){var c=n[u];r[i*e+c]>l&&(o=c,l=r[i*e+c])}o>0&&a.push(o)}for(var d=0;d<n.length;d++)a[n[d]]=n[d];return a},cg=function(e){for(var r=this.cy(),n=this.nodes(),a=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Ft("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||Te(n)||Ft("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),gB(e)}(e),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var l,u,c,d,p,v,I;u=(l=n.length)*l,c=new Array(u);for(var m=0;m<u;m++)c[m]=-1/0;for(var y=0;y<l;y++)for(var b=0;b<l;b++)y!==b&&(c[y*l+b]=yB(a.distance,n[y],n[b],a.attributes));d=function(e,r){var n;return n="median"===r?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r)):e=e.slice(r,n);for(var l=0,u=e.length-1;u>=0;u--)o?isFinite(e[u])||(e[u]=-1/0,l++):e.splice(u,1);i&&e.sort(function(v,m){return v-m});var d=e.length,p=Math.floor(d/2);return d%2!=0?e[p+1+l]:(e[p-1+l]+e[p+l])/2}(e):"mean"===r?function(e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,a=0,i=0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o<n;o++){var l=e[o];isFinite(l)&&(a+=l,i++)}return a/i}(e):"min"===r?function(e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,a=1/0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.min(o,a))}return a}(e):"max"===r?function(e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,a=-1/0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.max(o,a))}return a}(e):r,n}(c,a.preference);for(var g=0;g<l;g++)c[g*l+g]=d;p=new Array(u);for(var _=0;_<u;_++)p[_]=0;v=new Array(u);for(var w=0;w<u;w++)v[w]=0;for(var E=new Array(l),R=new Array(l),P=new Array(l),k=0;k<l;k++)E[k]=0,R[k]=0,P[k]=0;for(var T=new Array(l*a.minIterations),D=0;D<T.length;D++)T[D]=0;for(I=0;I<a.maxIterations;I++){for(var F=0;F<l;F++){for(var M=-1/0,G=-1/0,j=-1,z=0,ee=0;ee<l;ee++)E[ee]=p[F*l+ee],(z=v[F*l+ee]+c[F*l+ee])>=M?(G=M,M=z,j=ee):z>G&&(G=z);for(var Z=0;Z<l;Z++)p[F*l+Z]=(1-a.damping)*(c[F*l+Z]-M)+a.damping*E[Z];p[F*l+j]=(1-a.damping)*(c[F*l+j]-G)+a.damping*E[j]}for(var Y=0;Y<l;Y++){for(var Q=0,oe=0;oe<l;oe++)E[oe]=v[oe*l+Y],R[oe]=Math.max(0,p[oe*l+Y]),Q+=R[oe];Q-=R[Y],R[Y]=p[Y*l+Y],Q+=R[Y];for(var le=0;le<l;le++)v[le*l+Y]=(1-a.damping)*Math.min(0,Q-R[le])+a.damping*E[le];v[Y*l+Y]=(1-a.damping)*(Q-R[Y])+a.damping*E[Y]}for(var ne=0,ve=0;ve<l;ve++){var ye=v[ve*l+ve]+p[ve*l+ve]>0?1:0;T[I%a.minIterations*l+ve]=ye,ne+=ye}if(ne>0&&(I>=a.minIterations-1||I==a.maxIterations-1)){for(var xe=0,me=0;me<l;me++){P[me]=0;for(var fe=0;fe<a.minIterations;fe++)P[me]+=T[fe*l+me];(0===P[me]||P[me]===a.minIterations)&&xe++}if(xe===l)break}}for(var J=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a}(l,p,v),O=function(e,r,n){for(var a=ug(e,r,n),i=0;i<n.length;i++){for(var o=[],l=0;l<a.length;l++)a[l]===n[i]&&o.push(l);for(var u=-1,c=-1/0,d=0;d<o.length;d++){for(var p=0,v=0;v<o.length;v++)p+=r[o[v]*e+o[d]];p>c&&(u=d,c=p)}n[i]=o[u]}return ug(e,r,n)}(l,c,J),S={},L=0;L<J.length;L++)S[J[L]]=[];for(var q=0;q<n.length;q++){var H=O[i[n[q].id()]];null!=H&&S[H].push(n[q])}for(var K=new Array(J.length),pe=0;pe<J.length;pe++)K[pe]=r.collection(S[J[pe]]);return K},wB={affinityPropagation:cg,ap:cg},OB=ir({root:void 0,directed:!1}),EB={hierholzer:function(e){if(!dt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var u,c,d,n=OB(e),a=n.root,i=n.directed,o=this,l=!1;a&&(d=ze(a)?this.filter(a)[0].id():a[0].id());var p={},v={};o.forEach(i?function(w){var E=w.id();if(w.isNode()){var R=w.indegree(!0),P=w.outdegree(!0),k=R-P,T=P-R;1==k?u?l=!0:u=E:1==T?c?l=!0:c=E:(T>1||k>1)&&(l=!0),p[E]=[],w.outgoers().forEach(function(D){D.isEdge()&&p[E].push(D.id())})}else v[E]=[void 0,w.target().id()]}:function(w){var E=w.id();w.isNode()?(w.degree(!0)%2&&(u?c?l=!0:c=E:u=E),p[E]=[],w.connectedEdges().forEach(function(P){return p[E].push(P.id())})):v[E]=[w.source().id(),w.target().id()]});var m={found:!1,trail:void 0};if(l)return m;if(c&&u)if(i){if(d&&c!=d)return m;d=c}else{if(d&&c!=d&&u!=d)return m;d||(d=c)}else d||(d=o[0].id());var y=function(E){for(var k,T,D,R=E,P=[E];p[R].length;)k=p[R].shift(),T=v[k][0],R!=(D=v[k][1])?(p[D]=p[D].filter(function(I){return I!=k}),R=D):!i&&R!=T&&(p[T]=p[T].filter(function(I){return I!=k}),R=T),P.unshift(k),P.unshift(R);return P},b=[],g=[];for(g=y(d);1!=g.length;)0==p[g[0]].length?(b.unshift(o.getElementById(g.shift())),b.unshift(o.getElementById(g.shift()))):g=y(g.shift()).concat(g);for(var _ in b.unshift(o.getElementById(g.shift())),p)if(p[_].length)return m;return m.found=!0,m.trail=this.spawn(b,!0),m}},Bl=function(){var e=this,r={},n=0,a=0,i=[],o=[],l={},c=function p(v,m,y){v===y&&(a+=1),r[m]={id:n,low:n++,cutVertex:!1};var g,_,w,E,b=e.getElementById(m).connectedEdges().intersection(e);0===b.size()?i.push(e.spawn(e.getElementById(m))):b.forEach(function(R){g=R.source().id(),_=R.target().id(),(w=g===m?_:g)!==y&&(E=R.id(),l[E]||(l[E]=!0,o.push({x:m,y:w,edge:R})),w in r?r[m].low=Math.min(r[m].low,r[w].id):(p(v,w,m),r[m].low=Math.min(r[m].low,r[w].low),r[m].id<=r[w].low&&(r[m].cutVertex=!0,function(v,m){for(var y=o.length-1,b=[],g=e.spawn();o[y].x!=v||o[y].y!=m;)b.push(o.pop().edge),y--;b.push(o.pop().edge),b.forEach(function(_){var w=_.connectedNodes().intersection(e);g.merge(_),w.forEach(function(E){var R=E.id(),P=E.connectedEdges().intersection(e);g.merge(E),g.merge(r[R].cutVertex?P.filter(function(k){return k.isLoop()}):P)})}),i.push(g)}(m,w))))})};e.forEach(function(p){if(p.isNode()){var v=p.id();v in r||(a=0,c(v,v),r[v].cutVertex=a>1)}});var d=Object.keys(r).filter(function(p){return r[p].cutVertex}).map(function(p){return e.getElementById(p)});return{cut:e.spawn(d),components:i}},Pl=function(){var e=this,r={},n=0,a=[],i=[],o=e.spawn(e),l=function u(c){if(i.push(c),r[c]={index:n,low:n++,explored:!1},e.getElementById(c).connectedEdges().intersection(e).forEach(function(b){var g=b.target().id();g!==c&&(g in r||u(g),r[g].explored||(r[c].low=Math.min(r[c].low,r[g].low)))}),r[c].index===r[c].low){for(var p=e.spawn();;){var v=i.pop();if(p.merge(e.getElementById(v)),r[v].low=r[c].index,r[v].explored=!0,v===c)break}var m=p.edgesWith(p),y=p.merge(m);a.push(y),o=o.difference(y)}};return e.forEach(function(u){if(u.isNode()){var c=u.id();c in r||l(c)}}),{cut:o,components:a}},fg={};[Vo,rA,nA,iA,sA,uA,dA,GA,Vi,Wi,nf,XA,uB,vB,wB,EB,{hopcroftTarjanBiconnected:Bl,htbc:Bl,htb:Bl,hopcroftTarjanBiconnectedComponents:Bl},{tarjanStronglyConnected:Pl,tsc:Pl,tscc:Pl,tarjanStronglyConnectedComponents:Pl}].forEach(function(t){Ue(fg,t)});var Jn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Jn.prototype={fulfill:function(e){return vg(this,1,"fulfillValue",e)},reject:function(e){return vg(this,2,"rejectReason",e)},then:function(e,r){var n=this,a=new Jn;return n.onFulfilled.push(yg(e,a,"fulfill")),n.onRejected.push(yg(r,a,"reject")),gg(n),a.proxy}};var vg=function(e,r,n,a){return 0===e.state&&(e.state=r,e[n]=a,gg(e)),e},gg=function(e){1===e.state?mg(e,"onFulfilled",e.fulfillValue):2===e.state&&mg(e,"onRejected",e.rejectReason)},mg=function(e,r,n){if(0!==e[r].length){var a=e[r];e[r]=[];var i=function(){for(var l=0;l<a.length;l++)a[l](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},yg=function(e,r,n){return function(a){if("function"!=typeof e)r[n].call(r,a);else{var i;try{i=e(a)}catch(o){return void r.reject(o)}TB(r,i)}}},TB=function t(e,r){if(e!==r&&e.proxy!==r){var n;if("object"===Wt(r)&&null!==r||"function"==typeof r)try{n=r.then}catch(i){return void e.reject(i)}if("function"!=typeof n)e.fulfill(r);else{var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):t(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};Jn.all=function(t){return new Jn(function(e,r){for(var n=new Array(t.length),a=0,i=function(u,c){n[u]=c,++a===t.length&&e(n)},o=0;o<t.length;o++)!function(l){var u=t[l];null!=u&&null!=u.then?u.then(function(p){i(l,p)},function(p){r(p)}):i(l,u)}(o)})},Jn.resolve=function(t){return new Jn(function(e,r){e(t)})},Jn.reject=function(t){return new Jn(function(e,r){r(t)})};var Ki=typeof Promise<"u"?Promise:Jn,sf=function(e,r,n){var a=$c(e),i=!a,o=this._private=Ue({duration:1e3},r,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Lt(o.complete)&&o.completes.push(o.complete),i){var l=e.position();o.startPosition=o.startPosition||{x:l.x,y:l.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(a){var u=e.pan();o.startPan={x:u.x,y:u.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},oi=sf.prototype;Ue(oi,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var n=e.target._private.animation;(e.queue?n.queue:n.current).push(this),Yr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return void 0===e?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return void 0===e?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(c,d){var p=e[c];null!=p&&(e[c]=e[d],e[d]=p)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],o=i.name,l=e.startStyle[o];e.startStyle[o]=i,e.style[a]=l}return r&&this.play(),this},promise:function(e){var n,r=this._private;return n="frame"===e?r.frames:r.completes,new Ki(function(a,i){n.push(function(){a()})})}}),oi.complete=oi.completed,oi.run=oi.play,oi.running=oi.playing;var IB={data:function(e){return e=Ue({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}},e),function(a,i){var o=e,l=this,u=void 0!==l.length,c=u?l:[l],d=u?l[0]:l;if(ze(a)){var p;if(o.allowGetting&&void 0===i)return d&&(o.beforeGet(d),p=d._private[o.field][a]),p;if(o.allowSetting&&void 0!==i&&!o.immutableKeys[a]){var m=bv({},a,i);o.beforeSet(l,m);for(var y=0,b=c.length;y<b;y++){var g=c[y];o.canSet(g)&&(g._private[o.field][a]=i)}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}}else if(o.allowSetting&&dt(a)){var w,E,_=a,R=Object.keys(_);o.beforeSet(l,_);for(var P=0;P<R.length;P++)if(E=_[w=R[P]],!o.immutableKeys[w])for(var T=0;T<c.length;T++){var D=c[T];o.canSet(D)&&(D._private[o.field][w]=E)}o.updateStyle&&l.updateStyle(),o.onSet(l),o.settingTriggersEvent&&l[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Lt(a))l.on(o.bindingEvent,a);else if(o.allowGetting&&void 0===a){var F;return d&&(o.beforeGet(d),F=d._private[o.field]),F}return l}},removeData:function(e){return e=Ue({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(a){var i=e,o=this,u=void 0!==o.length?o:[o];if(ze(a)){for(var c=a.split(/\s+/),d=c.length,p=0;p<d;p++){var v=c[p];if(!ya(v)&&!i.immutableKeys[v])for(var y=0,b=u.length;y<b;y++)u[y]._private[i.field][v]=void 0}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(void 0===a){for(var g=0,_=u.length;g<_;g++)for(var w=u[g]._private[i.field],E=Object.keys(w),R=0;R<E.length;R++){var P=E[R];!i.immutableKeys[P]&&(w[P]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},AB={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new Ki(function(l,u){var d=o.concat([function(m){i.off.apply(i,p),l(m)}]),p=d.concat([]);i.on.apply(i,d)})}}},yt={};[{animated:function(){return function(){var r=this,a=void 0!==r.length?r:[r];if(!(this._private.cy||this).styleEnabled())return!1;var o=a[0];return o?o._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var r=this,a=void 0!==r.length?r:[r];if(!(this._private.cy||this).styleEnabled())return this;for(var o=0;o<a.length;o++)a[o]._private.animation.queue=[];return this}},delay:function(){return function(r,n){return(this._private.cy||this).styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){return(this._private.cy||this).styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=void 0!==a.length,o=i?a:[a],l=this._private.cy||this,u=!i,c=!u;if(!l.styleEnabled())return this;var d=l.style();if(r=Ue({},r,n),0===Object.keys(r).length)return new sf(o[0],r);switch(void 0===r.duration&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200}if(c&&(r.style=d.getPropsList(r.style||r.css),r.css=void 0),c&&null!=r.renderedPosition){var v=r.renderedPosition,m=l.pan(),y=l.zoom();r.position=Fv(v,y,m)}if(u&&null!=r.panBy){var b=r.panBy,g=l.pan();r.pan={x:g.x+b.x,y:g.y+b.y}}var _=r.center||r.centre;if(u&&null!=_){var w=l.getCenterPan(_.eles,r.zoom);null!=w&&(r.pan=w)}if(u&&null!=r.fit){var E=r.fit,R=l.getFitViewport(E.eles||E.boundingBox,E.padding);null!=R&&(r.pan=R.pan,r.zoom=R.zoom)}if(u&&dt(r.zoom)){var P=l.getZoomedViewport(r.zoom);null!=P?(P.zoomed&&(r.zoom=P.zoom),P.panned&&(r.pan=P.pan)):r.zoom=null}return new sf(o[0],r)}},animate:function(){return function(r,n){var a=this,o=void 0!==a.length?a:[a];if(!(this._private.cy||this).styleEnabled())return this;n&&(r=Ue({},r,n));for(var u=0;u<o.length;u++){var c=o[u],d=c.animated()&&(void 0===r.queue||r.queue);c.animation(r,d?{queue:!0}:void 0).play()}return this}},stop:function(){return function(r,n){var a=this,o=void 0!==a.length?a:[a],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var d=o[u]._private,p=d.animation.current,v=0;v<p.length;v++)n&&(p[v]._private.duration=0);r&&(d.animation.queue=[]),n||(d.animation.current=[])}return l.notify("draw"),this}}},IB,AB].forEach(function(t){Ue(yt,t)});var BB={animate:yt.animate(),animation:yt.animation(),animated:yt.animated(),clearQueue:yt.clearQueue(),delay:yt.delay(),delayAnimation:yt.delayAnimation(),stop:yt.stop()},kl={classes:function(e){var r=this;if(void 0===e){var n=[];return r[0]._private.classes.forEach(function(y){return n.push(y)}),n}Et(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new Hi(e),o=0;o<r.length;o++){for(var l=r[o],u=l._private,c=u.classes,d=!1,p=0;p<e.length;p++)if(!c.has(e[p])){d=!0;break}d||(d=c.size!==e.length),d&&(u.classes=i,a.push(l))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return null!=r&&r._private.classes.has(e)},toggleClass:function(e,r){Et(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=void 0===r,i=[],o=0,l=n.length;o<l;o++)for(var u=n[o],c=u._private.classes,d=!1,p=0;p<e.length;p++){var v=e[p],m=c.has(v),y=!1;r||a&&!m?(c.add(v),y=!0):(!r||a&&m)&&(c.delete(v),y=!0),!d&&y&&(i.push(u),d=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(null==r)r=250;else if(0===r)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};kl.className=kl.classNames=kl.classes;var pt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Kt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};pt.variable="(?:[\\w-]|(?:\\\\"+pt.metaChar+"))+",pt.value=pt.string+"|"+pt.number,pt.className=pt.variable,pt.id=pt.variable,function(){var t,e,r;for(t=pt.comparatorOp.split("|"),r=0;r<t.length;r++)pt.comparatorOp+="|@"+(e=t[r]);for(t=pt.comparatorOp.split("|"),r=0;r<t.length;r++)!((e=t[r]).indexOf("!")>=0)&&"="!==e&&(pt.comparatorOp+="|\\!"+e)}();var lf=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return function(e,r){return-1*Rv(e,r)}(t.selector,e.selector)}),PB=function(){for(var e,t={},r=0;r<lf.length;r++)t[(e=lf[r]).selector]=e.matches;return t}(),DB="("+lf.map(function(t){return t.selector}).join("|")+")",Xi=function(e){return e.replace(new RegExp("\\\\("+pt.metaChar+")","g"),function(r,n){return n})},Oa=function(e,r,n){e[e.length-1]=n},uf=[{name:"group",query:!0,regex:"("+pt.group+")",populate:function(e,r,n){var i=Xn(n,1)[0];r.checks.push({type:0,value:"*"===i?i:i+"s"})}},{name:"state",query:!0,regex:DB,populate:function(e,r,n){var a=Xn(n,1);r.checks.push({type:7,value:a[0]})}},{name:"id",query:!0,regex:"\\#("+pt.id+")",populate:function(e,r,n){var a=Xn(n,1);r.checks.push({type:8,value:Xi(a[0])})}},{name:"className",query:!0,regex:"\\.("+pt.className+")",populate:function(e,r,n){var a=Xn(n,1);r.checks.push({type:9,value:Xi(a[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+pt.variable+")\\s*\\]",populate:function(e,r,n){var a=Xn(n,1);r.checks.push({type:4,field:Xi(a[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+pt.variable+")\\s*("+pt.comparatorOp+")\\s*("+pt.value+")\\s*\\]",populate:function(e,r,n){var a=Xn(n,3),i=a[0],o=a[1],l=a[2];l=null!=new RegExp("^"+pt.string+"$").exec(l)?l.substring(1,l.length-1):parseFloat(l),r.checks.push({type:3,field:Xi(i),operator:o,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+pt.boolOp+")\\s*("+pt.variable+")\\s*\\]",populate:function(e,r,n){var a=Xn(n,2),i=a[0];r.checks.push({type:5,field:Xi(a[1]),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+pt.meta+")\\s*("+pt.comparatorOp+")\\s*("+pt.number+")\\s*\\]\\]",populate:function(e,r,n){var a=Xn(n,3),o=a[1],l=a[2];r.checks.push({type:6,field:Xi(a[0]),operator:o,value:parseFloat(l)})}},{name:"nextQuery",separator:!0,regex:pt.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,o=e[e.length-1];return null!=n&&(o.subject=n,e.currentSubject=null),o.edgeCount=a,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:pt.directedEdge,populate:function(e,r){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:11,source:r,target:i}),Oa(e,0,n),e.edgeCount++,i}var o={checks:[]},u={checks:[]};return o.checks.push({type:12,source:r,target:u}),Oa(e,0,o),e.edgeCount++,u}},{name:"undirectedEdge",separator:!0,regex:pt.undirectedEdge,populate:function(e,r){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:10,nodes:[r,i]}),Oa(e,0,n),e.edgeCount++,i}var o={checks:[]},u={checks:[]};return o.checks.push({type:14,node:r,neighbor:u}),Oa(e,0,o),u}},{name:"child",separator:!0,regex:pt.child,populate:function(e,r){if(null==e.currentSubject){var n={checks:[]},a={checks:[]};return n.checks.push({type:15,parent:e[e.length-1],child:a}),Oa(e,0,n),e.compoundCount++,a}if(e.currentSubject===r){var o={checks:[]},u={checks:[]},c={checks:[]},d={checks:[]},p={checks:[]};return o.checks.push({type:19,left:e[e.length-1],right:u,subject:c}),c.checks=r.checks,r.checks=[{type:20}],p.checks.push({type:20}),u.checks.push({type:17,parent:p,child:d}),Oa(e,0,o),e.currentSubject=c,e.compoundCount++,d}var v={checks:[]},m={checks:[]},y=[{type:17,parent:v,child:m}];return v.checks=r.checks,r.checks=y,e.compoundCount++,m}},{name:"descendant",separator:!0,regex:pt.descendant,populate:function(e,r){if(null==e.currentSubject){var n={checks:[]},a={checks:[]};return n.checks.push({type:16,ancestor:e[e.length-1],descendant:a}),Oa(e,0,n),e.compoundCount++,a}if(e.currentSubject===r){var o={checks:[]},u={checks:[]},c={checks:[]},d={checks:[]},p={checks:[]};return o.checks.push({type:19,left:e[e.length-1],right:u,subject:c}),c.checks=r.checks,r.checks=[{type:20}],p.checks.push({type:20}),u.checks.push({type:18,ancestor:p,descendant:d}),Oa(e,0,o),e.currentSubject=c,e.compoundCount++,d}var v={checks:[]},m={checks:[]},y=[{type:18,ancestor:v,descendant:m}];return v.checks=r.checks,r.checks=y,e.compoundCount++,m}},{name:"subject",modifier:!0,regex:pt.subject,populate:function(e,r){if(null!=e.currentSubject&&e.currentSubject!==r)return Ct("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var a=e[e.length-1].checks[0],i=null==a?null:a.type;11===i?a.type=13:10===i&&(a.type=14,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];uf.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var NB=function(e){for(var r,n,a,i=0;i<uf.length;i++){var o=uf[i],l=o.name,u=e.match(o.regexObj);if(null!=u){n=u,r=o,a=l,e=e.substring(u[0].length);break}}return{expr:r,match:n,name:a,remaining:e}},zB={parse:function(e){var r=this,n=r.inputText=e,a=r[0]={checks:[]};for(r.length=1,n=function(e){var r=e.match(/^\s+/);return r&&(e=e.substring(r[0].length)),e}(n);;){var i=NB(n);if(null==i.expr)return Ct("The selector `"+e+"`is invalid"),!1;var o=i.match.slice(1),l=i.expr.populate(r,a,o);if(!1===l)return!1;if(null!=l&&(a=l),(n=i.remaining).match(/^\s*$/))break}var u=r[r.length-1];null!=r.currentSubject&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var c=0;c<r.length;c++){var d=r[c];if(d.compoundCount>0&&d.edgeCount>0)return Ct("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(d.edgeCount>1)return Ct("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===d.edgeCount&&Ct("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(d){return d??""},r=function(d){return ze(d)?'"'+d+'"':e(d)},n=function(d){return" "+d+" "},i=function(d,p){return d.checks.reduce(function(v,m,y){return v+(p===d&&0===y?"$":"")+function(d,p){var m=d.value;switch(d.type){case 0:var y=e(m);return y.substring(0,y.length-1);case 3:return"["+d.field+n(e(d.operator))+r(m)+"]";case 5:var w=d.field;return"["+e(d.operator)+w+"]";case 4:return"["+d.field+"]";case 6:return"[["+d.field+n(e(d.operator))+r(m)+"]]";case 7:return m;case 8:return"#"+m;case 9:return"."+m;case 17:case 15:return i(d.parent,p)+n(">")+i(d.child,p);case 18:case 16:return i(d.ancestor,p)+" "+i(d.descendant,p);case 19:var k=i(d.left,p),T=i(d.subject,p),D=i(d.right,p);return k+(k.length>0?" ":"")+T+D;case 20:return""}}(m,p)},"")},o="",l=0;l<this.length;l++){var u=this[l];o+=i(u,u.subject),this.length>1&&l<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},bg=function(e,r,n){var a,u,c,i=ze(e),o=Te(e),l=ze(n),d=!1,p=!1,v=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),p=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),d=!0),(i||l||d)&&(u=i||o?""+e:"",c=""+n),d&&(e=u=u.toLowerCase(),n=c=c.toLowerCase()),r){case"*=":a=u.indexOf(c)>=0;break;case"$=":a=u.indexOf(c,u.length-c.length)>=0;break;case"^=":a=0===u.indexOf(c);break;case"=":a=e===n;break;case">":v=!0,a=e>n;break;case">=":v=!0,a=e>=n;break;case"<":v=!0,a=e<n;break;case"<=":v=!0,a=e<=n;break;default:a=!1}return p&&(null!=e||!v)&&(a=!a),a},cf=function(e,r){return e.data(r)},qt=[],Pt=function(e,r){return e.checks.every(function(n){return qt[n.type](n,r)})};qt[0]=function(t,e){var r=t.value;return"*"===r||r===e.group()},qt[7]=function(t,e){return function(e,r){return PB[e](r)}(t.value,e)},qt[8]=function(t,e){var r=t.value;return e.id()===r},qt[9]=function(t,e){return e.hasClass(t.value)},qt[6]=function(t,e){var n=t.operator,a=t.value;return bg(function(e,r){return e[r]()}(e,t.field),n,a)},qt[3]=function(t,e){var n=t.operator,a=t.value;return bg(cf(e,t.field),n,a)},qt[5]=function(t,e){var n=t.operator;return function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(cf(e,t.field),n)},qt[4]=function(t,e){return function(e){return void 0!==e}(cf(e,t.field))},qt[10]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return Pt(r,a)&&Pt(n,i)||Pt(n,a)&&Pt(r,i)},qt[14]=function(t,e){return Pt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Pt(t.neighbor,r)})},qt[11]=function(t,e){return Pt(t.source,e.source())&&Pt(t.target,e.target())},qt[12]=function(t,e){return Pt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Pt(t.target,r)})},qt[13]=function(t,e){return Pt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Pt(t.source,r)})},qt[15]=function(t,e){return Pt(t.child,e)&&Pt(t.parent,e.parent())},qt[17]=function(t,e){return Pt(t.parent,e)&&e.children().some(function(r){return Pt(t.child,r)})},qt[16]=function(t,e){return Pt(t.descendant,e)&&e.ancestors().some(function(r){return Pt(t.ancestor,r)})},qt[18]=function(t,e){return Pt(t.ancestor,e)&&e.descendants().some(function(r){return Pt(t.descendant,r)})},qt[19]=function(t,e){return Pt(t.subject,e)&&Pt(t.left,e)&&Pt(t.right,e)},qt[20]=function(){return!0},qt[1]=function(t,e){return t.value.has(e)},qt[2]=function(t,e){return(0,t.value)(e)};var jB={matches:function(e){for(var n=0;n<this.length;n++)if(Pt(this[n],e))return!0;return!1},filter:function(e){var r=this;if(1===r.length&&1===r[0].checks.length&&8===r[0].checks[0].type)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++)if(Pt(r[o],i))return!0;return!1};return null==r.text()&&(n=function(){return!0}),e.filter(n)}},Ea=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||ze(e)&&e.match(/^\s*$/)||(Yr(e)?this.addQuery({checks:[{type:1,value:e.collection()}]}):Lt(e)?this.addQuery({checks:[{type:2,value:e}]}):ze(e)?this.parse(e)||(this.invalid=!0):Ft("A selector must be created from a string; found "))},Ca=Ea.prototype;[zB,jB].forEach(function(t){return Ue(Ca,t)}),Ca.text=function(){return this.inputText},Ca.size=function(){return this.length},Ca.eq=function(t){return this[t]},Ca.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},Ca.addQuery=function(t){this[this.length++]=t},Ca.selector=Ca.toString;var Ra={allAre:function(e){var r=new Ea(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new Ea(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++)if(r?e.apply(r,[this[n],n,this]):e(this[n],n,this))return!0;return!1},every:function(e,r){for(var n=0;n<this.length;n++)if(!(r?e.apply(r,[this[n],n,this]):e(this[n],n,this)))return!1;return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length;return r===e.length&&(1===r?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())}))},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Ra.allAreNeighbours=Ra.allAreNeighbors,Ra.has=Ra.contains,Ra.equal=Ra.equals=Ra.same;var Qo,wg,cn=function(e,r){return function(a,i,o,l){var d,u=a,c=this;if(null==u?d="":Yr(u)&&1===u.length&&(d=u.id()),1===c.length&&d){var p=c[0]._private,v=p.traversalCache=p.traversalCache||{},m=v[r]=v[r]||[],y=ri(d);return m[y]||(m[y]=e.call(c,a,i,o,l))}return e.call(c,a,i,o,l)}},Zi={parent:function(e){var r=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var o=this[a]._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++)r.push(n[a]);n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n].parents();r=(r=r||i).intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:cn(function(t){for(var e=[],r=0;r<this.length;r++)for(var a=this[r]._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var r=[];return function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}(this.children()),this.spawn(r,!0).filter(e)}};function ff(t,e,r,n){for(var a=[],i=new Hi,l=t.cy().hasCompoundNodes(),u=0;u<t.length;u++){var c=t[u];r?a.push(c):l&&n(a,i,c)}for(;a.length>0;){var d=a.shift();e(d),i.add(d.id()),l&&n(a,i,d)}return t}function _g(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}function xg(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}function VB(t,e,r){xg(t,e,r),_g(t,e,r)}Zi.forEachDown=function(t){return ff(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_g)},Zi.forEachUp=function(t){return ff(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],xg)},Zi.forEachUpAndDown=function(t){return ff(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],VB)},Zi.ancestors=Zi.parents,Qo=wg={data:yt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:yt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:yt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:yt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:yt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:yt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}},Qo.attr=Qo.data,Qo.removeAttr=Qo.removeData;var WB=wg,Dl={};function df(t){return function(e){var r=this;if(void 0===e&&(e=!0),0===r.length);else if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var l=i[o];!e&&l.isLoop()||(n+=t(a,l))}return n}}}function Qi(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var l=a[i][t](r);void 0!==l&&(void 0===n||e(l,n))&&(n=l)}return n}}Ue(Dl,{degree:df(function(t,e){return e.source().same(e.target())?2:1}),indegree:df(function(t,e){return e.target().same(t)?1:0}),outdegree:df(function(t,e){return e.source().same(t)?1:0})}),Ue(Dl,{minDegree:Qi("degree",function(t,e){return t<e}),maxDegree:Qi("degree",function(t,e){return t>e}),minIndegree:Qi("indegree",function(t,e){return t<e}),maxIndegree:Qi("indegree",function(t,e){return t>e}),minOutdegree:Qi("outdegree",function(t,e){return t<e}),maxOutdegree:Qi("outdegree",function(t,e){return t>e})}),Ue(Dl,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var On,Og,Eg=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var o=i._private.position,l={x:null!=r.x?r.x-o.x:0,y:null!=r.y?r.y-o.y:0};i.isParent()&&!(0===l.x&&0===l.y)&&i.children().shift(l,n),i.dirtyBoundingBoxCache()}}},Cg={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Eg(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};On=Og={position:yt.data(Cg),silentPosition:yt.data(Ue({},Cg,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Eg(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(dt(e))r?this.silentPosition(e):this.position(e);else if(Lt(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var l,o=this[i];(l=n(o,i))&&(r?o.silentPosition(l):o.position(l))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(dt(e)?(a={x:Te(e.x)?e.x:0,y:Te(e.y)?e.y:0},n=r):ze(e)&&Te(r)&&((a={x:0,y:0})[e]=r),null!=a){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var l=this[o],u=l.position(),c={x:u.x+a.x,y:u.y+a.y};n?l.silentPosition(c):l.position(c)}i.endBatch()}return this},silentShift:function(e,r){return dt(e)?this.shift(e,!0):ze(e)&&Te(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),l=dt(e)?e:void 0,u=void 0!==l||void 0!==r&&ze(e);if(n&&n.isNode()){if(!u){var p=n.position();return l=El(p,i,o),void 0===e?l:l[e]}for(var c=0;c<this.length;c++){var d=this[c];void 0!==r?d.position(e,(r-o[e])/i):void 0!==l&&d.position(Fv(l,i,o))}}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=dt(e)?e:void 0,o=void 0!==i||void 0!==r&&ze(e),l=a.hasCompoundNodes();if(n&&n.isNode()){if(!o){var y=n.position(),b=l?n.parent():null,g=b&&b.length>0;g&&(b=b[0]);var w=g?b.position():{x:0,y:0};return i={x:y.x-w.x,y:y.y-w.y},void 0===e?i:i[e]}for(var u=0;u<this.length;u++){var c=this[u],d=l?c.parent():null,p=d&&d.length>0;p&&(d=d[0]);var m=p?d.position():{x:0,y:0};void 0!==r?c.position(e,r+m[e]):void 0!==i&&c.position({x:i.x+m.x,y:i.y+m.y})}}else if(!o)return;return this}},On.modelPosition=On.point=On.position,On.modelPositions=On.points=On.positions,On.renderedPoint=On.renderedPosition,On.relativePoint=On.relativePosition;var Ji,Ta,YB=Og;Ji=Ta={},Ta.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,o=e.x2*n+a.x,l=e.y1*n+a.y,u=e.y2*n+a.y;return{x1:i,x2:o,y1:l,y2:u,w:o-i,h:u-l}},Ta.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this):this},Ta.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(o.isParent()){var l=o._private,u=o.children(),c="include"===o.pstyle("compound-sizing-wrt-labels").value,d={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},p=u.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),v=l.position;(0===p.w||0===p.h)&&((p={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue}).x1=v.x-p.w/2,p.x2=v.x+p.w/2,p.y1=v.y-p.h/2,p.y2=v.y+p.h/2);var b=d.width.left.value;"px"===d.width.left.units&&d.width.val>0&&(b=100*b/d.width.val);var g=d.width.right.value;"px"===d.width.right.units&&d.width.val>0&&(g=100*g/d.width.val);var _=d.height.top.value;"px"===d.height.top.units&&d.height.val>0&&(_=100*_/d.height.val);var w=d.height.bottom.value;"px"===d.height.bottom.units&&d.height.val>0&&(w=100*w/d.height.val);var E=m(d.width.val-p.w,b,g),R=E.biasDiff,P=E.biasComplementDiff,k=m(d.height.val-p.h,_,w),T=k.biasDiff,D=k.biasComplementDiff;l.autoPadding=function y(I,F,M,G){if("%"!==M.units)return"px"===M.units?M.pfValue:0;switch(G){case"width":return I>0?M.pfValue*I:0;case"height":return F>0?M.pfValue*F:0;case"average":return I>0&&F>0?M.pfValue*(I+F)/2:0;case"min":return I>0&&F>0?I>F?M.pfValue*F:M.pfValue*I:0;case"max":return I>0&&F>0?I>F?M.pfValue*I:M.pfValue*F:0;default:return 0}}(p.w,p.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),l.autoWidth=Math.max(p.w,d.width.val),v.x=(-R+p.x1+p.x2+P)/2,l.autoHeight=Math.max(p.h,d.height.val),v.y=(-T+p.y1+p.y2+D)/2}function m(I,F,M){var G=0,j=0,z=F+M;return I>0&&z>0&&(G=F/z*I,j=M/z*I),{biasDiff:G,biasComplementDiff:j}}}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var fn=function(e){return e===1/0||e===-1/0?0:e},En=function(e,r,n,a,i){a-r==0||i-n==0||null==r||null==n||null==a||null==i||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},si=function(e,r){return null==r?e:En(e,r.x1,r.y1,r.x2,r.y2)},Jo=function(e,r,n){return wn(e,r,n)},Nl=function(e,r,n){if(!r.cy().headless()){var u,c,a=r._private,i=a.rstyle,o=i.arrowWidth/2;if("none"!==r.pstyle(n+"-arrow-shape").value){"source"===n?(u=i.srcX,c=i.srcY):"target"===n?(u=i.tgtX,c=i.tgtY):(u=i.midX,c=i.midY);var d=a.arrowBounds=a.arrowBounds||{},p=d[n]=d[n]||{};p.x1=u-o,p.y1=c-o,p.x2=u+o,p.y2=c+o,p.w=p.x2-p.x1,p.h=p.y2-p.y1,Rl(p,1),En(e,p.x1,p.y1,p.x2,p.y2)}}},pf=function(e,r,n){if(!r.cy().headless()){var a,i=r._private,o=i.rstyle;if(r.pstyle((a=n?n+"-":"")+"label").strValue){var M,G,j,z,u=r.pstyle("text-halign"),c=r.pstyle("text-valign"),d=Jo(o,"labelWidth",n),p=Jo(o,"labelHeight",n),v=Jo(o,"labelX",n),m=Jo(o,"labelY",n),y=r.pstyle(a+"text-margin-x").pfValue,b=r.pstyle(a+"text-margin-y").pfValue,g=r.isEdge(),_=r.pstyle(a+"text-rotation"),w=r.pstyle("text-outline-width").pfValue,R=r.pstyle("text-border-width").pfValue/2,P=r.pstyle("text-background-padding").pfValue,T=p,D=d,I=D/2,F=T/2;if(g)M=v-I,G=v+I,j=m-F,z=m+F;else{switch(u.value){case"left":M=v-D,G=v;break;case"center":M=v-I,G=v+I;break;case"right":M=v,G=v+D}switch(c.value){case"top":j=m-T,z=m;break;case"center":j=m-F,z=m+F;break;case"bottom":j=m,z=m+T}}M+=y-Math.max(w,R)-P-2,G+=y+Math.max(w,R)+P+2,j+=b-Math.max(w,R)-P-2,z+=b+Math.max(w,R)+P+2;var ee=n||"main",Z=i.labelBounds,Y=Z[ee]=Z[ee]||{};Y.x1=M,Y.y1=j,Y.x2=G,Y.y2=z,Y.w=G-M,Y.h=z-j;var Q=g&&"autorotate"===_.strValue;if(Q||null!=_.pfValue&&0!==_.pfValue){var le=Q?Jo(i.rstyle,"labelAngle",n):_.pfValue,ne=Math.cos(le),ve=Math.sin(le),ye=(M+G)/2,xe=(j+z)/2;if(!g){switch(u.value){case"left":ye=G;break;case"right":ye=M}switch(c.value){case"top":xe=z;break;case"bottom":xe=j}}var me=function(H,K){return{x:(H-=ye)*ne-(K-=xe)*ve+ye,y:H*ve+K*ne+xe}},fe=me(M,j),J=me(M,z),O=me(G,j),S=me(G,z);M=Math.min(fe.x,J.x,O.x,S.x),G=Math.max(fe.x,J.x,O.x,S.x),j=Math.min(fe.y,J.y,O.y,S.y),z=Math.max(fe.y,J.y,O.y,S.y)}var L=ee+"Rot",q=Z[L]=Z[L]||{};q.x1=M,q.y1=j,q.x2=G,q.y2=z,q.w=G-M,q.h=z-j,En(e,M,j,G,z),En(i.labelBounds.all,M,j,G,z)}return e}},Rg=function(e){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),(a+=n(e.includeTargetLabels))+n(e.includeOverlays)},Tg=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),a=function(o){return Math.round(o)};return function(e,r){var n={value:0,done:!1},a=0,i=e.length;return Bv({next:function(){return a<i?n.value=e[a++]:n.done=!0,n}},void 0)}([a(r.x),a(r.y),a(n.x),a(n.y)])}return 0},Sg=function(e,r){var a,n=e._private,i=e.isEdge(),l=(null==r?Ig:Rg(r))===Ig,u=Tg(e),c=n.bbCachePosKey===u,d=r.useCache&&c,p=function(b){return null==b._private.bbCache||b._private.styleDirty};if(!d||p(e)||i&&p(e.source())||p(e.target())?(c||e.recalculateRenderedStyle(d),a=function(e,r){var d,p,v,m,y,b,n=e._private.cy,a=n.styleEnabled(),i=n.headless(),o=Mr(),l=e._private,u=e.isNode(),c=e.isEdge(),g=l.rstyle,_=u&&a?e.pstyle("bounds-expansion").pfValue:[0],w=function(H){return"none"!==H.pstyle("display").value},E=!a||w(e)&&(!c||w(e.source())&&w(e.target()));if(E){var P=0;a&&r.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(P=e.pstyle("overlay-padding").value);var T=0;if(a&&(T=e.pstyle("width").pfValue/2),u&&r.includeNodes){var D=e.position();y=D.x,b=D.y;var F=e.outerWidth()/2,G=e.outerHeight()/2;En(o,d=y-F,v=b-G,p=y+F,m=b+G)}else if(c&&r.includeEdges)if(a&&!i){var j=e.pstyle("curve-style").strValue;if(d=Math.min(g.srcX,g.midX,g.tgtX),p=Math.max(g.srcX,g.midX,g.tgtX),v=Math.min(g.srcY,g.midY,g.tgtY),m=Math.max(g.srcY,g.midY,g.tgtY),En(o,d-=T,v-=T,p+=T,m+=T),"haystack"===j){var z=g.haystackPts;if(z&&2===z.length){if((d=z[0].x)>(p=z[1].x)){var ee=d;d=p,p=ee}if((v=z[0].y)>(m=z[1].y)){var Z=v;v=m,m=Z}En(o,d-T,v-T,p+T,m+T)}}else if("bezier"===j||"unbundled-bezier"===j||"segments"===j||"taxi"===j){var Y;switch(j){case"bezier":case"unbundled-bezier":Y=g.bezierPts;break;case"segments":case"taxi":Y=g.linePts}if(null!=Y)for(var Q=0;Q<Y.length;Q++){var oe=Y[Q];En(o,d=oe.x-T,v=oe.y-T,p=oe.x+T,m=oe.y+T)}}}else{var ne=e.source().position(),ye=e.target().position();if((d=ne.x)>(p=ye.x)){var xe=d;d=p,p=xe}if((v=ne.y)>(m=ye.y)){var me=v;v=m,m=me}En(o,d-=T,v-=T,p+=T,m+=T)}if(a&&r.includeEdges&&c&&(Nl(o,e,"mid-source"),Nl(o,e,"mid-target"),Nl(o,e,"source"),Nl(o,e,"target")),a&&"yes"===e.pstyle("ghost").value){var J=e.pstyle("ghost-offset-x").pfValue,O=e.pstyle("ghost-offset-y").pfValue;En(o,o.x1+J,o.y1+O,o.x2+J,o.y2+O)}var S=l.bodyBounds=l.bodyBounds||{};Hv(S,o),Zc(S,_),Rl(S,1),a&&En(o,(d=o.x1)-P,(v=o.y1)-P,(p=o.x2)+P,(m=o.y2)+P);var L=l.overlayBounds=l.overlayBounds||{};Hv(L,o),Zc(L,_),Rl(L,1);var q=l.labelBounds=l.labelBounds||{};null!=q.all?function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0}(q.all):q.all=Mr(),a&&r.includeLabels&&(r.includeMainLabels&&pf(o,e,null),c&&(r.includeSourceLabels&&pf(o,e,"source"),r.includeTargetLabels&&pf(o,e,"target")))}return o.x1=fn(o.x1),o.y1=fn(o.y1),o.x2=fn(o.x2),o.y2=fn(o.y2),o.w=fn(o.x2-o.x1),o.h=fn(o.y2-o.y1),o.w>0&&o.h>0&&E&&(Zc(o,_),Rl(o,1)),o}(e,es),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!l){var m=e.isNode();a=Mr(),(r.includeNodes&&m||r.includeEdges&&!m)&&si(a,r.includeOverlays?n.overlayBounds:n.bodyBounds),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?si(a,n.labelBounds.all):(r.includeMainLabels&&si(a,n.labelBounds.mainRot),r.includeSourceLabels&&si(a,n.labelBounds.sourceRot),r.includeTargetLabels&&si(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},es={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},Ig=Rg(es),Ag=ir(es);Ta.boundingBox=function(t){var e;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==t&&void 0!==t.useCache&&!0!==t.useCache){e=Mr();var r=Ag(t=t||es),n=this;if(n.cy().styleEnabled())for(var o=0;o<n.length;o++){var l=n[o],u=l._private,c=Tg(l);l.recalculateRenderedStyle(r.useCache&&u.bbCachePosKey===c&&!u.styleDirty)}this.updateCompoundBounds(!t.useCache);for(var v=0;v<n.length;v++)si(e,Sg(n[v],r))}else t=void 0===t?es:Ag(t),e=Sg(this[0],t);return e.x1=fn(e.x1),e.y1=fn(e.y1),e.x2=fn(e.x2),e.y2=fn(e.y2),e.w=fn(e.x2-e.x1),e.h=fn(e.y2-e.y1),e},Ta.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ta.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(c){return c.isParent()}),e=e.not(a)),dt(t)){var i=t;t=function(){return i}}r.startBatch(),e.forEach(function(d,p){return d._private.bbAtOldPos=t(d,p)}).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return e.silentPositions(function(d){return d._private.bbAtOldPos}),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u},Ji.boundingbox=Ji.bb=Ji.boundingBox,Ji.renderedBoundingbox=Ji.renderedBoundingBox;var ts,rs,XB=Ta;ts=rs={};var Bg=function(e){e.uppercaseName=Cv(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Cv(e.outerName),ts[e.name]=function(){var n=this[0],a=n._private;if(n){if(a.cy._private.styleEnabled){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var l=n.pstyle(e.name);return"label"===l.strValue?(n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0):l.pfValue}return 1}},ts["outer"+e.uppercaseName]=function(){var n=this[0];if(n)return n._private.cy._private.styleEnabled?n[e.name]()+n.pstyle("border-width").pfValue+2*n.padding():1},ts["rendered"+e.uppercaseName]=function(){var n=this[0];if(n)return n[e.name]()*this.cy().zoom()},ts["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n)return n[e.outerName]()*this.cy().zoom()}};Bg({name:"width"}),Bg({name:"height"}),rs.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},rs.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},rs.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var ZB=rs,Pg={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},sP=Object.keys(Pg).reduce(function(t,e){var r=Pg[e],n=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(e);return t[e]=function(){return function(e,r){if(e.isEdge())return r(e)}(this,r.get)},t[n]=r.mult?function(){return function(e,r){if(e.isEdge()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(o){return El(o,i,a)})}}(this,r.get)}:function(){return function(e,r){if(e.isEdge()){var n=e.cy();return El(r(e),n.zoom(),n.pan())}}(this,r.get)},t},{}),lP=Ue({},YB,XB,ZB,sP),kg=function(e,r){this.recycle(e,r)};function ns(){return!1}function Ll(){return!0}kg.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ns,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Ll:ns):null!=e&&e.type?r=e:this.type=e,null!=r&&(this.originalEvent=r.originalEvent,this.type=null!=r.type?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ll;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ll;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ll,this.stopPropagation()},isDefaultPrevented:ns,isPropagationStopped:ns,isImmediatePropagationStopped:ns};var Dg=/^([^.]+)(\.(?:[^.]+))?$/,Ng={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Lg=Object.keys(Ng),cP={};function Gl(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cP,e=arguments.length>1?arguments[1]:void 0,r=0;r<Lg.length;r++){var n=Lg[r];this[n]=t[n]||Ng[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Sa=Gl.prototype,Gg=function(e,r,n,a,i,o,l){Lt(a)&&(i=a,a=null),l&&(o=null==o?l:Ue({},o,l));for(var u=Et(n)?n:n.split(/\s+/),c=0;c<u.length;c++){var d=u[c];if(!ya(d)){var p=d.match(Dg);if(p&&!1===r(e,d,p[1],p[2]?p[2]:null,a,i,o))break}}},Mg=function(e,r){return e.addEventFields(e.context,r),new kg(r.type,r)};Sa.on=Sa.addListener=function(t,e,r,n,a){return Gg(this,function(i,o,l,u,c,d,p){Lt(d)&&i.listeners.push({event:o,callback:d,type:l,namespace:u,qualifier:c,conf:p})},t,e,r,n,a),this},Sa.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})},Sa.removeListener=Sa.off=function(t,e,r,n){var a=this;0!==this.emitting&&(this.listeners=function(e){return e.slice()}(this.listeners));for(var i=this.listeners,o=function(c){var d=i[c];Gg(a,function(p,v,m,y,b,g){if((d.type===m||"*"===t)&&(!y&&".*"!==d.namespace||d.namespace===y)&&(!b||p.qualifierCompare(d.qualifier,b))&&(!g||d.callback===g))return i.splice(c,1),!1},t,e,r,n)},l=i.length-1;l>=0;l--)o(l);return this},Sa.removeAllListeners=function(){return this.removeListener("*")},Sa.emit=Sa.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,Et(e)||(e=[e]),function(e,r,n){if(function(e){return"event"===Fo(e)}(n))r(e,n);else if(dt(n))r(e,Mg(e,n));else for(var a=Et(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!ya(o)){var l=o.match(Dg);l&&r(e,Mg(e,{type:l[1],namespace:l[2]?l[2]:null,target:e.context}))}}}(this,function(i,o){null!=r&&(a=(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}]).length);for(var l=function(d){var p=n[d];if(p.type===o.type&&(!p.namespace||p.namespace===o.namespace||".*"===p.namespace)&&i.eventMatches(i.context,p,o)){var v=[o];null!=e&&function(e,r){for(var n=0;n<r.length;n++)e.push(r[n])}(v,e),i.beforeEmit(i.context,p,o),p.conf&&p.conf.one&&(i.listeners=i.listeners.filter(function(b){return b!==p}));var m=i.callbackContext(i.context,p,o),y=p.callback.apply(m,v);i.afterEmit(i.context,p,o),!1===y&&(o.stopPropagation(),o.preventDefault())}},u=0;u<a;u++)l(u);i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,e)},t),this.emitting--,this};var dP={qualifierCompare:function(e,r){return null==e||null==r?null==e&&null==r:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return null==a||e!==n.target&&qo(n.target)&&a.matches(n.target)},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return null!=r.qualifier?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Ml=function(e){return ze(e)?new Ea(e):e},zg={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Gl(dP,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=Ml(r),i=0;i<this.length;i++)this[i].emitter().on(e,a,n);return this},removeListener:function(e,r,n){for(var a=Ml(r),i=0;i<this.length;i++)this[i].emitter().removeListener(e,a,n);return this},removeAllListeners:function(){for(var e=0;e<this.length;e++)this[e].emitter().removeAllListeners();return this},one:function(e,r,n){for(var a=Ml(r),i=0;i<this.length;i++)this[i].emitter().one(e,a,n);return this},once:function(e,r,n){for(var a=Ml(r),i=0;i<this.length;i++)this[i].emitter().on(e,a,n,{once:!0,onceCollection:this})},emit:function(e,r){for(var n=0;n<this.length;n++)this[n].emitter().emit(e,r);return this},emitAndNotify:function(e,r){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,r),this}};yt.eventAliasesOn(zg);var Fg={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(void 0===e)return this;if(ze(e)||Yr(e))return new Ea(e).filter(this);if(Lt(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i];(r?e.apply(r,[o,i,a]):e(o,i,a))&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){ze(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n];e.has(a)||r.push(a)}return r}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(ze(e))return this.filter(e);for(var n=this.spawn(),o=this.length<e.length,l=o?this:e,u=o?e:this,c=0;c<l.length;c++){var d=l[c];u.has(d)&&n.push(d)}return n},xor:function(e){var r=this._private.cy;ze(e)&&(e=r.$(e));var n=this.spawn(),i=e,o=function(u,c){for(var d=0;d<u.length;d++){var p=u[d];c.hasElementWithId(p._private.data.id)||n.push(p)}};return o(this,i),o(i,this),n},diff:function(e){var r=this._private.cy;ze(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),l=e,u=function(d,p,v){for(var m=0;m<d.length;m++){var y=d[m];p.hasElementWithId(y._private.data.id)?i.merge(y):v.push(y)}};return u(this,l,n),u(l,this,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(ze(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i];!this.has(o)&&a.push(o)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&ze(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<e.length;o++){var l=e[o],u=l._private.data.id;if(!i.has(u)){var d=this.length++;this[d]=l,i.set(u,{ele:l,index:d})}}return this},unmergeAt:function(e){var n=this[e].id(),i=this._private.map;if(this[e]=void 0,i.delete(n),this.length>1&&e!==this.length-1){var l=this.length-1,u=this[l],c=u._private.data.id;this[l]=void 0,this[e]=u,i.set(c,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){var i=this._private.map.get((e=e[0])._private.data.id);return i?(this.unmergeAt(i.index),this):this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&ze(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--)e(this[r])&&this.unmergeAt(r);return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],l=r?e.apply(r,[o,i,a]):e(o,i,a);n.push(l)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var a,n=-1/0,i=this,o=0;o<i.length;o++){var l=i[o],u=r?e.apply(r,[l,o,i]):e(l,o,i);u>n&&(n=u,a=l)}return{value:n,ele:a}},min:function(e,r){for(var a,n=1/0,i=this,o=0;o<i.length;o++){var l=i[o],u=r?e.apply(r,[l,o,i]):e(l,o,i);u<n&&(n=u,a=l)}return{value:n,ele:a}}},vt=Fg;vt.u=vt["|"]=vt["+"]=vt.union=vt.or=vt.add,vt["\\"]=vt["!"]=vt["-"]=vt.difference=vt.relativeComplement=vt.subtract=vt.not,vt.n=vt["&"]=vt["."]=vt.and=vt.intersection=vt.intersect,vt["^"]=vt["(+)"]=vt["(-)"]=vt.symmetricDifference=vt.symdiff=vt.xor,vt.fnFilter=vt.filterFn=vt.stdFilter=vt.filter,vt.complement=vt.abscomp=vt.absoluteComplement;var e,qg=function(e,r){var a=e.cy().hasCompoundNodes();function i(d){var p=d.pstyle("z-compound-depth");return"auto"===p.value?a?d.zDepth():0:"bottom"===p.value?-1:"top"===p.value?Vc:0}var o=i(e)-i(r);if(0!==o)return o;function l(d){return"auto"===d.pstyle("z-index-compare").value&&d.isNode()?1:0}var u=l(e)-l(r);if(0!==u)return u;var c=e.pstyle("z-index").value-r.pstyle("z-index").value;return 0!==c?c:e.poolIndex()-r.poolIndex()},zl={forEach:function(e,r){if(Lt(e))for(var n=this.length,a=0;a<n;a++){var i=this[a];if(!1===(r?e.apply(r,[i,a,this]):e(i,a,this)))break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;null==r&&(r=a),null==e&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!Lt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(qg)},zDepth:function(){var e=this[0];if(e){var r=e._private;if("nodes"===r.group){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:Vc-1}var o=r.target,l=r.source.zDepth(),u=o.zDepth();return Math.max(l,u,0)}}};zl.each=zl.forEach,e="undefined",(typeof Symbol>"u"?"undefined":Wt(Symbol))!=e&&Wt(Symbol.iterator)!=e&&(zl[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return bv({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})});var vP=ir({nodeDimensionsIncludeLabels:!1}),Fl={layoutDimensions:function(e){var r;if(e=vP(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};else r={w:0,h:0};return(0===r.w||0===r.h)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(P){return!P.isParent()}),i=this.cy(),o=r.eles,l=function(k){return k.id()},u=Ho(n,l);e.emit({type:"layoutstart",layout:e}),e.animations=[];var d=r.spacingFactor&&1!==r.spacingFactor,v=function(){if(!d)return null;for(var k=Mr(),T=0;T<a.length;T++){var I=u(a[T],T);EA(k,I.x,I.y)}return k}(),m=Ho(function(P,k){var T=u(P,k);return d&&(T=function(k,T,D){var I_x=T.x1+T.w/2,I_y=T.y1+T.h/2;return{x:I_x+(D.x-I_x)*k,y:I_y+(D.y-I_y)*k}}(Math.abs(r.spacingFactor),v,T)),null!=r.transform&&(T=r.transform(P,T)),T},l);if(r.animate){for(var y=0;y<a.length;y++){var b=a[y],g=m(b,y);if(null==r.animateFilter||r.animateFilter(b,y)){var w=b.animation({position:g,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(w)}else b.position(g)}if(r.fit){var E=i.animation({fit:{boundingBox:o.boundingBoxAt(m),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}else if(void 0!==r.zoom&&void 0!==r.pan){var R=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(R)}e.animations.forEach(function(P){return P.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Ki.all(e.animations.map(function(P){return P.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(m),r.fit&&i.fit(r.eles,r.padding),null!=r.zoom&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(Ue({},e,{eles:this}))}};function Hg(t,e,r){var i,n=r._private,a=n.styleCache=n.styleCache||[];return null!=(i=a[t])||(i=a[t]=e(r)),i}function ql(t,e){return t=ri(t),function(n){return Hg(t,e,n)}}function Hl(t,e){t=ri(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return Hg(t,r,a)}}Fl.createLayout=Fl.makeLayout=Fl.layout;var or={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var n,e=this.cy(),r=function(i){return i._private.styleCache=null};return e.hasCompoundNodes()?((n=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(n.connectedEdges()),n.forEach(r)):this.forEach(function(a){r(a),a.connectedEdges().forEach(r)}),this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching())return r._private.batchStyleEles.merge(this),this;var i=this;e=!(!e&&void 0!==e),r.hasCompoundNodes()&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return e?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(l){return l._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],a=n.cy();if(a.styleEnabled()&&n)return this.cleanStyle(),n._private.style[e]??(r?a.style().getDefaultProperty(e):null)},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];return n?r.style().getRenderedStyle(n,e):void 0},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=n.style();if(dt(e))i.applyBypass(this,e,!1),this.emitAndNotify("style");else if(ze(e)){if(void 0===r){var l=this[0];return l?i.getStylePropertyValue(l,e):void 0}i.applyBypass(this,e,r,!1),this.emitAndNotify("style")}else if(void 0===e){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var a=r.style(),i=this;if(void 0===e)for(var o=0;o<i.length;o++)a.removeAllBypasses(i[o],!1);else{e=e.split(/\s+/);for(var u=0;u<i.length;u++)a.removeBypasses(i[u],e,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var l=0;l<o.length;l++)i*=o[l].pstyle("opacity").value;return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();return r?n?0===r.effectiveOpacity():0===r.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function hf(t,e){var n=t._private.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++)if(!e(n[a]))return!1;return!0}function vf(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var l=i._private;if(!e(i))return!1;if(i.isNode())return!o||hf(i,n);var u=l.source,c=l.target;return r(u)&&(!o||hf(u,r))&&(u===c||r(c)&&(!o||hf(c,r)))}}}var eo=ql("eleTakesUpSpace",function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())});or.takesUpSpace=Hl("takesUpSpace",vf({ok:eo}));var gP=ql("eleInteractive",function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&eo(t)}),mP=ql("parentInteractive",function(t){return"visible"===t.pstyle("visibility").value&&eo(t)});or.interactive=Hl("interactive",vf({ok:gP,parentOk:mP,edgeOkViaNode:eo})),or.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var yP=ql("eleVisible",function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&eo(t)});or.visible=Hl("visible",vf({ok:yP,edgeOkViaNode:eo})),or.hidden=function(){var t=this[0];if(t)return!t.visible()},or.isBundledBezier=Hl("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),or.bypass=or.css=or.style,or.renderedCss=or.renderedStyle,or.removeBypass=or.removeCss=or.removeStyle,or.pstyle=or.parsedStyle;var Ia={};function $g(t){return function(){var e=arguments,r=[];if(2===e.length)this.on(t.event,e[0],e[1]);else if(1===e.length&&Lt(e[0]))this.on(t.event,e[0]);else if(0===e.length||1===e.length&&Et(e[0])){for(var o=1===e.length?e[0]:null,l=0;l<this.length;l++){var u=this[l],c=!t.ableField||u._private[t.ableField],d=u._private[t.field]!=t.value;if(t.overrideAble){var p=t.overrideAble(u);if(void 0!==p&&(c=p,!p))return this}c&&(u._private[t.field]=t.value,d&&r.push(u))}var v=this.spawn(r);v.updateStyle(),v.emit(t.event),o&&v.emit(o)}return this}}function to(t){Ia[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(void 0!==r)return r}return e._private[t.field]}},Ia[t.on]=$g({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Ia[t.off]=$g({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}to({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),to({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),to({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),to({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Ia.deselect=Ia.unselect,Ia.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},to({field:"active",on:"activate",off:"unactivate"}),to({field:"pannable",on:"panify",off:"unpanify"}),Ia.inactive=function(){var t=this[0];if(t)return!t._private.active};var hr={},Ug=function(e){return function(n){for(var i=[],o=0;o<this.length;o++){var l=this[o];if(l.isNode()){for(var u=!1,c=l.connectedEdges(),d=0;d<c.length;d++){var p=c[d],v=p.source(),m=p.target();if(e.noIncomingEdges&&m===l&&v!==l||e.noOutgoingEdges&&v===l&&m!==l){u=!0;break}}u||i.push(l)}}return this.spawn(i,!0).filter(n)}},jg=function(e){return function(r){for(var a=[],i=0;i<this.length;i++){var o=this[i];if(o.isNode())for(var l=o.connectedEdges(),u=0;u<l.length;u++){var c=l[u],d=c.source(),p=c.target();e.outgoing&&d===o?(a.push(c),a.push(p)):e.incoming&&p===o&&(a.push(c),a.push(d))}}return this.spawn(a,!0).filter(r)}},Vg=function(e){return function(r){for(var n=this,a=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var l=!1,u=0;u<o.length;u++){var c=o[u],d=c.id();i[d]||(i[d]=!0,a.push(c),l=!0)}if(!l)break;n=o}return this.spawn(a,!0).filter(r)}};function Wg(t){return function(r){for(var n=[],a=0;a<this.length;a++){var o=this[a]._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}function Yg(t){return function(r){var n=[],a=this._private.cy,i=t||{};ze(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var l=r[o]._private.edges,u=0;u<l.length;u++){var c=l[u],d=c._private.data,p=this.hasElementWithId(d.source)&&r.hasElementWithId(d.target),v=r.hasElementWithId(d.source)&&this.hasElementWithId(d.target);(p||v)&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!p||i.thisIsTgt&&!v)||n.push(c))}return this.spawn(n,!0)}}function Kg(t){return t=Ue({},{codirected:!1},t),function(n){for(var a=[],i=this.edges(),o=t,l=0;l<i.length;l++)for(var c=i[l]._private,d=c.source,p=d._private.data.id,v=c.data.target,m=d._private.edges,y=0;y<m.length;y++){var b=m[y],g=b._private.data,_=g.target,w=g.source,E=_===v&&w===p;(o.codirected&&E||!o.codirected&&(E||p===_&&v===w))&&a.push(b)}return this.spawn(a,!0).filter(n)}}hr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},Ue(hr,{roots:Ug({noIncomingEdges:!0}),leaves:Ug({noOutgoingEdges:!0}),outgoers:cn(jg({outgoing:!0}),"outgoers"),successors:Vg({outgoing:!0}),incomers:cn(jg({incoming:!0}),"incomers"),predecessors:Vg({incoming:!0})}),Ue(hr,{neighborhood:cn(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var l=i[o],u=l.source(),c=l.target(),d=a===u?c:u;d.length>0&&e.push(d[0]),e.push(l[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),hr.neighbourhood=hr.neighborhood,hr.closedNeighbourhood=hr.closedNeighborhood,hr.openNeighbourhood=hr.openNeighborhood,Ue(hr,{source:cn(function(e){var n,r=this[0];return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:cn(function(e){var n,r=this[0];return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Wg({attr:"source"}),targets:Wg({attr:"target"})}),Ue(hr,{edgesWith:cn(Yg(),"edgesWith"),edgesTo:cn(Yg({thisIsSrc:!0}),"edgesTo")}),Ue(hr,{connectedEdges:cn(function(t){for(var e=[],n=0;n<this.length;n++){var a=this[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++)e.push(i[o])}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:cn(function(t){for(var e=[],n=0;n<this.length;n++){var a=this[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:cn(Kg(),"parallelEdges"),codirectedEdges:cn(Kg({codirected:!0}),"codirectedEdges")}),Ue(hr,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=null==e?r.nodes():e.nodes(),o=[];null!=e&&i.empty()&&(i=e.sources());var l=function(d,p){a.merge(d),i.unmerge(d),p.merge(d)};if(i.empty())return r.spawn();var u=function(){var d=n.collection();o.push(d);var p=i[0];l(p,d),r.bfs({directed:!1,roots:p,visit:function(m){return l(m,d)}}),d.forEach(function(v){v.connectedEdges().forEach(function(m){r.has(m)&&d.has(m.source())&&d.has(m.target())&&d.merge(m)})})};do{u()}while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),hr.componentsOf=hr.components;var sr=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==e){var a=new kn,i=!1;if(r){if(r.length>0&&dt(r[0])&&!qo(r[0])){i=!0;for(var o=[],l=new Hi,u=0,c=r.length;u<c;u++){var d=r[u];null==d.data&&(d.data={});var p=d.data;if(null==p.id)p.id=Gv();else if(e.hasElementWithId(p.id)||l.has(p.id))continue;var v=new Ol(e,d,!1);o.push(v),l.add(p.id)}r=o}}else r=[];this.length=0;for(var m=0,y=r.length;m<y;m++){var b=r[m][0];if(null!=b){var g=b._private.data.id;(!n||!a.has(g))&&(n&&a.set(g,{index:this.length,ele:b}),this[this.length]=b,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(_){this.lazyMap=_},rebuildMap:function(){for(var w=this.lazyMap=new kn,E=this.eles,R=0;R<E.length;R++){var P=E[R];w.set(P.id(),{index:R,ele:P})}}},n&&(this._private.map=a),i&&this.restore()}else Ft("A collection must have a reference to the core")},St=Ol.prototype=sr.prototype=Object.create(Array.prototype);St.instanceString=function(){return"collection"},St.spawn=function(t,e){return new sr(this.cy(),t,e)},St.spawnSelf=function(){return this.spawn(this)},St.cy=function(){return this._private.cy},St.renderer=function(){return this._private.cy.renderer()},St.element=function(){return this[0]},St.collection=function(){return wv(this)?this:new sr(this._private.cy,[this])},St.unique=function(){return new sr(this._private.cy,this,!0)},St.hasElementWithId=function(t){return this._private.map.has(t=""+t)},St.getElementById=function(t){var e=this._private.cy,r=this._private.map.get(t=""+t);return r?r.ele:new sr(e)},St.$id=St.getElementById,St.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},St.indexOf=function(t){return this._private.map.get(t[0]._private.data.id).index},St.indexOfId=function(t){return this._private.map.get(t=""+t).index},St.json=function(t){var e=this.element(),r=this.cy();if(null==e&&t)return this;if(null!=e){var n=e._private;if(dt(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,o={},l=t.data.source,u=t.data.target;null!=l&&l!=a.source&&(o.source=""+l,i=!0),null!=u&&u!=a.target&&(o.target=""+u,i=!0),i&&(e=e.move(o))}else{var d=t.data.parent;"parent"in t.data&&(null!=d||null!=a.parent)&&d!=a.parent&&(void 0===d&&(d=null),null!=d&&(d=""+d),e=e.move({parent:d}))}}t.position&&e.position(t.position);var p=function(b,g,_){var w=t[b];null!=w&&w!==n[b]&&(w?e[g]():e[_]())};return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),null!=t.classes&&e.classes(t.classes),r.endBatch(),this}if(void 0===t){var v={data:Pn(n.data),position:Pn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:""},m=0;return n.classes.forEach(function(y){return v.classes+=0==m++?y:" "+y}),v}}},St.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e].json();t.push(n)}return t},St.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var a=this[r].json(),i=new Ol(t,a,!1);e.push(i)}return new sr(t,e)},St.copy=St.clone,St.restore=function(){for(var l,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,n=r.cy(),a=n._private,i=[],o=[],u=0,c=r.length;u<c;u++){var d=r[u];e&&!d.removed()||(d.isNode()?i.push(d):o.push(d))}l=i.concat(o);var p,v=function(){l.splice(p,1),p--};for(p=0;p<l.length;p++){var m=l[p],y=m._private,b=y.data;if(m.clearTraversalCache(),e||y.removed)if(void 0===b.id)b.id=Gv();else if(Te(b.id))b.id=""+b.id;else{if(ya(b.id)||!ze(b.id)){Ft("Can not create element with invalid string ID `"+b.id+"`"),v();continue}if(n.hasElementWithId(b.id)){Ft("Can not create second element with ID `"+b.id+"`"),v();continue}}var g=b.id;if(m.isNode()){var _=y.position;null==_.x&&(_.x=0),null==_.y&&(_.y=0)}if(m.isEdge()){for(var w=m,E=["source","target"],R=E.length,P=!1,k=0;k<R;k++){var T=E[k],D=b[T];Te(D)&&(D=b[T]=""+b[T]),null==D||""===D?(Ft("Can not create edge `"+g+"` with unspecified "+T),P=!0):n.hasElementWithId(D)||(Ft("Can not create edge `"+g+"` with nonexistant "+T+" `"+D+"`"),P=!0)}if(P){v();continue}var I=n.getElementById(b.source),F=n.getElementById(b.target);I.same(F)?I._private.edges.push(w):(I._private.edges.push(w),F._private.edges.push(w)),w._private.source=I,w._private.target=F}y.map=new kn,y.map.set(g,{ele:m,index:0}),y.removed=!1,e&&n.addToPool(m)}for(var M=0;M<i.length;M++){var G=i[M],j=G._private.data;Te(j.parent)&&(j.parent=""+j.parent);var z=j.parent;if(null!=z){var Z=n.getElementById(z);if(Z.empty())j.parent=void 0;else{for(var Y=!1,Q=Z;!Q.empty();){if(G.same(Q)){Y=!0,j.parent=void 0;break}Q=Q.parent()}Y||(Z[0]._private.children.push(G),G._private.parent=Z[0],a.hasCompoundNodes=!0)}}}if(l.length>0){for(var oe=l.length===r.length?r:new sr(n,l),le=0;le<oe.length;le++){var ne=oe[le];ne.isNode()||(ne.parallelEdges().clearTraversalCache(),ne.source().clearTraversalCache(),ne.target().clearTraversalCache())}(a.hasCompoundNodes?n.collection().merge(oe).merge(oe.connectedNodes()).merge(oe.parent()):oe).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?oe.emitAndNotify("add"):e&&oe.emit("add")}return r},St.removed=function(){var t=this[0];return t&&t._private.removed},St.inside=function(){var t=this[0];return t&&!t._private.removed},St.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,n=[],a={},i=r._private.cy;function u(z){var ee=a[z.id()];e&&z.removed()||ee||(a[z.id()]=!0,z.isNode()?(n.push(z),function o(z){for(var ee=z._private.edges,Z=0;Z<ee.length;Z++)u(ee[Z])}(z),function l(z){for(var ee=z._private.children,Z=0;Z<ee.length;Z++)u(ee[Z])}(z)):n.unshift(z))}for(var c=0,d=r.length;c<d;c++)u(r[c]);function v(z,ee){_a(z._private.edges,ee),z.clearTraversalCache()}var y=[];function b(z,ee){ee=ee[0];var Z=(z=z[0])._private.children,Y=z.id();_a(Z,ee),ee._private.parent=null,y.ids[Y]||(y.ids[Y]=!0,y.push(z))}y.ids={},r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var g=0;g<n.length;g++){var _=n[g];if(_.isEdge()){var w=_.source()[0],E=_.target()[0];v(w,_),v(E,_);for(var R=_.parallelEdges(),P=0;P<R.length;P++){var k=R[P];k.clearTraversalCache(),k.isBundledBezier()&&k.dirtyBoundingBoxCache()}}else{var T=_.parent();0!==T.length&&b(T,_)}e&&(_._private.removed=!0)}var D=i._private.elements;i._private.hasCompoundNodes=!1;for(var I=0;I<D.length;I++)if(D[I].isParent()){i._private.hasCompoundNodes=!0;break}var M=new sr(this.cy(),n);M.size()>0&&(t?M.emitAndNotify("remove"):e&&M.emit("remove"));for(var G=0;G<y.length;G++){var j=y[G];(!e||!j.removed())&&j.updateStyle()}return M},St.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(y){return null==y?y:""+y};if(void 0!==t.source||void 0!==t.target){var o=i(t.source),l=i(t.target),u=null!=o&&e.hasElementWithId(o),c=null!=l&&e.hasElementWithId(l);(u||c)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var y=r[m],b=y._private.data;y.isEdge()&&(u&&(b.source=o),c&&(b.target=l))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(void 0!==t.parent){var d=i(t.parent);if(null===d||e.hasElementWithId(d)){var v=null===d?void 0:d;e.batch(function(){var m=r.remove(n,a);m.emitAndNotify("moveout");for(var y=0;y<r.length;y++){var b=r[y],g=b._private.data;b.isNode()&&(g.parent=v)}m.restore(n,a)}),r.emitAndNotify("move")}}return this},[fg,BB,kl,Ra,Zi,WB,Dl,lP,zg,Fg,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},zl,Fl,or,Ia,hr].forEach(function(t){Ue(St,t)});var _P={add:function(e){var r,n=this;if(Yr(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++)i.push(a[o].json());r=new sr(n,i)}}else if(Et(e))r=new sr(n,e);else if(dt(e)&&(Et(e.nodes)||Et(e.edges))){for(var c=e,d=[],p=["nodes","edges"],v=0,m=p.length;v<m;v++){var y=p[v],b=c[y];if(Et(b))for(var g=0,_=b.length;g<_;g++){var w=Ue({group:y},b[g]);d.push(w)}}r=new sr(n,d)}else r=new Ol(n,e).collection();return r},remove:function(e){return Yr(e)||ze(e)&&(e=this.$(e)),e.remove()}};function xP(t,e,r,n){var c=.1,d=typeof Float32Array<"u";if(4!==arguments.length)return!1;for(var p=0;p<4;++p)if("number"!=typeof arguments[p]||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var v=d?new Float32Array(11):new Array(11);function m(F,M){return 1-3*M+3*F}function y(F,M){return 3*M-6*F}function b(F){return 3*F}function g(F,M,G){return((m(M,G)*F+y(M,G))*F+b(M))*F}function _(F,M,G){return 3*m(M,G)*F*F+2*y(M,G)*F+b(M)}var k=!1;var D=function(M){return k||function T(){k=!0,(t!==e||r!==n)&&function E(){for(var F=0;F<11;++F)v[F]=g(F*c,t,r)}()}(),t===e&&r===n?M:0===M?0:1===M?1:g(function P(F){for(var M=0,G=1;10!==G&&v[G]<=F;++G)M+=c;--G;var ee=M+(F-v[G])/(v[G+1]-v[G])*c,Z=_(ee,t,r);return Z>=.001?function w(F,M){for(var G=0;G<4;++G){var j=_(M,t,r);if(0===j)return M;M-=(g(M,t,r)-F)/j}return M}(F,ee):0===Z?ee:function R(F,M,G){var j,z,ee=0;do{(j=g(z=M+(G-M)/2,t,r)-F)>0?G=z:M=z}while(Math.abs(j)>1e-7&&++ee<10);return z}(F,M,M+c)}(M),e,n)};D.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var I="generateBezier("+[t,e,r,n]+")";return D.toString=function(){return I},D}var wP=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function r(n,a){var i={dx:n.v,dv:t(n)},o=e(n,.5*a,i),l=e(n,.5*a,o),u=e(n,a,l),d=1/6*(i.dv+2*(o.dv+l.dv)+u.dv);return n.x=n.x+1/6*(i.dx+2*(o.dx+l.dx)+u.dx)*a,n.v=n.v+d*a,n}return function n(a,i,o){var v,m,y,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,d=1e-4;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,l.tension=a,l.friction=i,m=(v=null!==o)?(c=n(a,i))/o*.016:.016;y=r(y||l,m),u.push(1+y.x),c+=16,Math.abs(y.x)>d&&Math.abs(y.v)>d;);return v?function(b){return u[b*(u.length-1)|0]}:c}}(),It=function(e,r,n,a){var i=xP(e,r,n,a);return function(o,l,u){return o+(l-o)*i(u)}},$l={linear:function(e,r,n){return e+(r-e)*n},ease:It(.25,.1,.25,1),"ease-in":It(.42,0,1,1),"ease-out":It(0,0,.58,1),"ease-in-out":It(.42,0,.58,1),"ease-in-sine":It(.47,0,.745,.715),"ease-out-sine":It(.39,.575,.565,1),"ease-in-out-sine":It(.445,.05,.55,.95),"ease-in-quad":It(.55,.085,.68,.53),"ease-out-quad":It(.25,.46,.45,.94),"ease-in-out-quad":It(.455,.03,.515,.955),"ease-in-cubic":It(.55,.055,.675,.19),"ease-out-cubic":It(.215,.61,.355,1),"ease-in-out-cubic":It(.645,.045,.355,1),"ease-in-quart":It(.895,.03,.685,.22),"ease-out-quart":It(.165,.84,.44,1),"ease-in-out-quart":It(.77,0,.175,1),"ease-in-quint":It(.755,.05,.855,.06),"ease-out-quint":It(.23,1,.32,1),"ease-in-out-quint":It(.86,0,.07,1),"ease-in-expo":It(.95,.05,.795,.035),"ease-out-expo":It(.19,1,.22,1),"ease-in-out-expo":It(1,0,0,1),"ease-in-circ":It(.6,.04,.98,.335),"ease-out-circ":It(.075,.82,.165,1),"ease-in-out-circ":It(.785,.135,.15,.86),spring:function(e,r,n){if(0===n)return $l.linear;var a=wP(e,r,n);return function(i,o,l){return i+(o-i)*a(l)}},"cubic-bezier":It};function Xg(t,e,r,n,a){if(1===n||e===r)return r;var i=a(e,r,n);return null==t||((t.roundValue||t.color)&&(i=Math.round(i)),void 0!==t.min&&(i=Math.max(i,t.min)),void 0!==t.max&&(i=Math.min(i,t.max))),i}function Zg(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function ro(t,e,r,n,a){var i=null!=a?a.type:null;r<0?r=0:r>1&&(r=1);var o=Zg(t,a),l=Zg(e,a);if(Te(o)&&Te(l))return Xg(i,o,l,r,n);if(Et(o)&&Et(l)){for(var u=[],c=0;c<l.length;c++){var d=o[c],p=l[c];if(null!=d&&null!=p){var v=Xg(i,d,p,r,n);u.push(v)}else u.push(p)}return u}}function OP(t,e,r,n){var a=!n,i=t._private,o=e._private,l=o.easing,u=o.startTime,d=(n?t:t.cy()).style();if(!o.easingImpl)if(null==l)o.easingImpl=$l.linear;else{var p,m,y;p=ze(l)?d.parse("transition-timing-function",l).value:l,ze(p)?(m=p,y=[]):(m=p[1],y=p.slice(2).map(function(oe){return+oe})),y.length>0?("spring"===m&&y.push(o.duration),o.easingImpl=$l[m].apply(null,y)):o.easingImpl=$l[m]}var g,b=o.easingImpl;if(g=0===o.duration?1:(r-u)/o.duration,o.applying&&(g=o.progress),g<0?g=0:g>1&&(g=1),null==o.delay){var _=o.startPosition,w=o.position;if(w&&a&&!t.locked()){var E={};as(_.x,w.x)&&(E.x=ro(_.x,w.x,g,b)),as(_.y,w.y)&&(E.y=ro(_.y,w.y,g,b)),t.position(E)}var R=o.startPan,P=o.pan,k=i.pan,T=null!=P&&n;T&&(as(R.x,P.x)&&(k.x=ro(R.x,P.x,g,b)),as(R.y,P.y)&&(k.y=ro(R.y,P.y,g,b)),t.emit("pan"));var D=o.startZoom,I=o.zoom,F=null!=I&&n;F&&(as(D,I)&&(i.zoom=Wo(i.minZoom,ro(D,I,g,b),i.maxZoom)),t.emit("zoom")),(T||F)&&t.emit("viewport");var M=o.style;if(M&&M.length>0&&a){for(var G=0;G<M.length;G++){var j=M[G],z=j.name,Z=o.startStyle[z],Q=ro(Z,j,g,b,d.properties[Z.name]);d.overrideBypass(t,z,Q)}t.emit("style")}}return o.progress=g,g}function as(t,e){return!!(null!=t&&null!=e&&(Te(t)&&Te(e)||t&&e))}function EP(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function Qg(t,e){var r=e._private.aniEles,n=[];function a(d,p){var v=d._private,m=v.animation.current,y=v.animation.queue,b=!1;if(0===m.length){var g=y.shift();g&&m.push(g)}for(var _=function(k){for(var T=k.length-1;T>=0;T--)(0,k[T])();k.splice(0,k.length)},w=m.length-1;w>=0;w--){var E=m[w],R=E._private;R.stopped?(m.splice(w,1),R.hooked=!1,R.playing=!1,R.started=!1,_(R.frames)):!R.playing&&!R.applying||(R.playing&&R.applying&&(R.applying=!1),R.started||EP(0,E,t),OP(d,E,t,p),R.applying&&(R.applying=!1),_(R.frames),null!=R.step&&R.step(t),E.completed()&&(m.splice(w,1),R.hooked=!1,R.playing=!1,R.started=!1,_(R.completes)),b=!0)}return!p&&0===m.length&&0===y.length&&n.push(d),b}for(var i=!1,o=0;o<r.length;o++){var u=a(r[o]);i=i||u}var c=a(e,!0);(i||c)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var CP={animate:yt.animate(),animation:yt.animation(),animated:yt.animated(),clearQueue:yt.clearQueue(),delay:yt.delay(),delayAnimation:yt.delayAnimation(),stop:yt.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){Qg(o,e)},n.beforeRenderPriorities.animations):function r(){e._private.animationsRunning&&_l(function(i){Qg(i,e),r()})}()}}},RP={qualifierCompare:function(e,r){return null==e||null==r?null==e&&null==r:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return null==a||e!==n.target&&qo(n.target)&&a.matches(n.target)},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return null!=r.qualifier?n.target:e}},Ul=function(e){return ze(e)?new Ea(e):e},Jg={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Gl(RP,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Ul(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Ul(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Ul(r),n),this},once:function(e,r,n){return this.emitter().one(e,Ul(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};yt.eventAliasesOn(Jg);var gf={png:function(e){return this._private.renderer.png(e=e||{})},jpg:function(e){var r=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",r.jpg(e)}};gf.jpeg=gf.jpg;var jl={layout:function(e){var r=this;if(null!=e)if(null!=e.name){var i,n=e.name,a=r.extension("layout",n);if(null!=a)return i=ze(e.eles)?r.$(e.eles):null!=e.eles?e.eles:r.$(),new a(Ue({},e,{cy:r,eles:i}));Ft("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Ft("A `name` must be specified to make a layout");else Ft("Layout options must be specified to make a layout")}};jl.createLayout=jl.makeLayout=jl.layout;var TP={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=r&&a.merge(r)}else if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return void 0===e?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],o=e[i];r.getElementById(i).data(o)}})}},SP=ir({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),mf={renderTo:function(e,r,n,a){return this._private.renderer.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&Ct("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=SP(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")}else Ft("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};mf.invalidateDimensions=mf.resize;var Vl={collection:function(e,r){return ze(e)?this.$(e):Yr(e)?e.collection():Et(e)?new sr(this,e,r):new sr(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Vl.elements=Vl.filter=Vl.$;var vr={apply:function(t){for(var e=this,a=e._private.cy.collection(),i=0;i<t.length;i++){var o=t[i],l=e.getContextMeta(o);if(!l.empty){var u=e.getContextStyle(l),c=e.applyContextStyle(l,u,o);o._private.appliedInitStyle?e.updateTransitions(o,c.diffProps):o._private.appliedInitStyle=!0,e.updateStyleHints(o)&&a.push(o)}}return a},getPropertiesDiff:function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var o=[],l={},u=0;u<r.length;u++){var c=r[u],p="t"===e[u],v="t"===t[u]!==p,m=c.mappedProperties.length>0;if(v||p&&m){var y=void 0;v&&m||v?y=c.properties:m&&(y=c.mappedProperties);for(var b=0;b<y.length;b++){for(var g=y[b],_=g.name,w=!1,E=u+1;E<r.length&&("t"!==e[E]||!(w=null!=r[E].properties[g.name]));E++);!l[_]&&!w&&(l[_]=!0,o.push(_))}}}return n[a]=o,o},getContextMeta:function(t){for(var n,e=this,r="",a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var o=e[i];r+=o.selector&&o.selector.matches(t)?"t":"f"}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:0===n.length}},getContextStyle:function(t){var e=t.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<this.length;i++){var o=this[i];if("t"===e[i])for(var u=0;u<o.properties.length;u++){var c=o.properties[u];a[c.name]=c}}return n[e]=a,a},applyContextStyle:function(t,e,r){for(var a=t.diffPropNames,i={},o=this.types,l=0;l<a.length;l++){var u=a[l],c=e[u],d=r.pstyle(u);if(!c){if(!d)continue;c=d.bypass?{name:u,deleteBypassed:!0}:{name:u,delete:!0}}if(d!==c){if(c.mapped===o.fn&&null!=d&&null!=d.mapping&&d.mapping.value===c.value){var p=d.mapping;if((p.fnValue=c.value(r))===p.prevFnValue)continue}var m=i[u]={prev:d};this.applyParsedProperty(r,c),m.next=r.pstyle(u),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:i}},updateStyleHints:function(t){var n,e=t._private,r=this,a=r.propertyGroupKeys,i=function(L,q,V){return r.getPropertiesHash(L,q,V)},o=e.styleKey;if(t.removed())return!1;var L,l="nodes"===e.group,u=t._private.style;n=Object.keys(u);for(var c=0;c<a.length;c++)e.styleKeys[a[c]]=[qi,$o];for(var p=function(L,q){return e.styleKeys[q][0]=Uo(L,e.styleKeys[q][0])},v=function(L,q){return e.styleKeys[q][1]=jo(L,e.styleKeys[q][1])},m=function(L,q){p(L,q),v(L,q)},y=function(L,q){for(var V=0;V<L.length;V++){var H=L.charCodeAt(V);p(H,q),v(H,q)}},_=0;_<n.length;_++){var w=n[_],E=u[w];if(null!=E){var R=this.properties[w],P=R.type,k=R.groupKey,T=void 0;null!=R.hashOverride?T=R.hashOverride(t,E):null!=E.pfValue&&(T=E.pfValue);var D=null==R.enums?E.value:null,I=null!=T,G=E.units;!P.number||!I&&null==D||P.multiple?y(E.strValue,k):(m(-128<(L=I?T:D)&&L<128&&Math.floor(L)!==L?2e9-(1024*L|0):L,k),!I&&null!=G&&y(G,k))}}for(var z=[qi,$o],ee=0;ee<a.length;ee++){var Y=e.styleKeys[a[ee]];z[0]=Uo(Y[0],z[0]),z[1]=jo(Y[1],z[1])}e.styleKey=function(e,r){return 2097152*e+r}(z[0],z[1]);var Q=e.styleKeys;e.labelDimsKey=ba(Q.labelDimensions);var oe=i(t,["label"],Q.labelDimensions);if(e.labelKey=ba(oe),e.labelStyleKey=ba(xl(Q.commonLabel,oe)),!l){var le=i(t,["source-label"],Q.labelDimensions);e.sourceLabelKey=ba(le),e.sourceLabelStyleKey=ba(xl(Q.commonLabel,le));var ne=i(t,["target-label"],Q.labelDimensions);e.targetLabelKey=ba(ne),e.targetLabelStyleKey=ba(xl(Q.commonLabel,ne))}if(l){var ve=e.styleKeys,J=ve.pie,O=[ve.nodeBody,ve.nodeBorder,ve.backgroundImage,ve.compound,J].filter(function(S){return null!=S}).reduce(xl,[qi,$o]);e.nodeKey=ba(O),e.hasPie=null!=J&&J[0]!==qi&&J[1]!==$o}return o!==e.styleKey},clearStyleHints:function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},applyParsedProperty:function(t,e){var i,r=this,n=e,a=t._private.style,o=r.types,l=r.properties[n.name].type,u=n.bypass,c=a[n.name],d=c&&c.bypass,p=t._private,v="mapping",m=function(ye){return null==ye?null:null!=ye.pfValue?ye.pfValue:ye.value},y=function(){var ye=m(c),xe=m(n);r.checkTriggers(t,n.name,ye,xe)};if(n&&"pie"===n.name.substr(0,3)&&Ct("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return a[n.name]=void 0,y(),!0;if(n.deleteBypassed)return c?!!c.bypass&&(c.bypassed=void 0,y(),!0):(y(),!0);if(n.deleteBypass)return c?!!c.bypass&&(a[n.name]=c.bypassed,y(),!0):(y(),!0);var b=function(){Ct("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:for(var g=n.field.split("."),_=p.data,w=0;w<g.length&&_;w++)_=_[g[w]];if(null==_)return b(),!1;var R;if(!Te(_))return Ct("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+_+"` for `"+t.id()+"` is non-numeric)"),!1;var P=n.fieldMax-n.fieldMin;if((R=0===P?0:(_-n.fieldMin)/P)<0?R=0:R>1&&(R=1),l.color){var k=n.valueMin[0],D=n.valueMin[1],I=n.valueMax[1],F=n.valueMin[2],M=n.valueMax[2],G=null==n.valueMin[3]?1:n.valueMin[3],j=null==n.valueMax[3]?1:n.valueMax[3],z=[Math.round(k+(n.valueMax[0]-k)*R),Math.round(D+(I-D)*R),Math.round(F+(M-F)*R),Math.round(G+(j-G)*R)];i={bypass:n.bypass,name:n.name,value:z,strValue:"rgb("+z[0]+", "+z[1]+", "+z[2]+")"}}else{if(!l.number)return!1;i=this.parse(n.name,n.valueMin+(n.valueMax-n.valueMin)*R,n.bypass,v)}if(!i)return b(),!1;i.mapping=n,n=i;break;case o.data:for(var Z=n.field.split("."),Y=p.data,Q=0;Q<Z.length&&Y;Q++)Y=Y[Z[Q]];if(null!=Y&&(i=this.parse(n.name,Y,n.bypass,v)),!i)return b(),!1;i.mapping=n,n=i;break;case o.fn:var ne=null!=n.fnValue?n.fnValue:(0,n.value)(t);if(n.prevFnValue=ne,null==ne)return Ct("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(i=this.parse(n.name,ne,n.bypass,v)))return Ct("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=Pn(n),n=i;break;case void 0:break;default:return!1}return u?(n.bypassed=d?c.bypassed:c,a[n.name]=n):d?c.bypassed=n:a[n.name]=n,y(),!0},cleanElements:function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),e)for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],u=a[l];null!=u&&(u.bypass?u.bypassed=null:a[l]=null)}else n._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var l={},u=!1,c=0;c<a.length;c++){var d=a[c],p=t.pstyle(d),v=e[d];if(v){var y=v.prev,b=null!=v.next?v.next:p,g=!1,_=void 0,w=1e-6;y&&(Te(y.pfValue)&&Te(b.pfValue)?_=y.pfValue+w*(g=b.pfValue-y.pfValue):Te(y.value)&&Te(b.value)?_=y.value+w*(g=b.value-y.value):Et(y.value)&&Et(b.value)&&(g=y.value[0]!==b.value[0]||y.value[1]!==b.value[1]||y.value[2]!==b.value[2],_=y.strValue),g&&(l[d]=b.strValue,this.applyBypass(t,d,_),u=!0))}}if(!u)return;n.transitioning=!0,new Ki(function(E){o>0?t.delayAnimation(o).play().promise().then(E):E()}).then(function(){return t.animation({style:l,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)},checkTrigger:function(t,e,r,n,a,i){var o=this.properties[e],l=a(o);null!=l&&l(r,n)&&i(o)},checkZOrderTrigger:function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})},checkBoundsTrigger:function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),"curve-style"===e&&("bezier"===r||"bezier"===n)&&a.triggersBoundsOfParallelBeziers&&t.parallelEdges().forEach(function(i){i.isBundledBezier()&&i.dirtyBoundingBoxCache()})})},checkTriggers:function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)}},os={applyBypass:function(t,e,r,n){var i=[];if("*"===e||"**"===e){if(void 0!==r)for(var l=0;l<this.properties.length;l++){var d=this.parse(this.properties[l].name,r,!0);d&&i.push(d)}}else if(ze(e)){var p=this.parse(e,r,!0);p&&i.push(p)}else{if(!dt(e))return!1;var v=e;n=r;for(var m=Object.keys(v),y=0;y<m.length;y++){var b=m[y],g=v[b];if(void 0===g&&(g=v[bl(b)]),void 0!==g){var _=this.parse(b,g,!0);_&&i.push(_)}}}if(0===i.length)return!1;for(var w=!1,E=0;E<t.length;E++){for(var R=t[E],P={},k=void 0,T=0;T<i.length;T++){var D=i[T];if(n){var I=R.pstyle(D.name);k=P[D.name]={prev:I}}w=this.applyParsedProperty(R,Pn(D))||w,n&&(k.next=R.pstyle(D.name))}w&&this.updateStyleHints(R),n&&this.updateTransitions(R,P,!0)}return w},overrideBypass:function(t,e,r){e=Uc(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],o=this.properties[e].type,l=o.color,u=o.mutiple,c=i?null!=i.pfValue?i.pfValue:i.value:null;i&&i.bypass?(i.value=r,null!=i.pfValue&&(i.pfValue=r),i.strValue=l?"rgb("+r.join(",")+")":u?r.join(" "):""+r,this.updateStyleHints(a)):this.applyBypass(a,e,r),this.checkTriggers(a,e,c,r)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,r){for(var a=0;a<t.length;a++){for(var i=t[a],o={},l=0;l<e.length;l++){var u=e[l],c=this.properties[u],d=i.pstyle(c.name);if(d&&d.bypass){var v=this.parse(u,"",!0),m=o[c.name]={prev:d};this.applyParsedProperty(i,v),m.next=i.pstyle(c.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,!0)}}},yf={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var r=this._private.cy.container();if(zt&&r&&zt.getComputedStyle)return zt.getComputedStyle(r).getPropertyValue(t)}},Dn={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){var r=this;if(t=t[0]){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(t,i.name,e);null!=o&&(n[i.name]=o,n[bl(i.name)]=o)}return n}},getIndexedStyle:function(t,e,r,n){return t.pstyle(e)[r][n]??t.cy().style().getDefaultProperty(e)[r][0]},getStylePropertyValue:function(t,e,r){if(t=t[0]){var a=this.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,o=t.pstyle(a.name);if(o){var l=o.value,u=o.units,c=o.strValue;if(r&&i.number&&null!=l&&Te(l)){var d=t.cy().zoom(),p=function(g){return g*d},v=function(g,_){return p(g)+_},m=Et(l);return(m?u.every(function(b){return null!=b}):null!=u)?m?l.map(function(b,g){return v(b,u[g])}).join(" "):v(l,u):m?l.map(function(b){return ze(b)?b:""+p(b)}).join(" "):""+p(l)}if(null!=c)return c}return null}},getAnimationStartStyle:function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n].name,o=t.pstyle(i);void 0!==o&&(o=dt(o)?this.parse(i,o.strValue):this.parse(i,o)),o&&(r[i]=o)}return r},getPropsList:function(t){var r=[],n=t,a=this.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var l=i[o],u=n[l],c=a[l]||a[Uc(l)],d=this.parse(c.name,u);d&&r.push(d)}return r},getNonDefaultPropertiesHash:function(t,e,r){var i,o,l,u,c,n=r.slice();for(u=0;u<e.length;u++)if(null!=(i=t.pstyle(e[u],!1)))if(null!=i.pfValue)n[0]=Uo(l,n[0]),n[1]=jo(l,n[1]);else for(o=i.strValue,c=0;c<o.length;c++)l=o.charCodeAt(c),n[0]=Uo(l,n[0]),n[1]=jo(l,n[1]);return n}};Dn.getPropertiesHash=Dn.getNonDefaultPropertiesHash;var Wl={appendFromJson:function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);e.selector(a);for(var l=0;l<o.length;l++){var u=o[l];e.css(u,i[u])}}return e},fromJson:function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var l=a[o];i[l.name]=l.strValue}t.push({selector:n?n.toString():"core",style:i})}return t}},bf={appendFromString:function(t){var a,i,o,r=this,n=""+t;function l(){n=n.length>a.length?n.substr(a.length):""}function u(){i=i.length>o.length?i.substr(o.length):""}for(n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");!n.match(/^\s*$/);){var d=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){Ct("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=d[0];var p=d[1];if("core"!==p&&new Ea(p).invalid)Ct("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),l();else{var m=d[2],y=!1;i=m;for(var b=[];!i.match(/^\s*$/);){var _=i.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!_){Ct("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),y=!0;break}o=_[0];var w=_[1],E=_[2];this.properties[w]?r.parse(w,E)?(b.push({name:w,val:E}),u()):(Ct("Skipping property: Invalid property definition in: "+o),u()):(Ct("Skipping property: Invalid property name in: "+o),u())}if(y){l();break}r.selector(p);for(var k=0;k<b.length;k++){var T=b[k];r.css(T.name,T.val)}l()}}return r},fromString:function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e}},lr={};(function(){var t=Kt,e=AI,r=PI,i=function(J){return"^"+J+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(J){var O=t+"|\\w+|"+e+"|"+r+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+J+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+O+")\\s*\\,\\s*("+O+")\\)$"},l=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];lr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(J,O){switch(J.length){case 2:return"deg"!==O[0]&&"rad"!==O[0]&&"deg"!==O[1]&&"rad"!==O[1];case 1:return ze(J[0])||"deg"===O[0]||"rad"===O[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(J){var O=J.length;return 1===O||2===O||4===O}}};var u={zeroNonZero:function(J,O){return(null==J||null==O)&&J!==O||0==J&&0!=O||0!=J&&0==O},any:function(J,O){return J!=O},emptyNonEmpty:function(J,O){var S=ya(J),L=ya(O);return S&&!L||!S&&L}},c=lr.types,d=[{name:"label",type:c.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any}],p=[{name:"source-label",type:c.text,triggersBounds:u.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:c.size,triggersBounds:u.any}],v=[{name:"target-label",type:c.text,triggersBounds:u.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:c.size,triggersBounds:u.any}],m=[{name:"font-family",type:c.fontFamily,triggersBounds:u.any},{name:"font-style",type:c.fontStyle,triggersBounds:u.any},{name:"font-weight",type:c.fontWeight,triggersBounds:u.any},{name:"font-size",type:c.size,triggersBounds:u.any},{name:"text-transform",type:c.textTransform,triggersBounds:u.any},{name:"text-wrap",type:c.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:c.size,triggersBounds:u.any},{name:"text-outline-width",type:c.size,triggersBounds:u.any},{name:"line-height",type:c.positiveNumber,triggersBounds:u.any}],y=[{name:"text-valign",type:c.valign,triggersBounds:u.any},{name:"text-halign",type:c.halign,triggersBounds:u.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:u.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:u.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:c.justification}],b=[{name:"events",type:c.bool},{name:"text-events",type:c.bool}],g=[{name:"display",type:c.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:c.visibility,triggersZOrder:u.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:c.nonNegativeInt,triggersZOrder:u.any}],_=[{name:"overlay-padding",type:c.size,triggersBounds:u.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:u.zeroNonZero}],w=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],E=function(J,O){return"label"===O.value?-J.poolIndex():O.pfValue},R=[{name:"height",type:c.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"width",type:c.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"shape",type:c.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:u.any},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:u.any}],P=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:u.any},{name:"border-style",type:c.borderStyle}],k=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],T=[{name:"position",type:c.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:c.size,triggersBounds:u.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:c.size,triggersBounds:u.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:u.any}],D=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:c.size,triggersBounds:u.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:c.numbers,triggersBounds:u.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:c.numbers,triggersBounds:u.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:u.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:u.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:c.angle,triggersBounds:u.any},{name:"loop-sweep",type:c.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:c.size,triggersBounds:u.any},{name:"target-distance-from-node",type:c.size,triggersBounds:u.any}],I=[{name:"ghost",type:c.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:c.zeroOneNumber}],F=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],M=[];lr.pieBackgroundN=16,M.push({name:"pie-size",type:c.sizeMaybePercent});for(var G=1;G<=lr.pieBackgroundN;G++)M.push({name:"pie-"+G+"-background-color",type:c.color}),M.push({name:"pie-"+G+"-background-size",type:c.percent}),M.push({name:"pie-"+G+"-background-opacity",type:c.zeroOneNumber});var j=[],z=lr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill}].forEach(function(fe){z.forEach(function(J){j.push({name:J+"-"+fe.name,type:fe.type,triggersBounds:fe.triggersBounds})})},{});var ee=lr.properties=[].concat(b,w,g,_,I,y,m,d,p,v,R,P,k,M,T,D,j,F),Z=lr.propertyGroups={behavior:b,transition:w,visibility:g,overlay:_,ghost:I,commonLabel:y,labelDimensions:m,mainLabel:d,sourceLabel:p,targetLabel:v,nodeBody:R,nodeBorder:P,backgroundImage:k,pie:M,compound:T,edgeLine:D,edgeArrow:j,core:F},Y=lr.propertyGroupNames={};(lr.propertyGroupKeys=Object.keys(Z)).forEach(function(fe){Y[fe]=Z[fe].map(function(J){return J.name}),Z[fe].forEach(function(J){return J.groupKey=fe})});var oe=lr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];lr.propertyNames=ee.map(function(fe){return fe.name});for(var le=0;le<ee.length;le++){var ne=ee[le];ee[ne.name]=ne}for(var ve=0;ve<oe.length;ve++){var ye=oe[ve],me={name:ye.name,alias:!0,pointsTo:ee[ye.pointsTo]};ee.push(me),ee[ye.name]=me}})(),lr.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},lr.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=Ue({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,c){for(var d=1;d<=lr.pieBackgroundN;d++)u[c.name.replace("{{i}}",d)]=c.value;return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(u,c){return lr.arrowPrefixes.forEach(function(d){u[d+"-"+c.name]=c.value}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,l=this.parse(i,e[i]);r[i]=l}}return t.defaultProperties=r,t.defaultProperties},lr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Yl={parse:function(t,e,r,n){var a=this;if(Lt(e))return a.parseImplWarn(t,e,r,n);var d,u=Pv(t,""+e,r?"t":"f","mapping"===n||!0===n||!1===n||null==n?"dontcare":n),c=a.propCache=a.propCache||[];return(d=c[u])||(d=c[u]=a.parseImplWarn(t,e,r,n)),(r||"mapping"===n)&&(d=Pn(d))&&(d.value=Pn(d.value)),d},parseImplWarn:function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&null!=e&&Ct("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&("width"===a.name||"height"===a.name)&&"label"===e&&Ct("The style value of `label` is deprecated for `"+a.name+"`"),a}};Yl.parseImpl=function(t,e,r,n){var a=this;t=Uc(t);var i=a.properties[t],o=e,l=a.types;if(!i||void 0===e)return null;i.alias&&(t=(i=i.pointsTo).name);var u=ze(e);u&&(e=e.trim());var d,p,c=i.type;if(!c)return null;if(r&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Lt(e))return{name:t,value:e,strValue:"fn",mapped:l.fn,bypass:r};if(!(!u||n||e.length<7||"a"!==e[1])){if(e.length>=7&&"d"===e[0]&&(d=new RegExp(l.data.regex).exec(e)))return!r&&{name:t,value:d,strValue:""+e,mapped:l.data,field:d[1],bypass:r};if(e.length>=10&&"m"===e[0]&&(p=new RegExp(l.mapData.regex).exec(e))){if(r||c.multiple)return!1;var m=l.mapData;if(!c.color&&!c.number)return!1;var y=this.parse(t,p[4]);if(!y||y.mapped)return!1;var b=this.parse(t,p[5]);if(!b||b.mapped)return!1;if(y.pfValue===b.pfValue||y.strValue===b.strValue)return Ct("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+y.strValue+"`"),this.parse(t,y.strValue);if(c.color){var g=y.value,_=b.value;if(!(g[0]!==_[0]||g[1]!==_[1]||g[2]!==_[2]||g[3]!==_[3]&&(null!=g[3]&&1!==g[3]||null!=_[3]&&1!==_[3])))return!1}return{name:t,value:p,strValue:""+e,mapped:m,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:y.value,valueMax:b.value,bypass:r}}}if(c.multiple&&"multiple"!==n){var E;if(E=u?e.split(/\s+/):Et(e)?e:[e],c.evenMultiple&&E.length%2!=0)return null;for(var R=[],P=[],k=[],T="",D=!1,I=0;I<E.length;I++){var F=a.parse(t,E[I],r,"multiple");D=D||ze(F.value),R.push(F.value),k.push(null!=F.pfValue?F.pfValue:F.value),P.push(F.units),T+=(I>0?" ":"")+F.strValue}return c.validate&&!c.validate(R,P)?null:c.singleEnum&&D?1===R.length&&ze(R[0])?{name:t,value:R[0],strValue:R[0],bypass:r}:null:{name:t,value:R,pfValue:k,strValue:T,bypass:r,units:P}}var M=function(){for(var S=0;S<c.enums.length;S++)if(c.enums[S]===e)return{name:t,value:e,strValue:""+e,bypass:r};return null};if(c.number){var G,j="px";if(c.units&&(G=c.units),c.implicitUnits&&(j=c.implicitUnits),!c.unitless)if(u){var z="px|em"+(c.allowPercent?"|\\%":"");G&&(z=G);var ee=e.match("^("+Kt+")("+z+")?$");ee&&(e=ee[1],G=ee[2]||j)}else(!G||c.implicitUnits)&&(G=j);if(e=parseFloat(e),isNaN(e)&&void 0===c.enums)return null;if(isNaN(e)&&void 0!==c.enums)return e=o,M();if(c.integer&&!function(e){return Te(e)&&Math.floor(e)===e}(e)||void 0!==c.min&&(e<c.min||c.strictMin&&e===c.min)||void 0!==c.max&&(e>c.max||c.strictMax&&e===c.max))return null;var Z={name:t,value:e,strValue:""+e+(G||""),units:G,bypass:r};return Z.pfValue=c.unitless||"px"!==G&&"em"!==G?e:"px"!==G&&G?this.getEmSizeInPixels()*e:e,("ms"===G||"s"===G)&&(Z.pfValue="ms"===G?e:1e3*e),("deg"===G||"rad"===G)&&(Z.pfValue="rad"===G?e:function(e){return Math.PI*e/180}(e)),"%"===G&&(Z.pfValue=e/100),Z}if(c.propList){var Y=[],Q=""+e;if("none"!==Q){for(var oe=Q.split(/\s*,\s*|\s+/),le=0;le<oe.length;le++){var ne=oe[le].trim();a.properties[ne]?Y.push(ne):Ct("`"+ne+"` is not a valid property name")}if(0===Y.length)return null}return{name:t,value:Y,strValue:0===Y.length?"none":Y.join(" "),bypass:r}}if(c.color){var ve=function(e){return(Et(e)?e:null)||function(e){return qI[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var n,a,i,o=16;return 4===e.length?(n=parseInt(e[1]+e[1],o),a=parseInt(e[2]+e[2],o),i=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),a=parseInt(e[3]+e[4],o),i=parseInt(e[5]+e[6],o)),[n,a,i]}}(e)||function(e){var r,n=new RegExp("^"+II+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}if((a[1]||a[2]||a[3])&&!(a[1]&&a[2]&&a[3]))return;var c=n[4];if(void 0!==c){if((c=parseFloat(c))<0||c>1)return;r.push(c)}}return r}(e)||function(e){var r,n,a,i,o,l,u,c;function d(y,b,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?y+6*(b-y)*g:g<.5?b:g<2/3?y+(b-y)*(2/3-g)*6:y}var p=new RegExp("^"+BI+"$").exec(e);if(p){if((n=parseInt(p[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(a=parseFloat(p[2]))<0||a>100||(a/=100,(i=parseFloat(p[3]))<0||i>100)||(i/=100,void 0!==(o=p[4])&&((o=parseFloat(o))<0||o>1)))return;if(0===a)l=u=c=Math.round(255*i);else{var v=i<.5?i*(1+a):i+a-i*a,m=2*i-v;l=Math.round(255*d(m,v,n+1/3)),u=Math.round(255*d(m,v,n)),c=Math.round(255*d(m,v,n-1/3))}r=[l,u,c,o]}return r}(e)}(e);return ve?{name:t,value:ve,pfValue:ve,strValue:"rgb("+ve[0]+","+ve[1]+","+ve[2]+")",bypass:r}:null}if(c.regex||c.regexes){if(c.enums){var ye=M();if(ye)return ye}for(var xe=c.regexes?c.regexes:[c.regex],me=0;me<xe.length;me++){var J=new RegExp(xe[me]).exec(e);if(J)return{name:t,value:c.singleRegexMatchValue?J[1]:J,strValue:""+e,bypass:r}}return null}return c.string?{name:t,value:""+e,strValue:""+e,bypass:r}:c.enums?M():null};var gr=function t(e){if(!(this instanceof t))return new t(e);$c(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):Ft("A style must have a core reference")},mr=gr.prototype;mr.instanceString=function(){return"style"},mr.clear=function(){for(var t=this._private,r=t.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this},mr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},mr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},mr.selector=function(t){var e="core"===t?null:new Ea(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this},mr.css=function(){var e=arguments;if(1===e.length)for(var r=e[0],n=0;n<this.properties.length;n++){var a=this.properties[n],i=r[a.name];void 0===i&&(i=r[bl(a.name)]),void 0!==i&&this.cssRule(a.name,i)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},mr.style=mr.css,mr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r),!this[n].selector&&(this._private.coreStyle[r.name]=r)}return this},mr.append=function(t){return Ov(t)?t.appendToStyle(this):Et(t)?this.appendFromJson(t):ze(t)&&this.appendFromString(t),this},gr.fromJson=function(t,e){var r=new gr(t);return r.fromJson(e),r},gr.fromString=function(t,e){return new gr(t).fromString(e)},[vr,os,yf,Dn,Wl,bf,lr,Yl].forEach(function(t){Ue(mr,t)}),gr.types=mr.types,gr.properties=mr.properties,gr.propertyGroups=mr.propertyGroups,gr.propertyGroupNames=mr.propertyGroupNames,gr.propertyGroupKeys=mr.propertyGroupKeys;var AP={style:function(e){return e&&this.setStyle(e).update(),this._private.style},setStyle:function(e){var r=this._private;return r.style=Ov(e)?e.generateStyle(this):Et(e)?gr.fromJson(this,e):ze(e)?gr.fromString(this,e):gr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},li={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var r=this._private;return null==r.selectionType&&(r.selectionType="single"),void 0===e?r.selectionType:(("additive"===e||"single"===e)&&(r.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var n,a,i,o,l,e=arguments,r=this._private.pan;switch(e.length){case 0:return r;case 1:if(ze(e[0]))return r[n=e[0]];if(dt(e[0])){if(!this._private.panningEnabled)return this;l=(i=e[0]).y,Te(o=i.x)&&(r.x=o),Te(l)&&(r.y=l),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;a=e[1],("x"===(n=e[0])||"y"===n)&&Te(a)&&(r[n]=a),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,r){var i,o,l,u,c,n=arguments,a=this._private.pan;if(!this._private.panningEnabled)return this;switch(n.length){case 1:dt(e)&&(c=(l=n[0]).y,Te(u=l.x)&&(a.x+=u),Te(c)&&(a.y+=c),this.emit("pan viewport"));break;case 2:o=r,("x"===(i=e)||"y"===i)&&Te(o)&&(a[i]+=o),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){var n;if((Te(e)&&void 0===r&&(r=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(ze(e)?e=this.$(e):!function(e){return dt(e)&&Te(e.x1)&&Te(e.x2)&&Te(e.y1)&&Te(e.y2)}(e)?Yr(e)||(e=this.mutableElements()):((n={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1),!Yr(e)||!e.empty())){n=n||e.boundingBox();var u,o=this.width(),l=this.height();if(r=Te(r)?r:0,!isNaN(o)&&!isNaN(l)&&o>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:u=(u=(u=Math.min((o-2*r)/n.w,(l-2*r)/n.h))>this._private.maxZoom?this._private.maxZoom:u)<this._private.minZoom?this._private.minZoom:u,pan:{x:(o-u*(n.x1+n.x2))/2,y:(l-u*(n.y1+n.y2))/2}}}},zoomRange:function(e,r){var n=this._private;if(null==r){var a=e;e=a.min,r=a.max}return Te(e)&&Te(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Te(e)&&void 0===r&&e<=n.maxZoom?n.minZoom=e:Te(r)&&void 0===e&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var i,o,r=this._private,n=r.pan,a=r.zoom,l=!1;return r.zoomingEnabled||(l=!0),Te(e)?o=e:dt(e)&&(o=e.level,null!=e.position?i=El(e.position,a,n):null!=e.renderedPosition&&(i=e.renderedPosition),null!=i&&!r.panningEnabled&&(l=!0)),o=(o=o>r.maxZoom?r.maxZoom:o)<r.minZoom?r.minZoom:o,!l&&Te(o)&&o!==a&&(null==i||Te(i.x)&&Te(i.y))?null!=i?{zoomed:!0,panned:!0,zoom:o,pan:{x:-o/a*(i.x-n.x)+i.x,y:-o/a*(i.y-n.y)+i.y}}:{zoomed:!0,panned:!1,zoom:o,pan:n}:null},zoom:function(e){if(void 0===e)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return null!=r&&r.zoomed?(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],o=!1,l=!1;if(!e)return this;if(Te(e.zoom)||(n=!1),dt(e.pan)||(a=!1),!n&&!a)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var c=e.pan;Te(c.x)&&(r.pan.x=c.x,l=!1),Te(c.y)&&(r.pan.y=c.y,l=!1),l||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(ze(e)){var n=e;e=this.mutableElements().filter(n)}else Yr(e)||(e=this.mutableElements());if(0!==e.length){var a=e.boundingBox(),i=this.width(),o=this.height();return{x:(i-(r=void 0===r?this._private.zoom:r)*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var n,a,e=this._private,r=e.container;return e.sizeCache=e.sizeCache||(r?(n=zt.getComputedStyle(r),{width:r.clientWidth-(a=function(o){return parseFloat(n.getPropertyValue(o))})("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}}};li.centre=li.center,li.autolockNodes=li.autolock,li.autoungrabifyNodes=li.autoungrabify;var ss={data:yt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:yt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:yt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:yt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ss.attr=ss.data,ss.removeAttr=ss.removeData;var ls=function(e){var r=this,n=(e=Ue({},e)).container;n&&!yl(n)&&yl(n[0])&&(n=n[0]);var a=n?n._cyreg:null;(a=a||{})&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=void 0!==zt&&void 0!==n&&!e.headless,l=e;l.layout=Ue({name:o?"grid":"null"},l.layout),l.renderer=Ue({name:o?"canvas":"null"},l.renderer);var u=function(y,b,g){return void 0!==b?b:void 0!==g?g:y},c=this._private={container:n,ready:!1,options:l,elements:new sr(this),listeners:[],aniEles:new sr(this),data:l.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,l.zoomingEnabled),userZoomingEnabled:u(!0,l.userZoomingEnabled),panningEnabled:u(!0,l.panningEnabled),userPanningEnabled:u(!0,l.userPanningEnabled),boxSelectionEnabled:u(!0,l.boxSelectionEnabled),autolock:u(!1,l.autolock,l.autolockNodes),autoungrabify:u(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:u(!1,l.autounselectify),styleEnabled:void 0===l.styleEnabled?o:l.styleEnabled,zoom:Te(l.zoom)?l.zoom:1,pan:{x:dt(l.pan)&&Te(l.pan.x)?l.pan.x:0,y:dt(l.pan)&&Te(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(l.selectionType),this.zoomRange({min:l.minZoom,max:l.maxZoom}),c.styleEnabled&&r.setStyle([]);var p=Ue({},l,l.renderer);r.initRenderer(p),function(y,b){if(y.some(TI))return Ki.all(y).then(b);b(y)}([l.style,l.elements],function(m){var y=m[0],b=m[1];c.styleEnabled&&r.style().append(y),function(y,b,g){r.notifications(!1);var _=r.mutableElements();_.length>0&&_.remove(),null!=y&&(dt(y)||Et(y))&&r.add(y),r.one("layoutready",function(E){r.notifications(!0),r.emit(E),r.one("load",b),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",g),r.emit("done")});var w=Ue({},r._private.options.layout);w.eles=r.elements(),r.layout(w).run()}(b,function(){r.startAnimationLoop(),c.ready=!0,Lt(l.ready)&&r.on("ready",l.ready);for(var g=0;g<i.length;g++)r.on("ready",i[g]);a&&(a.readies=[]),r.emit("ready")},l.done)})},Kl=ls.prototype;Ue(Kl,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(null!=e){var r=this,n=r._private,a=n.options;return!yl(e)&&yl(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ue({},a,a.renderer,{name:"null"===a.renderer.name?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Pn(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements();if(dt(e)){if(r.startBatch(),e.elements){var o={},l=function(R,P){for(var k=[],T=[],D=0;D<R.length;D++){var I=R[D];if(I.data.id){var F=""+I.data.id,M=r.getElementById(F);o[F]=!0,0!==M.length?T.push({ele:M,json:I}):(P&&(I.group=P),k.push(I))}else Ct("cy.json() cannot handle elements without an ID attribute")}r.add(k);for(var G=0;G<T.length;G++){var j=T[G];j.ele.json(j.json)}};if(Et(e.elements))l(e.elements);else for(var u=["nodes","edges"],c=0;c<u.length;c++){var d=u[c],p=e.elements[d];Et(p)&&l(p,d)}var v=r.collection();a.filter(function(E){return!o[E.id()]}).forEach(function(E){E.isParent()?v.merge(E):E.remove()}),v.forEach(function(E){return E.children().move({parent:null})}),v.forEach(function(E){return(R=E,r.getElementById(R.id())).remove();var R})}e.style&&r.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],y=0;y<m.length;y++){var b=m[y];null!=e[b]&&r[b](e[b])}return r.endBatch(),this}var _={};e?_.elements=this.elements().map(function(E){return E.json()}):(_.elements={},a.forEach(function(E){var R=E.group();_.elements[R]||(_.elements[R]=[]),_.elements[R].push(E.json())})),this._private.styleEnabled&&(_.style=r.style().json()),_.data=Pn(r.data());var w=n.options;return _.zoomingEnabled=n.zoomingEnabled,_.userZoomingEnabled=n.userZoomingEnabled,_.zoom=n.zoom,_.minZoom=n.minZoom,_.maxZoom=n.maxZoom,_.panningEnabled=n.panningEnabled,_.userPanningEnabled=n.userPanningEnabled,_.pan=Pn(n.pan),_.boxSelectionEnabled=n.boxSelectionEnabled,_.renderer=Pn(w.renderer),_.hideEdgesOnViewport=w.hideEdgesOnViewport,_.textureOnViewport=w.textureOnViewport,_.wheelSensitivity=w.wheelSensitivity,_.motionBlur=w.motionBlur,_}}),Kl.$id=Kl.getElementById,[_P,CP,Jg,gf,jl,TP,mf,Vl,AP,li,ss].forEach(function(t){Ue(Kl,t)});var PP={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},no=function(e){return e.scratch("breadthfirst")},e0=function(e,r){return e.scratch("breadthfirst",r)};function t0(t){this.options=Ue({},PP,t)}t0.prototype.run=function(){var c,t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().filter(function(V){return!V.isParent()}),i=n,o=e.directed,l=e.maximal||e.maximalAdjustments>0,u=Mr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(Yr(e.roots))c=e.roots;else if(Et(e.roots)){for(var d=[],p=0;p<e.roots.length;p++){var m=r.getElementById(e.roots[p]);d.push(m)}c=r.collection(d)}else if(ze(e.roots))c=r.$(e.roots);else if(o)c=a.roots();else{var y=n.components();c=r.collection();for(var b=function(H){var K=y[H],pe=K.maxDegree(!1),we=K.filter(function(te){return te.degree(!1)===pe});c=c.add(we)},g=0;g<y.length;g++)b(g)}var _=[],w={},E=function(H,K){null==_[K]&&(_[K]=[]);var pe=_[K].length;_[K].push(H),e0(H,{index:pe,depth:K})};i.bfs({roots:c,directed:e.directed,visit:function(H,K,pe,we,te){var B=H[0],ae=B.id();E(B,te),w[ae]=!0}});for(var P=[],k=0;k<a.length;k++){var T=a[k];w[T.id()]||P.push(T)}var D=function(H){for(var K=_[H],pe=0;pe<K.length;pe++){var we=K[pe];null!=we?e0(we,{depth:H,index:pe}):(K.splice(pe,1),pe--)}},I=function(){for(var H=0;H<_.length;H++)D(H)},F=function(H,K){for(var pe=no(H),we=H.incomers().filter(function(ce){return ce.isNode()&&n.has(ce)}),te=-1,B=H.id(),ae=0;ae<we.length;ae++){var se=no(we[ae]);te=Math.max(te,se.depth)}return pe.depth<=te&&(K[B]?null:(function(H,K){var pe=no(H);_[pe.depth][pe.index]=null,E(H,K)}(H,te+1),K[B]=!0,!0))};if(o&&l){var M=[],G={},j=function(H){return M.push(H)};for(a.forEach(function(V){return M.push(V)});M.length>0;){var ee=M.shift(),Z=F(ee,G);if(Z)ee.outgoers().filter(function(V){return V.isNode()&&n.has(V)}).forEach(j);else if(null===Z){Ct("Detected double maximal shift for node `"+ee.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}I();var Y=0;if(e.avoidOverlap)for(var Q=0;Q<a.length;Q++){var le=a[Q].layoutDimensions(e);Y=Math.max(Y,le.w,le.h)}for(var ye={},xe=function(H){if(ye[H.id()])return ye[H.id()];for(var K=no(H).depth,pe=H.neighborhood(),we=0,te=0,B=0;B<pe.length;B++){var ae=pe[B];if(!ae.isEdge()&&!ae.isParent()&&a.has(ae)){var he=no(ae);if(null!=he){var se=he.index,ce=he.depth;null!=se&&null!=ce&&ce<K&&(we+=se/_[ce].length,te++)}}}return we/=te=Math.max(1,te),0===te&&(we=0),ye[H.id()]=we,we},me=function(H,K){var te=xe(H)-xe(K);return 0===te?Rv(H.id(),K.id()):te},fe=0;fe<_.length;fe++)_[fe].sort(me),D(fe);for(var J=[],O=0;O<P.length;O++)J.push(P[O]);_.unshift(J),I();var S_x=u.x1+u.w/2,S_y=u.x1+u.h/2,L=_.reduce(function(V,H){return Math.max(V,H.length)},0);return n.nodes().layoutPositions(this,e,function(H){var K=no(H),pe=K.depth,we=K.index,te=_[pe].length,B=Math.max(u.w/((e.grid?L:te)+1),Y),ae=Math.max(u.h/(_.length+1),Y),he=Math.min(u.w/2/_.length,u.h/2/_.length);if(he=Math.max(he,Y),e.circle){var ce=he*pe+he-(_.length>0&&_[0].length<=3?he/2:0),Ge=2*Math.PI/_[pe].length*we;return 0===pe&&1===_[0].length&&(ce=1),{x:S_x+ce*Math.cos(Ge),y:S_y+ce*Math.sin(Ge)}}return{x:S_x+(we+1-(te+1)/2)*B,y:(pe+1)*ae}}),this};var kP={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function r0(t){this.options=Ue({},kP,t)}r0.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var d,o=Mr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},c=(void 0===e.sweep?2*Math.PI-2*Math.PI/i.length:e.sweep)/Math.max(1,i.length-1),p=0,v=0;v<i.length;v++){var y=i[v].layoutDimensions(e);p=Math.max(p,y.w,y.h)}if(d=Te(e.radius)?e.radius:i.length<=1?0:Math.min(o.h,o.w)/2-p,i.length>1&&e.avoidOverlap){p*=1.75;var _=Math.cos(c)-Math.cos(0),w=Math.sin(c)-Math.sin(0),E=Math.sqrt(p*p/(_*_+w*w));d=Math.max(E,d)}return n.nodes().layoutPositions(this,e,function(k,T){var D=e.startAngle+T*c*(a?1:-1),I=d*Math.cos(D),F=d*Math.sin(D);return{x:l.x+I,y:l.y+F}}),this};var DP={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function n0(t){this.options=Ue({},DP,t)}n0.prototype.run=function(){for(var t=this.options,e=t,r=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),o=Mr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],c=0,d=0;d<i.length;d++){var v,p=i[d];v=e.concentric(p),u.push({value:v,node:p}),p._private.scratch.concentric=v}i.updateStyle();for(var m=0;m<i.length;m++){var b=i[m].layoutDimensions(e);c=Math.max(c,b.w,b.h)}u.sort(function(K,pe){return pe.value-K.value});for(var g=e.levelWidth(i),_=[[]],w=_[0],E=0;E<u.length;E++){var R=u[E];w.length>0&&Math.abs(w[0].value-R.value)>=g&&_.push(w=[]),w.push(R)}var k=c+e.minNodeSpacing;if(!e.avoidOverlap){var T=_.length>0&&_[0].length>1,D=Math.min(o.w,o.h)/2-k;k=Math.min(k,D/(_.length+T?1:0))}for(var F=0,M=0;M<_.length;M++){var G=_[M],j=void 0===e.sweep?2*Math.PI-2*Math.PI/G.length:e.sweep,z=G.dTheta=j/Math.max(1,G.length-1);if(G.length>1&&e.avoidOverlap){var ee=Math.cos(z)-Math.cos(0),Z=Math.sin(z)-Math.sin(0),Y=Math.sqrt(k*k/(ee*ee+Z*Z));F=Math.max(Y,F)}G.r=F,F+=k}if(e.equidistant){for(var Q=0,oe=0,le=0;le<_.length;le++)Q=Math.max(Q,_[le].r-oe);oe=0;for(var ye=0;ye<_.length;ye++){var xe=_[ye];0===ye&&(oe=xe.r),xe.r=oe,oe+=Q}}for(var me={},fe=0;fe<_.length;fe++)for(var J=_[fe],O=J.dTheta,S=J.r,L=0;L<J.length;L++){var q=J[L],V=e.startAngle+(r?1:-1)*O*L,H={x:l.x+S*Math.cos(V),y:l.y+S*Math.sin(V)};me[q.node.id()]=H}return a.nodes().layoutPositions(this,e,function(K){var pe=K.id();return me[pe]}),this};var _f,NP={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Xl(t){this.options=Ue({},NP,t),this.options.layout=this}Xl.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(!0===t.animate||!1===t.animate)&&r.emit({type:"layoutstart",layout:r}),_f=!0===t.debug;var n=LP(e,r,t);_f&&(void 0)(n),t.randomize&&FP(n);var a=Zn(),i=function(){qP(n,e,t),!0===t.fit&&e.fit(t.padding)},o=function(v){return!(r.stopped||v>=t.numIter||(HP(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},l=function(){if(!0===t.animate||!1===t.animate)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var v=t.eles.nodes(),m=a0(n,t,v);v.layoutPositions(r,t,m)}},u=0,c=!0;if(!0===t.animate)!function p(){for(var v=0;c&&v<t.refresh;)c=o(u),u++,v++;c?(Zn()-a>=t.animationThreshold&&i(),_l(p)):(o0(n,t),l())}();else{for(;c;)c=o(u),u++;o0(n,t),l()}return this},Xl.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Xl.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var LP=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:Mr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var d=l[c],p=0;p<d.length;p++)u[d[p].id()]=c;for(c=0;c<o.nodeSize;c++){var y=(m=i[c]).layoutDimensions(n);(b={}).isLocked=m.locked(),b.id=m.data("id"),b.parentId=m.data("parent"),b.cmptId=u[m.id()],b.children=[],b.positionX=m.position("x"),b.positionY=m.position("y"),b.offsetX=0,b.offsetY=0,b.height=y.w,b.width=y.h,b.maxX=b.positionX+b.width/2,b.minX=b.positionX-b.width/2,b.maxY=b.positionY+b.height/2,b.minY=b.positionY-b.height/2,b.padLeft=parseFloat(m.style("padding")),b.padRight=parseFloat(m.style("padding")),b.padTop=parseFloat(m.style("padding")),b.padBottom=parseFloat(m.style("padding")),b.nodeRepulsion=Lt(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,o.layoutNodes.push(b),o.idToIndex[b.id]=c}var g=[],_=0,w=-1,E=[];for(c=0;c<o.nodeSize;c++){var m,R=(m=o.layoutNodes[c]).parentId;null!=R?o.layoutNodes[o.idToIndex[R]].children.push(m.id):(g[++w]=m.id,E.push(m.id))}for(o.graphSet.push(E);_<=w;){var P=g[_++],T=o.layoutNodes[o.idToIndex[P]].children;if(T.length>0)for(o.graphSet.push(T),c=0;c<T.length;c++)g[++w]=T[c]}for(c=0;c<o.graphSet.length;c++){var D=o.graphSet[c];for(p=0;p<D.length;p++)o.indexToGraph[o.idToIndex[D[p]]]=c}for(c=0;c<o.edgeSize;c++){var F=a[c],M={};M.id=F.data("id"),M.sourceId=F.data("source"),M.targetId=F.data("target");var G=Lt(n.idealEdgeLength)?n.idealEdgeLength(F):n.idealEdgeLength,j=Lt(n.edgeElasticity)?n.edgeElasticity(F):n.edgeElasticity,z=o.idToIndex[M.sourceId],ee=o.idToIndex[M.targetId];if(o.indexToGraph[z]!=o.indexToGraph[ee]){for(var Q=GP(M.sourceId,M.targetId,o),oe=o.graphSet[Q],le=0,b=o.layoutNodes[z];-1===oe.indexOf(b.id);)b=o.layoutNodes[o.idToIndex[b.parentId]],le++;for(b=o.layoutNodes[ee];-1===oe.indexOf(b.id);)b=o.layoutNodes[o.idToIndex[b.parentId]],le++;G*=le*n.nestingFactor}M.idealLength=G,M.elasticity=j,o.layoutEdges.push(M)}return o},GP=function(e,r,n){var a=MP(e,r,0,n);return 2>a.count?0:a.graph},MP=function t(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,l=0;l<i.length;l++){var d=a.layoutNodes[a.idToIndex[i[l]]].children;if(0!==d.length){var v=t(e,r,a.indexToGraph[a.idToIndex[d[0]]],a);if(0!==v.count){if(1!==v.count)return v;if(2==++o)break}}}return{count:o,graph:n}},FP=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];0===o.children.length&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},a0=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var l=e.layoutNodes[e.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,l.positionX),i.x2=Math.max(i.x2,l.positionX),i.y1=Math.min(i.y1,l.positionY),i.y2=Math.max(i.y2,l.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,l){var u=e.layoutNodes[e.idToIndex[o.data("id")]];return r.boundingBox?{x:a.x1+(u.positionX-i.x1)/i.w*a.w,y:a.y1+(u.positionY-i.y1)/i.h*a.h}:{x:u.positionX,y:u.positionY}}},qP=function(e,r,n){var a=n.layout,i=n.eles.nodes(),o=a0(e,n,i);i.positions(o),!0!==e.ready&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},HP=function(e,r,n){$P(e,r),VP(e),WP(e,r),YP(e),KP(e)},$P=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,o=0;o<i;o++)for(var l=e.layoutNodes[e.idToIndex[a[o]]],u=o+1;u<i;u++)UP(l,e.layoutNodes[e.idToIndex[a[u]]],e,r)},i0=function(e){return-e+2*e*Math.random()},UP=function(e,r,n,a){if(e.cmptId===r.cmptId||n.isCompound){var l=r.positionX-e.positionX,u=r.positionY-e.positionY;0===l&&0===u&&(l=i0(1),u=i0(1));var d=jP(e,r,l,u);if(d>0)var m=(p=a.nodeOverlap*d)*l/(v=Math.sqrt(l*l+u*u)),y=p*u/v;else{var p,b=Zl(e,l,u),g=Zl(r,-1*l,-1*u),_=g.x-b.x,w=g.y-b.y,E=_*_+w*w,v=Math.sqrt(E);m=(p=(e.nodeRepulsion+r.nodeRepulsion)/E)*_/v,y=p*w/v}e.isLocked||(e.offsetX-=m,e.offsetY-=y),r.isLocked||(r.offsetX+=m,r.offsetY+=y)}},jP=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else i=r.maxX-e.minX;if(a>0)var o=e.maxY-r.minY;else o=r.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},Zl=function(e,r,n){var a=e.positionX,i=e.positionY,o=e.height||1,l=e.width||1,u=n/r,c=o/l,d={};return 0===r&&0<n||0===r&&0>n?(d.x=a,d.y=i+o/2,d):0<r&&-1*c<=u&&u<=c?(d.x=a+l/2,d.y=i+l*n/2/r,d):0>r&&-1*c<=u&&u<=c?(d.x=a-l/2,d.y=i-l*n/2/r,d):0<n&&(u<=-1*c||u>=c)?(d.x=a+o*r/2/n,d.y=i+o/2,d):(0>n&&(u<=-1*c||u>=c)&&(d.x=a-o*r/2/n,d.y=i-o/2),d)},VP=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],o=e.layoutNodes[e.idToIndex[a.sourceId]],u=e.layoutNodes[e.idToIndex[a.targetId]],c=u.positionX-o.positionX,d=u.positionY-o.positionY;if(0!==c||0!==d){var p=Zl(o,c,d),v=Zl(u,-1*c,-1*d),m=v.x-p.x,y=v.y-p.y,b=Math.sqrt(m*m+y*y),g=Math.pow(a.idealLength-b,2)/a.elasticity;if(0!==b)var _=g*m/b,w=g*y/b;else _=0,w=0;o.isLocked||(o.offsetX+=_,o.offsetY+=w),u.isLocked||(u.offsetX-=_,u.offsetY-=w)}}},WP=function(e,r){for(var a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],o=i.length;if(0===a)var l=e.clientHeight/2,u=e.clientWidth/2;else{var d=e.layoutNodes[e.idToIndex[e.layoutNodes[e.idToIndex[i[0]]].parentId]];l=d.positionX,u=d.positionY}for(var p=0;p<o;p++){var v=e.layoutNodes[e.idToIndex[i[p]]];if(!v.isLocked){var m=l-v.positionX,y=u-v.positionY,b=Math.sqrt(m*m+y*y);if(b>1){var _=r.gravity*y/b;v.offsetX+=r.gravity*m/b,v.offsetY+=_}}}}},YP=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var o=n[a++],u=e.layoutNodes[e.idToIndex[o]],c=u.children;if(0<c.length&&!u.isLocked){for(var d=u.offsetX,p=u.offsetY,v=0;v<c.length;v++){var m=e.layoutNodes[e.idToIndex[c[v]]];m.offsetX+=d,m.offsetY+=p,n[++i]=c[v]}u.offsetX=0,u.offsetY=0}}},KP=function(e,r){for(var n=0;n<e.nodeSize;n++)0<(a=e.layoutNodes[n]).children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0);for(n=0;n<e.nodeSize;n++)if(!(0<(a=e.layoutNodes[n]).children.length||a.isLocked)){var i=XP(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,ZP(a,e)}for(n=0;n<e.nodeSize;n++){var a;0<(a=e.layoutNodes[n]).children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},XP=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else i={x:e,y:r};return i},ZP=function t(e,r){var n=e.parentId;if(null!=n){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((null==a.maxX||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(null==a.minX||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(null==a.maxY||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(null==a.minY||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return t(a,r)}},o0=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],l=o.cmptId;(a[l]=a[l]||[]).push(o)}var c=0;for(i=0;i<a.length;i++)if(d=a[i]){d.x1=1/0,d.x2=-1/0,d.y1=1/0,d.y2=-1/0;for(var p=0;p<d.length;p++){var v=d[p];d.x1=Math.min(d.x1,v.positionX-v.width/2),d.x2=Math.max(d.x2,v.positionX+v.width/2),d.y1=Math.min(d.y1,v.positionY-v.height/2),d.y2=Math.max(d.y2,v.positionY+v.height/2)}d.w=d.x2-d.x1,d.h=d.y2-d.y1,c+=d.w*d.h}a.sort(function(w,E){return E.w*E.h-w.w*w.h});var m=0,y=0,b=0,g=0,_=Math.sqrt(c)*e.clientWidth/e.clientHeight;for(i=0;i<a.length;i++){var d;if(d=a[i]){for(p=0;p<d.length;p++)(v=d[p]).isLocked||(v.positionX+=m-d.x1,v.positionY+=y-d.y1);m+=d.w+r.componentSpacing,b+=d.w+r.componentSpacing,g=Math.max(g,d.h),b>_&&(y+=g+r.componentSpacing,m=0,b=0,g=0)}}},QP={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function s0(t){this.options=Ue({},QP,t)}s0.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=Mr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(0===i.h||0===i.w)n.nodes().layoutPositions(this,e,function(ye){return{x:i.x1,y:i.y1}});else{var o=a.size(),l=Math.sqrt(o*i.h/i.w),u=Math.round(l),c=Math.round(i.w/i.h*l),d=function(xe){if(null==xe)return Math.min(u,c);Math.min(u,c)==u?u=xe:c=xe},p=function(xe){if(null==xe)return Math.max(u,c);Math.max(u,c)==u?u=xe:c=xe},v=e.rows,m=null!=e.cols?e.cols:e.columns;if(null!=v&&null!=m)u=v,c=m;else if(null!=v&&null==m)u=v,c=Math.ceil(o/u);else if(null==v&&null!=m)c=m,u=Math.ceil(o/c);else if(c*u>o){var y=d(),b=p();(y-1)*b>=o?d(y-1):(b-1)*y>=o&&p(b-1)}else for(;c*u<o;){var g=d(),_=p();(_+1)*g>=o?p(_+1):d(g+1)}var w=i.w/c,E=i.h/u;if(e.condense&&(w=0,E=0),e.avoidOverlap)for(var R=0;R<a.length;R++){var P=a[R],k=P._private.position;(null==k.x||null==k.y)&&(k.x=0,k.y=0);var T=P.layoutDimensions(e),D=e.avoidOverlapPadding,F=T.h+D;w=Math.max(w,T.w+D),E=Math.max(E,F)}for(var M={},G=function(xe,me){return!!M["c-"+xe+"-"+me]},j=function(xe,me){M["c-"+xe+"-"+me]=!0},z=0,ee=0,Z=function(){++ee>=c&&(ee=0,z++)},Y={},Q=0;Q<a.length;Q++){var oe=a[Q],le=e.position(oe);if(le&&(void 0!==le.row||void 0!==le.col)){var ne={row:le.row,col:le.col};if(void 0===ne.col)for(ne.col=0;G(ne.row,ne.col);)ne.col++;else if(void 0===ne.row)for(ne.row=0;G(ne.row,ne.col);)ne.row++;Y[oe.id()]=ne,j(ne.row,ne.col)}}a.layoutPositions(this,e,function(xe,me){var fe,J;if(xe.locked()||xe.isParent())return!1;var O=Y[xe.id()];if(O)fe=O.col*w+w/2+i.x1,J=O.row*E+E/2+i.y1;else{for(;G(z,ee);)Z();fe=ee*w+w/2+i.x1,J=z*E+E/2+i.y1,j(z,ee),Z()}return{x:fe,y:J}})}return this};var JP={ready:function(){},stop:function(){}};function xf(t){this.options=Ue({},JP,t)}xf.prototype.run=function(){var t=this.options,e=t.eles,r=this;return r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this},xf.prototype.stop=function(){return this};var ek={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function l0(t){this.options=Ue({},ek,t)}l0.prototype.run=function(){var t=this.options,r=t.eles.nodes(),n=Lt(t.positions);return r.layoutPositions(this,t,function(i,o){var l=function a(i){return null==t.positions?function(e){return{x:e.x,y:e.y}}(i.position()):n?t.positions(i):t.positions[i._private.data.id]??null}(i);return!i.locked()&&null!=l&&l}),this};var tk={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function u0(t){this.options=Ue({},tk,t)}u0.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Mr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return r.nodes().layoutPositions(this,t,function(o,l){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}}),this};var rk=[{name:"breadthfirst",impl:t0},{name:"circle",impl:r0},{name:"concentric",impl:n0},{name:"cose",impl:Xl},{name:"grid",impl:s0},{name:"null",impl:xf},{name:"preset",impl:l0},{name:"random",impl:u0}];function c0(t){this.options=t,this.notifications=0}var f0=function(){},d0=function(){throw new Error("A headless instance can not render images")};c0.prototype={recalculateRenderedStyle:f0,notify:function(){this.notifications++},init:f0,isHeadless:function(){return!0},png:d0,jpg:d0};var wf={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,r=function(c,d,p,v,m,y,b){return m.x-p/2-b<=c&&c<=m.x+p/2+b&&m.y-p/2-b<=d&&d<=m.y+p/2+b},n=function(c,d,p,v,m){var y=c*Math.cos(v)-d*Math.sin(v),b=c*Math.sin(v)+d*Math.cos(v);return{x:y*p+m.x,y:b*p+m.y}},a=function(c,d,p,v){for(var m=[],y=0;y<c.length;y+=2)m.push(n(c[y],c[y+1],d,p,v));return m},i=function(c){for(var d=[],p=0;p<c.length;p++){var v=c[p];d.push(v.x,v.y)}return d},o=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},l=function(c,d){ze(d)&&(d=t[d]),t[c]=Ue({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(v,m,y,b,g,_){var w=i(a(this.points,y+2*_,b,g));return zr(v,m,w)},roughCollide:r,draw:function(v,m,y,b){var g=a(this.points,m,y,b);e.arrowShapeImpl("polygon")(v,g)},spacing:function(v){return 0},gap:o},d)};l("none",{collide:wl,roughCollide:wl,draw:Wc,spacing:Nv,gap:Nv}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(c,d,p,v,m){var y=a(this.points,d,p,v),b=this.controlPoint,g=n(b[0],b[1],d,p,v);e.arrowShapeImpl(this.name)(c,y,g)},gap:function(c){return.8*o(c)}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,d,p,v,m,y,b){var g=i(a(this.points,p+2*b,v,m)),_=i(a(this.pointsTee,p+2*b,v,m));return zr(c,d,g)||zr(c,d,_)},draw:function(c,d,p,v,m){var y=a(this.points,d,p,v),b=a(this.pointsTee,d,p,v);e.arrowShapeImpl(this.name)(c,y,b)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,d,p,v,m,y,b){var g=m,_=Math.pow(g.x-c,2)+Math.pow(g.y-d,2)<=Math.pow((p+2*b)*this.radius,2),w=i(a(this.points,p+2*b,v,m));return zr(c,d,w)||_},draw:function(c,d,p,v,m){var y=a(this.pointsTr,d,p,v);e.arrowShapeImpl(this.name)(c,y,v.x,v.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,d){var p=this.baseCrossLinePts.slice(),v=d/c;return p[3]=p[3]-v,p[5]=p[5]-v,p},collide:function(c,d,p,v,m,y,b){var g=i(a(this.points,p+2*b,v,m)),_=i(a(this.crossLinePts(p,y),p+2*b,v,m));return zr(c,d,g)||zr(c,d,_)},draw:function(c,d,p,v,m){var y=a(this.points,d,p,v),b=a(this.crossLinePts(d,m),d,p,v);e.arrowShapeImpl(this.name)(c,y,b)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return.525*o(c)}}),l("circle",{radius:.15,collide:function(c,d,p,v,m,y,b){var g=m;return Math.pow(g.x-c,2)+Math.pow(g.y-d,2)<=Math.pow((p+2*b)*this.radius,2)},draw:function(c,d,p,v,m){e.arrowShapeImpl(this.name)(c,v.x,v.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return.95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})}},ui={projectIntoViewport:function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],l=r.pan(),u=r.zoom();return[((t-a)/o-l.x)/u,((e-i)/o-l.y)/u]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=zt.getComputedStyle(t),n=function(_){return parseFloat(r.getPropertyValue(_))},a_left=n("padding-left"),a_right=n("padding-right"),a_top=n("padding-top"),a_bottom=n("padding-bottom"),i_left=n("border-left-width"),i_right=n("border-right-width"),i_top=n("border-top-width"),o=(n("border-bottom-width"),t.clientWidth);return this.containerBB=[e.left+a_left+i_left,e.top+a_top+i_top,o-(a_left+a_right),t.clientHeight-(a_top+a_bottom),e.width/(o+(i_left+i_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]},findNearestElements:function(t,e,r,n){var y,b,a=this,i=this,o=i.getCachedZSortedEles(),l=[],u=i.cy.zoom(),c=i.cy.hasCompoundNodes(),d=(n?24:8)/u,p=(n?8:2)/u,v=(n?8:2)/u,m=1/0;function g(T,D){if(T.isNode()){if(b)return;b=T,l.push(T)}if(T.isEdge()&&(null==D||D<m))if(y){if(y.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value&&y.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value)for(var I=0;I<l.length;I++)if(l[I].isEdge()){l[I]=T,y=T,m=D??m;break}}else l.push(T),y=T,m=D??m}function _(T){var D=T.outerWidth()+2*p,I=T.outerHeight()+2*p,F=D/2,M=I/2,G=T.position();if(G.x-F<=t&&t<=G.x+F&&G.y-M<=e&&e<=G.y+M&&i.nodeShapes[a.getNodeShape(T)].checkPoint(t,e,0,D,I,G.x,G.y))return g(T,0),!0}function w(T){var ee,D=T._private,I=D.rscratch,F=T.pstyle("width").pfValue,M=T.pstyle("arrow-scale").value,G=F/2+d,j=G*G,z=2*G,Q=D.source,oe=D.target;if("segments"===I.edgeType||"straight"===I.edgeType||"haystack"===I.edgeType){for(var Z=I.allpts,Y=0;Y+3<Z.length;Y+=2)if(RA(t,e,Z[Y],Z[Y+1],Z[Y+2],Z[Y+3],z)&&j>(ee=BA(t,e,Z[Y],Z[Y+1],Z[Y+2],Z[Y+3])))return g(T,ee),!0}else if("bezier"===I.edgeType||"multibezier"===I.edgeType||"self"===I.edgeType||"compound"===I.edgeType)for(Z=I.allpts,Y=0;Y+5<I.allpts.length;Y+=4)if(TA(t,e,Z[Y],Z[Y+1],Z[Y+2],Z[Y+3],Z[Y+4],Z[Y+5],z)&&j>(ee=AA(t,e,Z[Y],Z[Y+1],Z[Y+2],Z[Y+3],Z[Y+4],Z[Y+5])))return g(T,ee),!0;Q=Q||D.source,oe=oe||D.target;var le=a.getArrowWidth(F,M),ne=[{name:"source",x:I.arrowStartX,y:I.arrowStartY,angle:I.srcArrowAngle},{name:"target",x:I.arrowEndX,y:I.arrowEndY,angle:I.tgtArrowAngle},{name:"mid-source",x:I.midX,y:I.midY,angle:I.midsrcArrowAngle},{name:"mid-target",x:I.midX,y:I.midY,angle:I.midtgtArrowAngle}];for(Y=0;Y<ne.length;Y++){var ve=ne[Y],ye=i.arrowShapes[T.pstyle(ve.name+"-arrow-shape").value],xe=T.pstyle("width").pfValue;if(ye.roughCollide(t,e,le,ve.angle,{x:ve.x,y:ve.y},xe,d)&&ye.collide(t,e,le,ve.angle,{x:ve.x,y:ve.y},xe,d))return g(T),!0}c&&l.length>0&&(_(Q),_(oe))}function E(T,D,I){return wn(T,D,I)}function R(T,D){var M,I=T._private,F=v;M=D?D+"-":"",T.boundingBox();var G=I.labelBounds[D||"main"],j=T.pstyle(M+"label").value;if("yes"===T.pstyle("text-events").strValue&&j){var ee=E(I.rscratch,"labelX",D),Z=E(I.rscratch,"labelY",D),Y=E(I.rscratch,"labelAngle",D),Q=T.pstyle(M+"text-margin-x").pfValue,oe=T.pstyle(M+"text-margin-y").pfValue,le=G.x1-F-Q,ne=G.x2+F-Q,ve=G.y1-F-oe,ye=G.y2+F-oe;if(Y){var xe=Math.cos(Y),me=Math.sin(Y),fe=function(H,K){return{x:(H-=ee)*xe-(K-=Z)*me+ee,y:H*me+K*xe+Z}},J=fe(le,ve),O=fe(le,ye),S=fe(ne,ve),L=fe(ne,ye);if(zr(t,e,[J.x+Q,J.y+oe,S.x+Q,S.y+oe,L.x+Q,L.y+oe,O.x+Q,O.y+oe]))return g(T),!0}else if(ji(G,t,e))return g(T),!0}}r&&(o=o.interactive);for(var P=o.length-1;P>=0;P--){var k=o[P];k.isNode()?_(k)||R(k):w(k)||R(k)||R(k,"source")||R(k,"target")}return l},getAllInBox:function(t,e,r,n){for(var a=this.getCachedZSortedEles().interactive,i=[],o=Math.min(t,r),l=Math.max(t,r),u=Math.min(e,n),c=Math.max(e,n),d=Mr({x1:t=o,y1:e=u,x2:r=l,y2:n=c}),p=0;p<a.length;p++){var v=a[p];if(v.isNode()){var m=v,y=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Qc(d,y)&&!$v(y,d)&&i.push(m)}else{var b=v,g=b._private,_=g.rscratch;if(null!=_.startX&&null!=_.startY&&!ji(d,_.startX,_.startY)||null!=_.endX&&null!=_.endY&&!ji(d,_.endX,_.endY))continue;if("bezier"===_.edgeType||"multibezier"===_.edgeType||"self"===_.edgeType||"compound"===_.edgeType||"segments"===_.edgeType||"haystack"===_.edgeType){for(var w=g.rstyle.bezierPts||g.rstyle.linePts||g.rstyle.haystackPts,E=!0,R=0;R<w.length;R++)if(!CA(d,w[R])){E=!1;break}E&&i.push(b)}else("haystack"===_.edgeType||"straight"===_.edgeType)&&i.push(b)}}return i}},Ql={calculateArrowAngles:function(t){var u,c,d,p,v,m,e=t._private.rscratch,r="haystack"===e.edgeType,n="bezier"===e.edgeType,a="multibezier"===e.edgeType,i="segments"===e.edgeType,o="compound"===e.edgeType,l="self"===e.edgeType;r?(d=e.haystackPts[0],p=e.haystackPts[1],v=e.haystackPts[2],m=e.haystackPts[3]):(d=e.arrowStartX,p=e.arrowStartY,v=e.arrowEndX,m=e.arrowEndY),_=e.midX,w=e.midY,i?(u=d-e.segpts[0],c=p-e.segpts[1]):a||o||l||n?(u=d-Jt((y=e.allpts)[0],y[2],y[4],.1),c=p-Jt(y[1],y[3],y[5],.1)):(u=d-_,c=p-w),e.srcArrowAngle=Cl(u,c);var _=e.midX,w=e.midY;if(r&&(_=(d+v)/2,w=(p+m)/2),u=v-d,c=m-p,i)if((y=e.allpts).length/2%2==0)u=y[E=y.length/2]-y[R=E-2],c=y[E+1]-y[R+1];else{var E,R,P=2+(E=y.length/2-1);u=y[E]-y[R=E-2],c=y[E+1]-y[R+1]}else if(a||o||l){var T,D,I,F,G,M,j,y=e.allpts;e.ctrlpts.length/2%2==0?(T=Jt(y[M=y.length/2-1],y[G=M+2],y[j=G+2],0),D=Jt(y[M+1],y[G+1],y[j+1],0),I=Jt(y[M],y[G],y[j],1e-4),F=Jt(y[M+1],y[G+1],y[j+1],1e-4)):(T=Jt(y[M=(G=y.length/2-1)-2],y[G],y[j=G+2],.4999),D=Jt(y[M+1],y[G+1],y[j+1],.4999),I=Jt(y[M],y[G],y[j],.5),F=Jt(y[M+1],y[G+1],y[j+1],.5)),u=I-T,c=F-D}if(e.midtgtArrowAngle=Cl(u,c),e.midDispX=u,e.midDispY=c,u*=-1,c*=-1,i&&(y=e.allpts).length/2%2!=0&&(u=-(y[P=2+(E=y.length/2-1)]-y[E]),c=-(y[P+1]-y[E+1])),e.midsrcArrowAngle=Cl(u,c),i)u=v-e.segpts[e.segpts.length-2],c=m-e.segpts[e.segpts.length-1];else if(a||o||l||n){var z=(y=e.allpts).length;u=v-Jt(y[z-6],y[z-4],y[z-2],.9),c=m-Jt(y[z-5],y[z-3],y[z-1],.9)}else u=v-_,c=m-w;e.tgtArrowAngle=Cl(u,c)}};Ql.getArrowWidth=Ql.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(13.37*t,.9),29)*e,r[t+", "+e]=n,n)};var Sr={};function p0(t){var e=[];if(null!=t){for(var r=0;r<t.length;r+=2)e.push({x:t[r],y:t[r+1]});return e}}Sr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=2*Math.random()*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=2*Math.random()*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,l=n.target,u=o.position(),c=l.position(),d=o.width(),p=l.width(),v=o.height(),m=l.height(),b=r.pstyle("haystack-radius").value/2;a.haystackPts=a.allpts=[a.source.x*d*b+u.x,a.source.y*v*b+u.y,a.target.x*p*b+c.x,a.target.y*m*b+c.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},Sr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=e.posPts,a=e.intersectionPts,i=e.vectorNormInverse,o=t.pstyle("edge-distances").value,l=t.pstyle("segment-weights"),u=t.pstyle("segment-distances"),c=Math.min(l.pfValue.length,u.pfValue.length);r.edgeType="segments",r.segpts=[];for(var d=0;d<c;d++){var p=l.pfValue[d],v=u.pfValue[d],m=1-p,b="node-position"===o?n:a,g={x:b.x1*m+b.x2*p,y:b.y1*m+b.y2*p};r.segpts.push(g.x+i.x*v,g.y+i.y*v)}},Sr.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,o=e.srcPos,l=t.pstyle("control-point-distances"),u=l?l.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,d=t.pstyle("loop-sweep").pfValue,p=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var v=r,m=p;n&&(v=0,m=u);var y=c-Math.PI/2,b=y-d/2,g=y+d/2,_=c+"_"+d;v=void 0===i[_]?i[_]=0:++i[_],a.ctrlpts=[o.x+1.4*Math.cos(b)*m*(v/3+1),o.y+1.4*Math.sin(b)*m*(v/3+1),o.x+1.4*Math.cos(g)*m*(v/3+1),o.y+1.4*Math.sin(g)*m*(v/3+1)]},Sr.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,o=e.tgtPos,l=e.srcW,u=e.srcH,c=e.tgtW,d=e.tgtH,p=t.pstyle("control-point-step-size").pfValue,v=t.pstyle("control-point-distances"),y=r,b=p;n&&(y=0,b=v?v.pfValue[0]:void 0);var _={x:i.x-l/2,y:i.y-u/2},w={x:o.x-c/2,y:o.y-d/2},E={x:Math.min(_.x,w.x),y:Math.min(_.y,w.y)},P=Math.max(.5,Math.log(.01*l)),k=Math.max(.5,Math.log(.01*c));a.ctrlpts=[E.x,E.y-(1+Math.pow(50,1.12)/100)*b*(y/3+1)*P,E.x-(1+Math.pow(50,1.12)/100)*b*(y/3+1)*k,E.y]},Sr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},Sr.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,o=e.vectorNormInverse,l=e.posPts,u=e.intersectionPts,c=t.pstyle("edge-distances").value,d=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),v=t.pstyle("control-point-weights"),m=p&&v?Math.min(p.value.length,v.value.length):1,y=p?p.pfValue[0]:void 0,b=v.value[0],g=n;i.edgeType=g?"multibezier":"bezier",i.ctrlpts=[];for(var _=0;_<m;_++){var E,w=(.5-e.eles.length/2+r)*d*(a?-1:1),R=qv(w);g&&(y=p?p.pfValue[_]:d,b=v.value[_]);var P=void 0!==(E=n?y:void 0!==y?R*y:void 0)?E:w,k=1-b,D="node-position"===c?l:u,I={x:D.x1*k+D.x2*b,y:D.y1*k+D.y2*b};i.ctrlpts.push(I.x+o.x*P,I.y+o.y*P)}},Sr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",l="downward",u="upward",d=e.posPts,p=e.srcW,v=e.srcH,m=e.tgtW,y=e.tgtH,g="node-position"!==t.pstyle("edge-distances").value,_=t.pstyle("taxi-direction").value,w=_,E=t.pstyle("taxi-turn"),R="%"===E.units,P=E.pfValue,k=P<0,T=t.pstyle("taxi-turn-min-distance").pfValue,I=g?(v+y)/2:0,F=d.x2-d.x1,M=d.y2-d.y1,G=function(qe,bt){return qe>0?Math.max(qe-bt,0):Math.min(qe+bt,0)},j=G(F,g?(p+m)/2:0),z=G(M,I),ee=!1;"auto"===w?_=Math.abs(j)>Math.abs(z)?a:n:w===u||w===l?(_=n,ee=!0):(w===i||w===o)&&(_=a,ee=!0);var ne,Z=_===n,Y=Z?z:j,Q=Z?M:F,oe=qv(Q),le=!1;(!ee||!R&&!k)&&(w===l&&Q<0||w===u&&Q>0||w===i&&Q>0||w===o&&Q<0)&&(Y=(oe*=-1)*Math.abs(Y),le=!0);var xe=function(qe){return Math.abs(qe)<T||Math.abs(qe)>=Math.abs(Y)},me=xe(ne=R?(P<0?1+P:P)*Y:(P<0?Y:0)+P*oe),fe=xe(Math.abs(Y)-Math.abs(ne));if(!me&&!fe||le)if(Z){var Oe=d.y1+ne+(g?v/2*oe:0);r.segpts=[d.x1,Oe,d.x2,Oe]}else{var et=d.x1+ne+(g?p/2*oe:0);r.segpts=[et,d.y1,et,d.y2]}else if(Z){var O=Math.abs(Q)<=v/2,S=Math.abs(F)<=m/2;if(O){var L=(d.x1+d.x2)/2;r.segpts=[L,d.y1,L,d.y2]}else if(S){var H=(d.y1+d.y2)/2;r.segpts=[d.x1,H,d.x2,H]}else r.segpts=[d.x1,d.y2]}else{var we=Math.abs(Q)<=p/2,te=Math.abs(M)<=y/2;if(we){var B=(d.y1+d.y2)/2;r.segpts=[d.x1,B,d.x2,B]}else if(te){var se=(d.x1+d.x2)/2;r.segpts=[se,d.y1,se,d.y2]}else r.segpts=[d.x2,d.y1]}},Sr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if("bezier"===r.edgeType){var n=e.srcPos,a=e.tgtPos,i=e.srcW,o=e.srcH,l=e.tgtW,u=e.tgtH,c=e.srcShape,d=e.tgtShape,p=!Te(r.startX)||!Te(r.startY),v=!Te(r.arrowStartX)||!Te(r.arrowStartY),m=!Te(r.endX)||!Te(r.endY),y=!Te(r.arrowEndX)||!Te(r.arrowEndY),_=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,w=ni({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),E=w<_,R=ni({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),P=R<_,k=!1;if(p||v||E){k=!0;var T={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},D=Math.sqrt(T.x*T.x+T.y*T.y),I={x:T.x/D,y:T.y/D},F=Math.max(i,o),M={x:r.ctrlpts[0]+2*I.x*F,y:r.ctrlpts[1]+2*I.y*F},G=c.intersectLine(n.x,n.y,i,o,M.x,M.y,0);E?(r.ctrlpts[0]=r.ctrlpts[0]+I.x*(_-w),r.ctrlpts[1]=r.ctrlpts[1]+I.y*(_-w)):(r.ctrlpts[0]=G[0]+I.x*_,r.ctrlpts[1]=G[1]+I.y*_)}if(m||y||P){k=!0;var j={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},z=Math.sqrt(j.x*j.x+j.y*j.y),ee={x:j.x/z,y:j.y/z},Z=Math.max(i,o),Y={x:r.ctrlpts[0]+2*ee.x*Z,y:r.ctrlpts[1]+2*ee.y*Z},Q=d.intersectLine(a.x,a.y,l,u,Y.x,Y.y,0);P?(r.ctrlpts[0]=r.ctrlpts[0]+ee.x*(_-R),r.ctrlpts[1]=r.ctrlpts[1]+ee.y*(_-R)):(r.ctrlpts[0]=Q[0]+ee.x*_,r.ctrlpts[1]=Q[1]+ee.y*_)}k&&this.findEndpoints(t)}},Sr.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);var n;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(e.midX=e.allpts[n=e.allpts.length/2-1],e.midY=e.allpts[n+1]):(e.midX=Jt(e.allpts[n=e.allpts.length/2-3],e.allpts[n+2],e.allpts[n+4],.5),e.midY=Jt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],.5))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4==0){var i=e.segpts.length/2,o=i-2;e.midX=(e.segpts[o]+e.segpts[i])/2,e.midY=(e.segpts[o+1]+e.segpts[i+1])/2}else{var l=e.segpts.length/2-1;e.midX=e.segpts[l],e.midY=e.segpts[l+1]}},Sr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Te(e.startX)&&Te(e.startY)&&Te(e.endX)&&Te(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Ct("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Sr.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var r=this,a=r.cy.hasCompoundNodes(),i={map:new kn,get:function(T){var D=this.map.get(T[0]);return null!=D?D.get(T[1]):null},set:function(T,D){var I=this.map.get(T[0]);null==I&&(I=new kn,this.map.set(T[0],I)),I.set(T[1],D)}},o=[],l=[],u=0;u<t.length;u++){var c=t[u],d=c._private,p=c.pstyle("curve-style").value;if(!c.removed()&&c.takesUpSpace()){if("haystack"===p){l.push(c);continue}var v="unbundled-bezier"===p||"segments"===p||"straight"===p||"taxi"===p,m="unbundled-bezier"===p||"bezier"===p,b=d.target,w=[d.source.poolIndex(),b.poolIndex()].sort(),E=i.get(w);null==E&&(i.set(w,E={eles:[]}),o.push(w)),E.eles.push(c),v&&(E.hasUnbundled=!0),m&&(E.hasBezier=!0)}}for(var R=function(T){var I=i.get(o[T]),F=void 0;if(!I.hasUnbundled){var M=I.eles[0].parallelEdges().filter(function(Ge){return Ge.isBundledBezier()});Yc(I.eles),M.forEach(function(Ge){return I.eles.push(Ge)}),I.eles.sort(function(Ge,Oe){return Ge.poolIndex()-Oe.poolIndex()})}var G=I.eles[0],j=G.source(),z=G.target();if(j.poolIndex()>z.poolIndex()){var ee=j;j=z,z=ee}var Z=I.srcPos=j.position(),Y=I.tgtPos=z.position(),Q=I.srcW=j.outerWidth(),oe=I.srcH=j.outerHeight(),le=I.tgtW=z.outerWidth(),ne=I.tgtH=z.outerHeight(),ve=I.srcShape=r.nodeShapes[e.getNodeShape(j)],ye=I.tgtShape=r.nodeShapes[e.getNodeShape(z)];I.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var xe=0;xe<I.eles.length;xe++){var me=I.eles[xe],fe=me[0]._private.rscratch,J=me.pstyle("curve-style").value,O="unbundled-bezier"===J||"segments"===J||"taxi"===J,S=!j.same(me.source());if(!I.calculatedIntersection&&j!==z&&(I.hasBezier||I.hasUnbundled)){I.calculatedIntersection=!0;var L=ve.intersectLine(Z.x,Z.y,Q,oe,Y.x,Y.y,0),q=I.srcIntn=L,V=ye.intersectLine(Y.x,Y.y,le,ne,Z.x,Z.y,0),H=I.tgtIntn=V,K=I.intersectionPts={x1:L[0],x2:V[0],y1:L[1],y2:V[1]},pe=I.posPts={x1:Z.x,x2:Y.x,y1:Z.y,y2:Y.y},we=V[1]-L[1],te=V[0]-L[0],B=Math.sqrt(te*te+we*we),ae=I.vector={x:te,y:we},he=I.vectorNorm={x:ae.x/B,y:ae.y/B},se={x:-he.y,y:he.x};I.nodesOverlap=!Te(B)||ye.checkPoint(L[0],L[1],0,le,ne,Y.x,Y.y)||ve.checkPoint(V[0],V[1],0,Q,oe,Z.x,Z.y),I.vectorNormInverse=se,F={nodesOverlap:I.nodesOverlap,dirCounts:I.dirCounts,calculatedIntersection:!0,hasBezier:I.hasBezier,hasUnbundled:I.hasUnbundled,eles:I.eles,srcPos:Y,tgtPos:Z,srcW:le,srcH:ne,tgtW:Q,tgtH:oe,srcIntn:H,tgtIntn:q,srcShape:ye,tgtShape:ve,posPts:{x1:pe.x2,y1:pe.y2,x2:pe.x1,y2:pe.y1},intersectionPts:{x1:K.x2,y1:K.y2,x2:K.x1,y2:K.y1},vector:{x:-ae.x,y:-ae.y},vectorNorm:{x:-he.x,y:-he.y},vectorNormInverse:{x:-se.x,y:-se.y}}}var ce=S?F:I;fe.nodesOverlap=ce.nodesOverlap,fe.srcIntn=ce.srcIntn,fe.tgtIntn=ce.tgtIntn,a&&(j.isParent()||j.isChild()||z.isParent()||z.isChild())&&(j.parents().anySame(z)||z.parents().anySame(j)||j.same(z)&&j.isParent())?e.findCompoundLoopPoints(me,ce,xe,O):j===z?e.findLoopPoints(me,ce,xe,O):"segments"===J?e.findSegmentsPoints(me,ce):"taxi"===J?e.findTaxiPoints(me,ce):"straight"===J||!O&&I.eles.length%2==1&&xe===Math.floor(I.eles.length/2)?e.findStraightEdgePoints(me):e.findBezierPoints(me,ce,xe,O,S),e.findEndpoints(me),e.tryToCorrectInvalidPoints(me,ce),e.checkForInvalidEdgeWarning(me),e.storeAllpts(me),e.storeEdgeProjections(me),e.calculateArrowAngles(me),e.recalculateEdgeLabelProjections(me),e.calculateLabelAngles(me)}},P=0;P<o.length;P++)R(P);this.findHaystackPoints(l)}},Sr.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return this.recalculateRenderedStyle(t),p0(e.segpts)},Sr.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if("bezier"===r||"multibezier"===r||"self"===r||"compound"===r)return this.recalculateRenderedStyle(t),p0(e.ctrlpts)},Sr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var us={manualEndptToPx:function(t,e){var n=t.position(),a=t.outerWidth(),i=t.outerHeight();if(2===e.value.length){var o=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(o[0]=o[0]*a),"%"===e.units[1]&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}var l=e.pfValue[0];l=-Math.PI/2+l;var u=2*Math.max(a,i),c=[n.x+Math.cos(l)*u,n.y+Math.sin(l)*u];return this.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,c[0],c[1],0)},findEndpoints:function(t){var r,F,M,G,j,e=this,n=t.source()[0],a=t.target()[0],i=n.position(),o=a.position(),l=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,c=t.pstyle("target-distance-from-node").pfValue,d=t.pstyle("source-distance-from-node").pfValue,p=t.pstyle("curve-style").value,v=t._private.rscratch,m=v.edgeType,b="self"===m||"compound"===m,g="bezier"===m||"multibezier"===m||b,_="bezier"!==m,w="straight"===m||"segments"===m,E="segments"===m,R=g||_||w,P=b||"taxi"===p,k=t.pstyle("source-endpoint"),T=P?"outside-to-node":k.value,D=t.pstyle("target-endpoint"),I=P?"outside-to-node":D.value;if(v.srcManEndpt=k,v.tgtManEndpt=D,g){var z=[v.ctrlpts[0],v.ctrlpts[1]];F=_?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:z,M=z}else if(w){var Z=E?v.segpts.slice(0,2):[o.x,o.y];F=E?v.segpts.slice(v.segpts.length-2):[i.x,i.y],M=Z}if("inside-to-node"===I)r=[o.x,o.y];else if(D.units)r=this.manualEndptToPx(a,D);else if("outside-to-line"===I)r=v.tgtIntn;else if("outside-to-node"===I||"outside-to-node-or-label"===I?G=F:("outside-to-line"===I||"outside-to-line-or-label"===I)&&(G=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(o.x,o.y,a.outerWidth(),a.outerHeight(),G[0],G[1],0),"outside-to-node-or-label"===I||"outside-to-line-or-label"===I){var Q=a._private.rscratch,ne=Q.labelX,ve=Q.labelY,ye=Q.labelWidth/2,xe=Q.labelHeight/2,me=a.pstyle("text-valign").value;"top"===me?ve-=xe:"bottom"===me&&(ve+=xe);var fe=a.pstyle("text-halign").value;"left"===fe?ne-=ye:"right"===fe&&(ne+=ye);var J=Ko(G[0],G[1],[ne-ye,ve-xe,ne+ye,ve-xe,ne+ye,ve+xe,ne-ye,ve+xe],o.x,o.y);if(J.length>0){var O=i,S=ai(O,$i(r)),L=ai(O,$i(J)),q=S;L<S&&(r=J,q=L),J.length>2&&ai(O,{x:J[2],y:J[3]})<q&&(r=[J[2],J[3]])}}var H=Tl(r,F,e.arrowShapes[l].spacing(t)+c),K=Tl(r,F,e.arrowShapes[l].gap(t)+c);if(v.endX=K[0],v.endY=K[1],v.arrowEndX=H[0],v.arrowEndY=H[1],"inside-to-node"===T)r=[i.x,i.y];else if(k.units)r=this.manualEndptToPx(n,k);else if("outside-to-line"===T)r=v.srcIntn;else if("outside-to-node"===T||"outside-to-node-or-label"===T?j=M:("outside-to-line"===T||"outside-to-line-or-label"===T)&&(j=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),j[0],j[1],0),"outside-to-node-or-label"===T||"outside-to-line-or-label"===T){var pe=n._private.rscratch,B=pe.labelX,ae=pe.labelY,he=pe.labelWidth/2,se=pe.labelHeight/2,ce=n.pstyle("text-valign").value;"top"===ce?ae-=se:"bottom"===ce&&(ae+=se);var Ge=n.pstyle("text-halign").value;"left"===Ge?B-=he:"right"===Ge&&(B+=he);var Oe=Ko(j[0],j[1],[B-he,ae-se,B+he,ae-se,B+he,ae+se,B-he,ae+se],i.x,i.y);if(Oe.length>0){var Le=o,nt=ai(Le,$i(r)),et=ai(Le,$i(Oe)),He=nt;et<nt&&(r=[Oe[0],Oe[1]],He=et),Oe.length>2&&ai(Le,{x:Oe[2],y:Oe[3]})<He&&(r=[Oe[2],Oe[3]])}}var $e=Tl(r,M,e.arrowShapes[u].spacing(t)+d),qe=Tl(r,M,e.arrowShapes[u].gap(t)+d);v.startX=qe[0],v.startY=qe[1],v.arrowStartX=$e[0],v.arrowStartY=$e[1],R&&(v.badLine=!(Te(v.startX)&&Te(v.startY)&&Te(v.endX)&&Te(v.endY)))},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(t),e.edgeType)?{x:e.haystackPts[0],y:e.haystackPts[1]}:{x:e.arrowStartX,y:e.arrowStartY}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(t),e.edgeType)?{x:e.haystackPts[2],y:e.haystackPts[3]}:{x:e.arrowEndX,y:e.arrowEndY}}},Of={};function nk(t,e,r){for(var n=function(c,d,p,v){return Jt(c,d,p,v)},i=e._private.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var l=t.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}Of.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===n||"bezier"===n||"self"===n||"compound"===n){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)nk(this,t,r.allpts.slice(a,a+6))}else if("segments"===n){var i=e.rstyle.linePts=[];for(a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]})}else if("haystack"===n){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},Of.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Nn={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!ya(e)){var r,n,a=t._private,i=t.width(),o=t.height(),l=t.padding(),u=t.position(),c=t.pstyle("text-halign").strValue,d=t.pstyle("text-valign").strValue,p=a.rscratch,v=a.rstyle;switch(c){case"left":r=u.x-i/2-l;break;case"right":r=u.x+i/2+l;break;default:r=u.x}switch(d){case"top":n=u.y-o/2-l;break;case"bottom":n=u.y+o/2+l;break;default:n=u.y}p.labelX=r,p.labelY=n,v.labelX=r,v.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}}},h0=function(e,r){var n=Math.atan(r/e);return 0===e&&n<0&&(n*=-1),n},v0=function(e,r){return h0(r.x-e.x,r.y-e.y)};Nn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){var o=function(p,v,m){xa(r.rscratch,p,v,m),xa(r.rstyle,p,v,m)};o("labelX",null,(e={x:n.midX,y:n.midY}).x),o("labelY",null,e.y);var l=h0(n.midDispX,n.midDispY);o("labelAutoAngle",null,l);var u=function d(){if(d.cache)return d.cache;for(var p=[],v=0;v+5<n.allpts.length;v+=4)p.push({p0:{x:n.allpts[v],y:n.allpts[v+1]},p1:{x:n.allpts[v+2],y:n.allpts[v+3]},p2:{x:n.allpts[v+4],y:n.allpts[v+5]},startDist:0,length:0,segments:[]});var g=r.rstyle.bezierPts,_=a.bezierProjPcts.length;function w(T,D,I,F,M){var G=ni(D,I),j=T.segments[T.segments.length-1];T.segments.push({p0:D,p1:I,t0:F,t1:M,startDist:j?j.startDist+j.length:0,length:G}),T.length+=G}for(var E=0;E<p.length;E++){var R=p[E],P=p[E-1];P&&(R.startDist=P.startDist+P.length),w(R,R.p0,g[E*_],0,a.bezierProjPcts[0]);for(var k=0;k<_-1;k++)w(R,g[E*_+k],g[E*_+k+1],a.bezierProjPcts[k],a.bezierProjPcts[k+1]);w(R,g[E*_+_-1],R.p2,a.bezierProjPcts[_-1],1)}return d.cache=p},c=function(p){var v,m="source"===p;if(i[p]){var y=t.pstyle(p+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var g,b=u(),_=0,w=0,E=0;E<b.length;E++){for(var R=b[m?E:b.length-1-E],P=0;P<R.segments.length;P++){var k=R.segments[m?P:R.segments.length-1-P];if(_=w,(w+=k.length)>=y||E===b.length-1&&P===R.segments.length-1){g={cp:R,segment:k};break}}if(g)break}var D=g.cp,I=g.segment,F=(y-_)/I.length,M=I.t1-I.t0,G=m?I.t0+M*F:I.t1-M*F;G=Wo(0,G,1),e=Ui(D.p0,D.p1,D.p2,G),v=function(e,r,n,a){var i=Wo(0,a-.001,1),o=Wo(0,a+.001,1),l=Ui(e,r,n,i),u=Ui(e,r,n,o);return v0(l,u)}(D.p0,D.p1,D.p2,G);break;case"straight":case"segments":case"haystack":for(var z,ee,Z,Y,j=0,Q=n.allpts.length,oe=0;oe+3<Q&&(m?(Z={x:n.allpts[oe],y:n.allpts[oe+1]},Y={x:n.allpts[oe+2],y:n.allpts[oe+3]}):(Z={x:n.allpts[Q-2-oe],y:n.allpts[Q-1-oe]},Y={x:n.allpts[Q-4-oe],y:n.allpts[Q-3-oe]}),ee=j,!((j+=z=ni(Z,Y))>=y));oe+=2);var ne=(y-ee)/z;ne=Wo(0,ne,1),e=function(e,r,n,a){var i_x=r.x-e.x,i_y=r.y-e.y,o=ni(e,r);return n=n??0,{x:e.x+i_x/o*(a=a??n*o),y:e.y+i_y/o*a}}(Z,Y,ne),v=v0(Z,Y)}o("labelX",p,e.x),o("labelY",p,e.y),o("labelAutoAngle",p,v)}};c("source"),c("target"),this.applyLabelDimensions(t)}},Nn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},Nn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=this.calculateLabelDimensions(t,n),i=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,l=wn(r.rscratch,"labelWrapCachedLines",e)||[],u="wrap"!==o?1:Math.max(l.length,1),c=a.height/u,d=c*i,p=a.width,v=a.height+(u-1)*(i-1)*c;xa(r.rstyle,"labelWidth",e,p),xa(r.rscratch,"labelWidth",e,p),xa(r.rstyle,"labelHeight",e,v),xa(r.rscratch,"labelHeight",e,v),xa(r.rscratch,"labelLineHeight",e,d)},Nn.getLabelText=function(t,e){var r=t._private,a=t.pstyle((e?e+"-":"")+"label").strValue,i=t.pstyle("text-transform").value,o=function(le,ne){return ne?(xa(r.rscratch,le,e,ne),ne):wn(r.rscratch,le,e)};if(!a)return"";"none"==i||("uppercase"==i?a=a.toUpperCase():"lowercase"==i&&(a=a.toLowerCase()));var l=t.pstyle("text-wrap").value;if("wrap"===l){var u=o("labelKey");if(null!=u&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var d=a.split("\n"),p=t.pstyle("text-max-width").pfValue,m="anywhere"===t.pstyle("text-overflow-wrap").value,y=[],b=/[\s\u200b]+/,g=m?"":" ",_=0;_<d.length;_++){var w=d[_],R=this.calculateLabelDimensions(t,w).width;if(m){var P=w.split("").join("\u200b");w=P}if(R>p){for(var k=w.split(b),T="",D=0;D<k.length;D++){var I=k[D];this.calculateLabelDimensions(t,0===T.length?I:T+g+I).width<=p?T+=I+g:(T&&y.push(T),T=I+g)}T.match(/^[\s\u200b]+$/)||y.push(T)}else y.push(w)}o("labelWrapCachedLines",y),a=o("labelWrapCachedText",y.join("\n")),o("labelWrapKey",u)}else if("ellipsis"===l){var j=t.pstyle("text-max-width").pfValue,z="",Z=!1;if(this.calculateLabelDimensions(t,a).width<j)return a;for(var Y=0;Y<a.length&&!(this.calculateLabelDimensions(t,z+a[Y]+"\u2026").width>j);Y++)z+=a[Y],Y===a.length-1&&(Z=!0);return Z||(z+="\u2026"),z}return a},Nn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if("auto"!==e)return e;if(!t.isNode())return"center";switch(r){case"left":return"right";case"right":return"left";default:return"center"}},Nn.calculateLabelDimensions=function(t,e){var n=ri(e,t._private.labelDimsKey),a=this.labelDimCache||(this.labelDimCache=[]),i=a[n];if(null!=i)return i;var l=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue,c=t.pstyle("font-family").strValue,d=t.pstyle("font-weight").strValue,p=this.labelCalcCanvas,v=this.labelCalcCanvasContext;if(!p){p=this.labelCalcCanvas=document.createElement("canvas"),v=this.labelCalcCanvasContext=p.getContext("2d");var m=p.style;m.position="absolute",m.left="-9999px",m.top="-9999px",m.zIndex="-1",m.visibility="hidden",m.pointerEvents="none"}v.font="".concat(l," ").concat(d," ").concat(u,"px ").concat(c);for(var y=0,b=0,g=e.split("\n"),_=0;_<g.length;_++){var E=v.measureText(g[_]),R=Math.ceil(E.width),P=u;y=Math.max(R,y),b+=P}return a[n]={width:y+=0,height:b+=0}},Nn.calculateLabelAngle=function(t,e){var n=t._private.rscratch,a=t.isEdge(),o=t.pstyle((e?e+"-":"")+"text-rotation"),l=o.strValue;return"none"===l?0:a&&"autorotate"===l?n.labelAutoAngle:"autorotate"===l?0:o.pfValue},Nn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),a=t._private.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var g0={},y0=!1;g0.getNodeShape=function(t){var r=t.pstyle("shape").value;if("cutrectangle"===r&&(t.width()<28||t.height()<28))return y0||(Ct("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),y0=!0),"rectangle";if(t.isParent())return"rectangle"===r||"roundrectangle"===r||"round-rectangle"===r||"cutrectangle"===r||"cut-rectangle"===r||"barrel"===r?r:"rectangle";if("polygon"===r){var n=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return r};var eu={updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var a=(n=t[r])._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(r=0;r<e.length;r++){var n;t.drag.push(n=e[r])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(qg),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}},b0={};[ui,Ql,Sr,us,Of,Nn,g0,{registerCalculationListeners:function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(o),l)for(var u=0;u<o.length;u++){var p=o[u]._private.rstyle;p.clean=!1,p.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){n(o.target)}).on("style.* background.*",function(o){n(o.target,!1)});var a=function(o){if(o){var l=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var c=e[u],d=c._private.rstyle;c.isNode()&&!d.cleanConnected&&(n(c.connectedEdges()),d.cleanConnected=!0)}if(l)for(var p=0;p<l.length;p++)(0,l[p])(o,e);r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var r=function(R){return R._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){void 0===e&&(e=!0);for(var i=0;i<t.length;i++){var o=t[i],l=o._private,u=l.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(u.clean=!1),!(e&&u.clean||o.removed())&&"none"!==o.pstyle("display").value&&("nodes"===l.group?a.push(o):n.push(o),u.clean=!0)}for(var c=0;c<a.length;c++){var d=a[c],v=d._private.rstyle,m=d.position();this.recalculateNodeLabelProjection(d),v.nodeX=m.x,v.nodeY=m.y,v.nodeW=d.pstyle("width").pfValue,v.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var y=0;y<n.length;y++){var g=n[y]._private,_=g.rstyle,w=g.rscratch;_.srcX=w.arrowStartX,_.srcY=w.arrowStartY,_.tgtX=w.arrowEndX,_.tgtY=w.arrowEndY,_.midX=w.midX,_.midY=w.midY,_.labelAngle=w.labelAngle,_.sourceLabelAngle=w.sourceLabelAngle,_.targetLabelAngle=w.targetLabelAngle}}}},eu].forEach(function(t){Ue(b0,t)});var _0={getCachedImage:function(t,e,r){var a=this.imageCache=this.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;var o=(i=a[t]=a[t]||{}).image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});return"data:"===t.substring(0,5).toLowerCase()||(o.crossOrigin=e),o.src=t,o}},ao={registerBinding:function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]),i=this.binder(t);return i.on.apply(i,a)},binder:function(t){var e=this,r=t===window||t===document||t===document.body||function(e){return!(typeof HTMLElement>"u")&&e instanceof HTMLElement}(t);if(null==e.supportsPassiveEvents){var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=n}var i=function(l,u,c){var d=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(d[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this};return{on:i,addEventListener:i,addListener:i,bind:i}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()}};ao.load=function(){var t=this,e=function(B){return B.selected()},r=function(B,ae,he,se){null==B&&(B=t.cy);for(var ce=0;ce<ae.length;ce++)B.emit({originalEvent:he,type:ae[ce],position:se})},n=function(B){return B.shiftKey||B.metaKey||B.ctrlKey},a=function(B,ae){var he=!0;if(t.cy.hasCompoundNodes()&&B&&B.pannable()){for(var se=0;ae&&se<ae.length;se++)if((B=ae[se]).isNode()&&B.isParent()&&!B.pannable()){he=!1;break}}else he=!0;return he},l=function(B){B[0]._private.rscratch.inDragLayer=!0},c=function(B){B[0]._private.rscratch.isGrabTarget=!0},p=function(B,ae){var he=ae.addToList;he.has(B)||(he.merge(B),function(B){B[0]._private.grabbed=!0}(B))},m=function(B,ae){ae=ae||{};var he=B.cy().hasCompoundNodes();ae.inDragLayer&&(B.forEach(l),B.neighborhood().stdFilter(function(se){return!he||se.isEdge()}).forEach(l)),ae.addToList&&B.forEach(function(se){p(se,ae)}),function(B,ae){if(B.cy().hasCompoundNodes()&&(null!=ae.inDragLayer||null!=ae.addToList)){var he=B.descendants();ae.inDragLayer&&(he.forEach(l),he.connectedEdges().forEach(l)),ae.addToList&&ae.addToList.unmerge(he)}}(B,ae),g(B,{inDragLayer:ae.inDragLayer}),t.updateCachedGrabbedEles()},y=m,b=function(B){B&&(t.getCachedZSortedEles().forEach(function(ae){(function(B){B[0]._private.grabbed=!1})(ae),function(B){B[0]._private.rscratch.inDragLayer=!1}(ae),function(B){B[0]._private.rscratch.isGrabTarget=!1}(ae)}),t.updateCachedGrabbedEles())},g=function(B,ae){if((null!=ae.inDragLayer||null!=ae.addToList)&&B.cy().hasCompoundNodes()){var he=B.ancestors().orphans();if(!he.same(B)){var se=he.descendants().spawnSelf().merge(he).unmerge(B).unmerge(B.descendants()),ce=se.connectedEdges();ae.inDragLayer&&(ce.forEach(l),se.forEach(l)),ae.addToList&&se.forEach(function(Ge){p(Ge,ae)})}}},_=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},w=typeof MutationObserver<"u",E=typeof ResizeObserver<"u";w?(t.removeObserver=new MutationObserver(function(te){for(var B=0;B<te.length;B++){var he=te[B].removedNodes;if(he)for(var se=0;se<he.length;se++)if(he[se]===t.container){t.destroy();break}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(te){t.destroy()});var R=ml(function(){t.cy.resize()},100);w&&(t.styleObserver=new MutationObserver(R),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",R),E&&(t.resizeObserver=new ResizeObserver(R),t.resizeObserver.observe(t.container));var k=function(){t.invalidateContainerClientCoordsCache()};(function(B,ae){for(;null!=B;)t.registerBinding(te=B,"transitionend",k),t.registerBinding(te,"animationend",k),t.registerBinding(te,"scroll",k),B=B.parentNode;var te})(t.container),t.registerBinding(t.container,"contextmenu",function(te){te.preventDefault()});var D=function(B){for(var ae=t.findContainerClientCoords(),he=ae[0],se=ae[1],ce=ae[2],Ge=ae[3],Oe=B.touches?B.touches:[B],Le=!1,nt=0;nt<Oe.length;nt++){var et=Oe[nt];if(he<=et.clientX&&et.clientX<=he+ce&&se<=et.clientY&&et.clientY<=se+Ge){Le=!0;break}}if(!Le)return!1;for(var He=t.container,$e=B.target.parentNode,qe=!1;$e;){if($e===He){qe=!0;break}$e=$e.parentNode}return!!qe};t.registerBinding(t.container,"mousedown",function(B){if(D(B)){B.preventDefault(),_(),t.hoverData.capture=!0,t.hoverData.which=B.which;var ae=t.cy,he=[B.clientX,B.clientY],se=t.projectIntoViewport(he[0],he[1]),ce=t.selection,Ge=t.findNearestElements(se[0],se[1],!0,!1),Oe=Ge[0],Le=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=se,t.hoverData.mdownGPos=he,3==B.which){t.hoverData.cxtStarted=!0;var et={originalEvent:B,type:"cxttapstart",position:{x:se[0],y:se[1]}};Oe?(Oe.activate(),Oe.emit(et),t.hoverData.down=Oe):ae.emit(et),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==B.which){if(Oe&&Oe.activate(),null!=Oe&&t.nodeIsGrabbable(Oe)){var He=function(bt){return{originalEvent:B,type:bt,position:{x:se[0],y:se[1]}}};if(c(Oe),Oe.selected()){Le=t.dragData.possibleDragElements=ae.collection();var $e=ae.$(function(qe){return qe.isNode()&&qe.selected()&&t.nodeIsGrabbable(qe)});m($e,{addToList:Le}),Oe.emit(He("grabon")),$e.forEach(function(bt){bt.emit(He("grab"))})}else Le=t.dragData.possibleDragElements=ae.collection(),y(Oe,{addToList:Le}),Oe.emit(He("grabon")).emit(He("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Oe,t.hoverData.downs=Ge,t.hoverData.downTime=(new Date).getTime(),r(Oe,["mousedown","tapstart","vmousedown"],B,{x:se[0],y:se[1]}),null==Oe?(ce[4]=1,t.data.bgActivePosistion={x:se[0],y:se[1]},t.redrawHint("select",!0),t.redraw()):Oe.pannable()&&(ce[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var bt=t.hoverData.down;bt?bt.emit({originalEvent:B,type:"taphold",position:{x:se[0],y:se[1]}}):ae.emit({originalEvent:B,type:"taphold",position:{x:se[0],y:se[1]}})}},t.tapholdDuration)}ce[0]=ce[2]=se[0],ce[1]=ce[3]=se[1]}},!1),t.registerBinding(window,"mousemove",function(B){var Tn;if(t.hoverData.capture||D(B)){var he=!1,se=t.cy,ce=se.zoom(),Ge=[B.clientX,B.clientY],Oe=t.projectIntoViewport(Ge[0],Ge[1]),Le=t.hoverData.mdownPos,nt=t.hoverData.mdownGPos,et=t.selection,He=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(He=t.findNearestElement(Oe[0],Oe[1],!0,!1));var $t,at=t.hoverData.last,$e=t.hoverData.down,qe=[Oe[0]-et[2],Oe[1]-et[3]],bt=t.dragData.possibleDragElements;if(nt){var Ar=Ge[0]-nt[0],Ut=Ge[1]-nt[1];t.hoverData.isOverThresholdDrag=$t=Ar*Ar+Ut*Ut>=t.desktopTapThreshold2}var Rn=n(B);$t&&(t.hoverData.tapholdCancelled=!0),he=!0,r(He,["mousemove","vmousemove","tapdrag"],B,{x:Oe[0],y:Oe[1]});var na=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||se.emit({originalEvent:B,type:"boxstart",position:{x:Oe[0],y:Oe[1]}}),et[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if($t){var Mn={originalEvent:B,type:"cxtdrag",position:{x:Oe[0],y:Oe[1]}};$e?$e.emit(Mn):se.emit(Mn),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||He!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:B,type:"cxtdragout",position:{x:Oe[0],y:Oe[1]}}),t.hoverData.cxtOver=He,He&&He.emit({originalEvent:B,type:"cxtdragover",position:{x:Oe[0],y:Oe[1]}}))}}else if(t.hoverData.dragging){if(he=!0,se.panningEnabled()&&se.userPanningEnabled()){var Da;if(t.hoverData.justStartedPan){var po=t.hoverData.mdownPos;Da={x:(Oe[0]-po[0])*ce,y:(Oe[1]-po[1])*ce},t.hoverData.justStartedPan=!1}else Da={x:qe[0]*ce,y:qe[1]*ce};se.panBy(Da),se.emit("dragpan"),t.hoverData.dragged=!0}Oe=t.projectIntoViewport(B.clientX,B.clientY)}else if(1!=et[4]||null!=$e&&!$e.pannable()){if($e&&$e.pannable()&&$e.active()&&$e.unactivate(),(!$e||!$e.grabbed())&&He!=at&&(at&&r(at,["mouseout","tapdragout"],B,{x:Oe[0],y:Oe[1]}),He&&r(He,["mouseover","tapdragover"],B,{x:Oe[0],y:Oe[1]}),t.hoverData.last=He),$e)if($t){if(se.boxSelectionEnabled()&&Rn)$e&&$e.grabbed()&&(b(bt),$e.emit("freeon"),bt.emit("free"),t.dragData.didDrag&&($e.emit("dragfreeon"),bt.emit("dragfree"))),na();else if($e&&$e.grabbed()&&t.nodeIsDraggable($e)){var _r=!t.dragData.didDrag;_r&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var xr=se.collection();t.hoverData.draggingEles||m(bt,{inDragLayer:!0});var wr={x:0,y:0};if(Te(qe[0])&&Te(qe[1])&&(wr.x+=qe[0],wr.y+=qe[1],_r)){var zn=t.hoverData.dragDelta;zn&&Te(zn[0])&&Te(zn[1])&&(wr.x+=zn[0],wr.y+=zn[1])}for(var Fn=0;Fn<bt.length;Fn++){var qn=bt[Fn];t.nodeIsDraggable(qn)&&qn.grabbed()&&xr.push(qn)}t.hoverData.draggingEles=!0,xr.silentShift(wr).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else 0===(Tn=t.hoverData.dragDelta=t.hoverData.dragDelta||[]).length?(Tn.push(qe[0]),Tn.push(qe[1])):(Tn[0]+=qe[0],Tn[1]+=qe[1]);he=!0}else $t&&(t.hoverData.dragging||!se.boxSelectionEnabled()||!Rn&&se.panningEnabled()&&se.userPanningEnabled()?!t.hoverData.selecting&&se.panningEnabled()&&se.userPanningEnabled()&&a($e,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,et[4]=0,t.data.bgActivePosistion=$i(Le),t.redrawHint("select",!0),t.redraw()):na(),$e&&$e.pannable()&&$e.active()&&$e.unactivate());if(et[2]=Oe[0],et[3]=Oe[1],he)return B.stopPropagation&&B.stopPropagation(),B.preventDefault&&B.preventDefault(),!1}},!1),t.registerBinding(window,"mouseup",function(B){if(t.hoverData.capture){t.hoverData.capture=!1;var he=t.cy,se=t.projectIntoViewport(B.clientX,B.clientY),ce=t.selection,Ge=t.findNearestElement(se[0],se[1],!0,!1),Oe=t.dragData.possibleDragElements,Le=t.hoverData.down,nt=n(B);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Le&&Le.unactivate(),3===t.hoverData.which){var et={originalEvent:B,type:"cxttapend",position:{x:se[0],y:se[1]}};if(Le?Le.emit(et):he.emit(et),!t.hoverData.cxtDragged){var He={originalEvent:B,type:"cxttap",position:{x:se[0],y:se[1]}};Le?Le.emit(He):he.emit(He)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(r(Ge,["mouseup","tapend","vmouseup"],B,{x:se[0],y:se[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&r(Le,["click","tap","vclick"],B,{x:se[0],y:se[1]}),null==Le&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!n(B)&&(he.$(e).unselect(["tapunselect"]),Oe.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Oe=he.collection()),Ge==Le&&!t.dragData.didDrag&&!t.hoverData.selecting&&null!=Ge&&Ge._private.selectable&&(t.hoverData.dragging||("additive"===he.selectionType()||nt?Ge.selected()?Ge.unselect(["tapunselect"]):Ge.select(["tapselect"]):nt||(he.$(e).unmerge(Ge).unselect(["tapunselect"]),Ge.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var at=he.collection(t.getAllInBox(ce[0],ce[1],ce[2],ce[3]));t.redrawHint("select",!0),at.length>0&&t.redrawHint("eles",!0),he.emit({type:"boxend",originalEvent:B,position:{x:se[0],y:se[1]}}),"additive"===he.selectionType()||nt||he.$(e).unmerge(at).unselect(),at.emit("box").stdFilter(function($t){return $t.selectable()&&!$t.selected()}).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ce[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var qe=Le&&Le.grabbed();b(Oe),qe&&(Le.emit("freeon"),Oe.emit("free"),t.dragData.didDrag&&(Le.emit("dragfreeon"),Oe.emit("dragfree")))}}ce[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var I=function(B){if(!t.scrollingPage){var ae=t.cy,he=ae.zoom(),se=ae.pan(),ce=t.projectIntoViewport(B.clientX,B.clientY),Ge=[ce[0]*he+se.x,ce[1]*he+se.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4])return void B.preventDefault();if(ae.panningEnabled()&&ae.userPanningEnabled()&&ae.zoomingEnabled()&&ae.userZoomingEnabled()){var Oe;B.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150),Oe=null!=B.deltaY?B.deltaY/-250:null!=B.wheelDeltaY?B.wheelDeltaY/1e3:B.wheelDelta/1e3,Oe*=t.wheelSensitivity,1===B.deltaMode&&(Oe*=33);var nt=ae.zoom()*Math.pow(10,Oe);"gesturechange"===B.type&&(nt=t.gestureStartZoom*B.scale),ae.zoom({level:nt,renderedPosition:{x:Ge[0],y:Ge[1]}}),ae.emit("gesturechange"===B.type?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",I,!0),t.registerBinding(window,"scroll",function(B){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(B){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||B.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(te){t.hasTouchStarted||I(te)},!0),t.registerBinding(t.container,"mouseout",function(B){var ae=t.projectIntoViewport(B.clientX,B.clientY);t.cy.emit({originalEvent:B,type:"mouseout",position:{x:ae[0],y:ae[1]}})},!1),t.registerBinding(t.container,"mouseover",function(B){var ae=t.projectIntoViewport(B.clientX,B.clientY);t.cy.emit({originalEvent:B,type:"mouseover",position:{x:ae[0],y:ae[1]}})},!1);var F,M,G,j,z,ee,Z,Y,Q,oe,le,ne,ve,me,fe,J,O,ye=function(B,ae,he,se){return Math.sqrt((he-B)*(he-B)+(se-ae)*(se-ae))},xe=function(B,ae,he,se){return(he-B)*(he-B)+(se-ae)*(se-ae)};if(t.registerBinding(t.container,"touchstart",me=function(B){if(t.hasTouchStarted=!0,D(B)){_(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ae=t.cy,he=t.touchData.now,se=t.touchData.earlier;if(B.touches[0]){var ce=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY);he[0]=ce[0],he[1]=ce[1]}if(B.touches[1]&&(ce=t.projectIntoViewport(B.touches[1].clientX,B.touches[1].clientY),he[2]=ce[0],he[3]=ce[1]),B.touches[2]&&(ce=t.projectIntoViewport(B.touches[2].clientX,B.touches[2].clientY),he[4]=ce[0],he[5]=ce[1]),B.touches[1]){t.touchData.singleTouchMoved=!0,b(t.dragData.touchDragEles);var Ge=t.findContainerClientCoords();le=Ge[2],ne=Ge[3],M=B.touches[0].clientY-(oe=Ge[1]),G=B.touches[1].clientX-(Q=Ge[0]),j=B.touches[1].clientY-oe,ve=0<=(F=B.touches[0].clientX-Q)&&F<=le&&0<=G&&G<=le&&0<=M&&M<=ne&&0<=j&&j<=ne;var Oe=ae.pan(),Le=ae.zoom();if(z=ye(F,M,G,j),ee=xe(F,M,G,j),Y=[((Z=[(F+G)/2,(M+j)/2])[0]-Oe.x)/Le,(Z[1]-Oe.y)/Le],ee<4e4&&!B.touches[2]){var He=t.findNearestElement(he[0],he[1],!0,!0),at=t.findNearestElement(he[2],he[3],!0,!0);return He&&He.isNode()?(He.activate().emit({originalEvent:B,type:"cxttapstart",position:{x:he[0],y:he[1]}}),t.touchData.start=He):at&&at.isNode()?(at.activate().emit({originalEvent:B,type:"cxttapstart",position:{x:he[0],y:he[1]}}),t.touchData.start=at):ae.emit({originalEvent:B,type:"cxttapstart",position:{x:he[0],y:he[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(B.touches[2])ae.boxSelectionEnabled()&&B.preventDefault();else if(!B.touches[1]&&B.touches[0]){var $e=t.findNearestElements(he[0],he[1],!0,!0),qe=$e[0];if(null!=qe&&(qe.activate(),t.touchData.start=qe,t.touchData.starts=$e,t.nodeIsGrabbable(qe))){var bt=t.dragData.touchDragEles=ae.collection(),$t=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),qe.selected()?($t=ae.$(function(cr){return cr.selected()&&t.nodeIsGrabbable(cr)}),m($t,{addToList:bt})):y(qe,{addToList:bt}),c(qe);var Ar=function(Rn){return{originalEvent:B,type:Rn,position:{x:he[0],y:he[1]}}};qe.emit(Ar("grabon")),$t?$t.forEach(function(cr){cr.emit(Ar("grab"))}):qe.emit(Ar("grab"))}r(qe,["touchstart","tapstart","vmousedown"],B,{x:he[0],y:he[1]}),null==qe&&(t.data.bgActivePosistion={x:ce[0],y:ce[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){!1===t.touchData.singleTouchMoved&&!t.pinching&&!t.touchData.selecting&&r(t.touchData.start,["taphold"],B,{x:he[0],y:he[1]})},t.tapholdDuration)}if(B.touches.length>=1){for(var Br=t.touchData.startPosition=[],Ut=0;Ut<he.length;Ut++)Br[Ut]=se[Ut]=he[Ut];var br=B.touches[0];t.touchData.startGPosition=[br.clientX,br.clientY]}}},!1),t.registerBinding(window,"touchmove",fe=function(B){var ae=t.touchData.capture;if(ae||D(B)){var he=t.selection,se=t.cy,ce=t.touchData.now,Ge=t.touchData.earlier,Oe=se.zoom();if(B.touches[0]){var Le=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY);ce[0]=Le[0],ce[1]=Le[1]}B.touches[1]&&(Le=t.projectIntoViewport(B.touches[1].clientX,B.touches[1].clientY),ce[2]=Le[0],ce[3]=Le[1]),B.touches[2]&&(Le=t.projectIntoViewport(B.touches[2].clientX,B.touches[2].clientY),ce[4]=Le[0],ce[5]=Le[1]);var et,nt=t.touchData.startGPosition;if(ae&&B.touches[0]&&nt){for(var He=[],at=0;at<ce.length;at++)He[at]=ce[at]-Ge[at];var $e=B.touches[0].clientX-nt[0],bt=B.touches[0].clientY-nt[1];et=$e*$e+bt*bt>=t.touchTapThreshold2}if(ae&&t.touchData.cxt){B.preventDefault();var Rn=xe(Br=B.touches[0].clientX-Q,Ut=B.touches[0].clientY-oe,br=B.touches[1].clientX-Q,cr=B.touches[1].clientY-oe);if(Rn/ee>=2.25||Rn>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var aa={originalEvent:B,type:"cxttapend",position:{x:ce[0],y:ce[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(aa),t.touchData.start=null):se.emit(aa)}}if(ae&&t.touchData.cxt){aa={originalEvent:B,type:"cxtdrag",position:{x:ce[0],y:ce[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(aa):se.emit(aa),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var _r=t.findNearestElement(ce[0],ce[1],!0,!0);(!t.touchData.cxtOver||_r!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:B,type:"cxtdragout",position:{x:ce[0],y:ce[1]}}),t.touchData.cxtOver=_r,_r&&_r.emit({originalEvent:B,type:"cxtdragover",position:{x:ce[0],y:ce[1]}}))}else if(ae&&B.touches[2]&&se.boxSelectionEnabled())B.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||se.emit({originalEvent:B,type:"boxstart",position:{x:ce[0],y:ce[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,he[4]=1,he&&0!==he.length&&void 0!==he[0]?(he[2]=(ce[0]+ce[2]+ce[4])/3,he[3]=(ce[1]+ce[3]+ce[5])/3):(he[0]=(ce[0]+ce[2]+ce[4])/3,he[1]=(ce[1]+ce[3]+ce[5])/3,he[2]=(ce[0]+ce[2]+ce[4])/3+1,he[3]=(ce[1]+ce[3]+ce[5])/3+1),t.redrawHint("select",!0),t.redraw();else if(ae&&B.touches[1]&&!t.touchData.didSelect&&se.zoomingEnabled()&&se.panningEnabled()&&se.userZoomingEnabled()&&se.userPanningEnabled()){if(B.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),xr=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var wr=0;wr<xr.length;wr++){var zn=xr[wr]._private;zn.grabbed=!1,zn.rscratch.inDragLayer=!1}}var Br,Ut,br,cr,Fn=t.touchData.start,qn=ye(Br=B.touches[0].clientX-Q,Ut=B.touches[0].clientY-oe,br=B.touches[1].clientX-Q,cr=B.touches[1].clientY-oe),ys=qn/z;if(ve){var ed=(Br-F+(br-G))/2,td=(Ut-M+(cr-j))/2,gi=se.zoom(),bs=gi*ys,ho=se.pan(),_s=Y[0]*gi+ho.x,hu=Y[1]*gi+ho.y,rd={x:-bs/gi*(_s-ho.x-ed)+_s,y:-bs/gi*(hu-ho.y-td)+hu};Fn&&Fn.active()&&(b(xr=t.dragData.touchDragEles),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Fn.unactivate().emit("freeon"),xr.emit("free"),t.dragData.didDrag&&(Fn.emit("dragfreeon"),xr.emit("dragfree"))),se.viewport({zoom:bs,pan:rd,cancelOnFailedZoom:!0}),se.emit("pinchzoom"),z=qn,F=Br,M=Ut,G=br,j=cr,t.pinching=!0}B.touches[0]&&(Le=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY),ce[0]=Le[0],ce[1]=Le[1]),B.touches[1]&&(Le=t.projectIntoViewport(B.touches[1].clientX,B.touches[1].clientY),ce[2]=Le[0],ce[3]=Le[1]),B.touches[2]&&(Le=t.projectIntoViewport(B.touches[2].clientX,B.touches[2].clientY),ce[4]=Le[0],ce[5]=Le[1])}else if(B.touches[0]&&!t.touchData.didSelect){var Xr=t.touchData.start,xs=t.touchData.last;if(!t.hoverData.draggingEles&&!t.swipePanning&&(_r=t.findNearestElement(ce[0],ce[1],!0,!0)),ae&&null!=Xr&&B.preventDefault(),ae&&null!=Xr&&t.nodeIsDraggable(Xr))if(et){var xr=t.dragData.touchDragEles,vu=!t.dragData.didDrag;vu&&m(xr,{inDragLayer:!0}),t.dragData.didDrag=!0;var mi={x:0,y:0};Te(He[0])&&Te(He[1])&&(mi.x+=He[0],mi.y+=He[1],vu)&&(t.redrawHint("eles",!0),(Or=t.touchData.dragDelta)&&Te(Or[0])&&Te(Or[1])&&(mi.x+=Or[0],mi.y+=Or[1])),t.hoverData.draggingEles=!0,xr.silentShift(mi).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ge[0]&&t.touchData.startPosition[1]==Ge[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Or;0===(Or=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(Or.push(He[0]),Or.push(He[1])):(Or[0]+=He[0],Or[1]+=He[1])}if(r(Xr||_r,["touchmove","tapdrag","vmousemove"],B,{x:ce[0],y:ce[1]}),(!Xr||!Xr.grabbed())&&_r!=xs&&(xs&&xs.emit({originalEvent:B,type:"tapdragout",position:{x:ce[0],y:ce[1]}}),_r&&_r.emit({originalEvent:B,type:"tapdragover",position:{x:ce[0],y:ce[1]}})),t.touchData.last=_r,ae)for(wr=0;wr<ce.length;wr++)ce[wr]&&t.touchData.startPosition[wr]&&et&&(t.touchData.singleTouchMoved=!0);ae&&(null==Xr||Xr.pannable())&&se.panningEnabled()&&se.userPanningEnabled()&&(a(Xr,t.touchData.starts)&&(B.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=$i(t.touchData.startPosition)),t.swipePanning?(se.panBy({x:He[0]*Oe,y:He[1]*Oe}),se.emit("dragpan")):et&&(t.swipePanning=!0,se.panBy({x:$e*Oe,y:bt*Oe}),se.emit("dragpan"),Xr&&(Xr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null))),Le=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY),ce[0]=Le[0],ce[1]=Le[1])}for(at=0;at<ce.length;at++)Ge[at]=ce[at];ae&&B.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",J=function(B){var ae=t.touchData.start;t.touchData.capture=!1,ae&&ae.unactivate()}),t.registerBinding(window,"touchend",O=function(B){var ae=t.touchData.start;if(t.touchData.capture){0===B.touches.length&&(t.touchData.capture=!1),B.preventDefault();var se=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var et,ce=t.cy,Ge=ce.zoom(),Oe=t.touchData.now,Le=t.touchData.earlier;if(B.touches[0]){var nt=t.projectIntoViewport(B.touches[0].clientX,B.touches[0].clientY);Oe[0]=nt[0],Oe[1]=nt[1]}if(B.touches[1]&&(nt=t.projectIntoViewport(B.touches[1].clientX,B.touches[1].clientY),Oe[2]=nt[0],Oe[3]=nt[1]),B.touches[2]&&(nt=t.projectIntoViewport(B.touches[2].clientX,B.touches[2].clientY),Oe[4]=nt[0],Oe[5]=nt[1]),ae&&ae.unactivate(),t.touchData.cxt){if(et={originalEvent:B,type:"cxttapend",position:{x:Oe[0],y:Oe[1]}},ae?ae.emit(et):ce.emit(et),!t.touchData.cxtDragged){var He={originalEvent:B,type:"cxttap",position:{x:Oe[0],y:Oe[1]}};ae?ae.emit(He):ce.emit(He)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!B.touches[2]&&ce.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var at=ce.collection(t.getAllInBox(se[0],se[1],se[2],se[3]));se[0]=void 0,se[1]=void 0,se[2]=void 0,se[3]=void 0,se[4]=0,t.redrawHint("select",!0),ce.emit({type:"boxend",originalEvent:B,position:{x:Oe[0],y:Oe[1]}}),at.emit("box").stdFilter(function(Mn){return Mn.selectable()&&!Mn.selected()}).select().emit("boxselect"),at.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ae?.unactivate(),B.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!B.touches[1]&&!B.touches[0]&&!B.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var qe=t.dragData.touchDragEles;if(null!=ae){var bt=ae._private.grabbed;b(qe),t.redrawHint("drag",!0),t.redrawHint("eles",!0),bt&&(ae.emit("freeon"),qe.emit("free"),t.dragData.didDrag&&(ae.emit("dragfreeon"),qe.emit("dragfree"))),r(ae,["touchend","tapend","vmouseup","tapdragout"],B,{x:Oe[0],y:Oe[1]}),ae.unactivate(),t.touchData.start=null}else{var $t=t.findNearestElement(Oe[0],Oe[1],!0,!0);r($t,["touchend","tapend","vmouseup","tapdragout"],B,{x:Oe[0],y:Oe[1]})}var Ar=t.touchData.startPosition[0]-Oe[0],Ut=t.touchData.startPosition[1]-Oe[1],Rn=(Ar*Ar+Ut*Ut)*Ge*Ge;t.touchData.singleTouchMoved||(ae||ce.$(":selected").unselect(["tapunselect"]),r(ae,["tap","vclick"],B,{x:Oe[0],y:Oe[1]})),null!=ae&&!t.dragData.didDrag&&ae._private.selectable&&Rn<t.touchTapThreshold2&&!t.pinching&&("single"===ce.selectionType()?(ce.$(e).unmerge(ae).unselect(["tapunselect"]),ae.select(["tapselect"])):ae.selected()?ae.unselect(["tapunselect"]):ae.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var Gn=0;Gn<Oe.length;Gn++)Le[Gn]=Oe[Gn];t.dragData.didDrag=!1,0===B.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),B.touches.length<2&&(1===B.touches.length&&(t.touchData.startGPosition=[B.touches[0].clientX,B.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),typeof TouchEvent>"u"){var S=[],L=function(B){return{clientX:B.clientX,clientY:B.clientY,force:1,identifier:B.pointerId,pageX:B.pageX,pageY:B.pageY,radiusX:B.width/2,radiusY:B.height/2,screenX:B.screenX,screenY:B.screenY,target:B.target}},H=function(B){for(var ae=0;ae<S.length;ae++)if(S[ae].event.pointerId===B.pointerId)return void S.splice(ae,1)},pe=function(B){B.touches=S.map(function(ae){return ae.touch})},we=function(B){return"mouse"===B.pointerType||4===B.pointerType};t.registerBinding(t.container,"pointerdown",function(te){we(te)||(te.preventDefault(),S.push(function(B){return{event:B,touch:L(B)}}(te)),pe(te),me(te))}),t.registerBinding(t.container,"pointerup",function(te){we(te)||(H(te),pe(te),O(te))}),t.registerBinding(t.container,"pointercancel",function(te){we(te)||(H(te),pe(te),J())}),t.registerBinding(t.container,"pointermove",function(te){var B,ae;we(te)||(te.preventDefault(),B=te,(ae=S.filter(function(he){return he.event.pointerId===B.pointerId})[0]).event=B,ae.touch=L(B),pe(te),fe(te))})}};var ea={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,o,l){this.renderer.nodeShapeImpl("polygon",n,a,i,o,l,this.points)},intersectLine:function(n,a,i,o,l,u,c){return Ko(l,u,this.points,n,a,i/2,o/2,c)},checkPoint:function(n,a,i,o,l,u,c){return Qn(n,a,this.points,u,c,o,l,[0,-1],i)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,l){return function(e,r,n,a,i,o){var l=n-e,u=a-r;l/=i,u/=o;var c=Math.sqrt(l*l+u*u),d=c-1;if(d<0)return[];var p=d/c;return[(n-e)*p+e,(a-r)*p+r]}(i,o,e,r,n/2+l,a/2+l)},checkPoint:function(e,r,n,a,i,o,l){return ii(e,r,a,i,o,l,n)}}},generateRoundPolygon:function(t,e){for(var r=new Array(2*e.length),n=0;n<e.length/2;n++){var i,a=2*n;i=n<e.length/2-1?2*(n+1):0,r[4*n]=e[a],r[4*n+1]=e[a+1];var o=e[i]-e[a],l=e[i+1]-e[a+1],u=Math.sqrt(o*o+l*l);r[4*n+2]=o/u,r[4*n+3]=l/u}return this.nodeShapes[t]={renderer:this,name:t,points:r,draw:function(d,p,v,m,y){this.renderer.nodeShapeImpl("round-polygon",d,p,v,m,y,this.points)},intersectLine:function(d,p,v,m,y,b,g){return function(e,r,n,a,i,o,l,u){for(var d,c=[],p=new Array(n.length),v=o/2,m=l/2,y=tf(o,l),b=0;b<n.length/4;b++){var _,g;g=0===b?n.length-2:4*b-2,_=4*b+2;var w=a+v*n[4*b],E=i+m*n[4*b+1],P=y/Math.tan(Math.acos(-n[g]*n[_]-n[g+1]*n[_+1])/2),k=w-P*n[g],T=E-P*n[g+1],D=w+P*n[_],I=E+P*n[_+1];0===b?(p[n.length-2]=k,p[n.length-1]=T):(p[4*b-2]=k,p[4*b-1]=T),p[4*b]=D,p[4*b+1]=I;var F=n[g+1],M=-n[g];F*n[_]+M*n[_+1]<0&&(F*=-1,M*=-1),0!==(d=Yo(e,r,a,i,k+F*y,T+M*y,y)).length&&c.push(d[0],d[1])}for(var ee=0;ee<p.length/4;ee++)0!==(d=wa(e,r,a,i,p[4*ee],p[4*ee+1],p[4*ee+2],p[4*ee+3],!1)).length&&c.push(d[0],d[1]);if(c.length>2){for(var Z=[c[0],c[1]],Y=Math.pow(Z[0]-e,2)+Math.pow(Z[1]-r,2),Q=1;Q<c.length/2;Q++){var oe=Math.pow(c[2*Q]-e,2)+Math.pow(c[2*Q+1]-r,2);oe<=Y&&(Z[0]=c[2*Q],Z[1]=c[2*Q+1],Y=oe)}return Z}return c}(y,b,this.points,d,p,v,m)},checkPoint:function(d,p,v,m,y,b,g){return function(e,r,n,a,i,o,l){for(var u=new Array(n.length),c=o/2,d=l/2,p=tf(o,l),v=p*p,m=0;m<n.length/4;m++){var b,y;y=0===m?n.length-2:4*m-2,b=4*m+2;var g=a+c*n[4*m],_=i+d*n[4*m+1],E=p/Math.tan(Math.acos(-n[y]*n[b]-n[y+1]*n[b+1])/2),R=g-E*n[y],P=_-E*n[y+1],k=g+E*n[b],T=_+E*n[b+1];u[4*m]=R,u[4*m+1]=P,u[4*m+2]=k,u[4*m+3]=T;var D=n[y+1],I=-n[y];D*n[b]+I*n[b+1]<0&&(D*=-1,I*=-1);var G=P+I*p;if(Math.pow(R+D*p-e,2)+Math.pow(G-r,2)<=v)return!0}return zr(e,r,u)}(d,p,this.points,b,g,m,y)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Tr(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,l){return Uv(i,o,e,r,n,a,l)},checkPoint:function(e,r,n,a,i,o,l){var u=Xo(a,i),c=2*u;return!!(Qn(e,r,this.points,o,l,a,i-c,[0,-1],n)||Qn(e,r,this.points,o,l,a-c,i,[0,-1],n)||ii(e,r,c,c,o-a/2+u,l-i/2+u,n)||ii(e,r,c,c,o+a/2-u,l-i/2+u,n)||ii(e,r,c,c,o+a/2-u,l+i/2-u,n)||ii(e,r,c,c,o-a/2+u,l+i/2-u,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Tr(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},generateCutTrianglePts:function(e,r,n,a){var i=this.cornerLength,o=r/2,l=e/2,u=n-l,c=n+l,d=a-o,p=a+o;return{topLeft:[u,d+i,u+i,d,u+i,d+i],topRight:[c-i,d,c,d+i,c-i,d+i],bottomRight:[c,p-i,c-i,p,c-i,p-i],bottomLeft:[u+i,p,u,p-i,u+i,p-i]}},intersectLine:function(e,r,n,a,i,o,l){var u=this.generateCutTrianglePts(n+2*l,a+2*l,e,r),c=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return Ko(i,o,c,e,r)},checkPoint:function(e,r,n,a,i,o,l){if(Qn(e,r,this.points,o,l,a,i-2*this.cornerLength,[0,-1],n)||Qn(e,r,this.points,o,l,a-2*this.cornerLength,i,[0,-1],n))return!0;var u=this.generateCutTrianglePts(a,i,o,l);return zr(e,r,u.topLeft)||zr(e,r,u.topRight)||zr(e,r,u.bottomRight)||zr(e,r,u.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Tr(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,l){var p=this.generateBarrelBezierPts(n+2*l,a+2*l,e,r),v=function(b){var g=Ui({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},.15),_=Ui({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},.5),w=Ui({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},.85);return[b[0],b[1],g.x,g.y,_.x,_.y,w.x,w.y,b[4],b[5]]},m=[].concat(v(p.topLeft),v(p.topRight),v(p.bottomRight),v(p.bottomLeft));return Ko(i,o,m,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,o=e/2,l=n-o,u=n+o,c=a-i,d=a+i,p=rf(e,r),v=p.heightOffset,m=p.widthOffset,y=p.ctrlPtOffsetPct*e,b={topLeft:[l,c+v,l+y,c,l+m,c],topRight:[u-m,c,u-y,c,u,c+v],bottomRight:[u,d-v,u-y,d,u-m,d],bottomLeft:[l+m,d,l+y,d,l,d-v]};return b.topLeft.isTop=!0,b.topRight.isTop=!0,b.bottomLeft.isBottom=!0,b.bottomRight.isBottom=!0,b},checkPoint:function(e,r,n,a,i,o,l){var u=rf(a,i),d=u.widthOffset;if(Qn(e,r,this.points,o,l,a,i-2*u.heightOffset,[0,-1],n)||Qn(e,r,this.points,o,l,a-2*d,i,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(a,i,o,l),v=function(T,D,I){var F=I[4],M=I[2],G=I[0],j=I[5],z=I[1],ee=Math.min(F,G),Z=Math.max(F,G),Y=Math.min(j,z),Q=Math.max(j,z);if(ee<=T&&T<=Z&&Y<=D&&D<=Q){var oe=function(e,r,n){return[e-2*r+n,2*(r-e),e]}(F,M,G),le=function(e,r,n,a){var i=r*r-4*e*(n-=a);if(i<0)return[];var o=Math.sqrt(i),l=2*e;return[(-r+o)/l,(-r-o)/l]}(oe[0],oe[1],oe[2],T),ne=le.filter(function(ve){return 0<=ve&&ve<=1});if(ne.length>0)return ne[0]}return null},m=Object.keys(p),y=0;y<m.length;y++){var g=p[m[y]],_=v(e,r,g);if(null!=_){var P=Jt(g[5],g[3],g[1],_);if(g.isTop&&P<=r||g.isBottom&&r<=P)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Tr(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,l){var c=r-(a/2+l),v=wa(i,o,e,r,e-(n/2+l),c,e+(n/2+l),c,!1);return v.length>0?v:Uv(i,o,e,r,n,a,l)},checkPoint:function(e,r,n,a,i,o,l){var u=Xo(a,i),c=2*u;if(Qn(e,r,this.points,o,l,a,i-c,[0,-1],n)||Qn(e,r,this.points,o,l,a-c,i,[0,-1],n))return!0;var d=a/2+2*n,p=i/2+2*n;return!!(zr(e,r,[o-d,l-p,o-d,l,o+d,l,o+d,l-p])||ii(e,r,c,c,o+a/2-u,l+i/2-u,n)||ii(e,r,c,c,o-a/2+u,l+i/2-u,n))}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Tr(3,0)),this.generateRoundPolygon("round-triangle",Tr(3,0)),this.generatePolygon("rectangle",Tr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r),this.generatePolygon("pentagon",Tr(5,0)),this.generateRoundPolygon("round-pentagon",Tr(5,0)),this.generatePolygon("hexagon",Tr(6,0)),this.generateRoundPolygon("round-hexagon",Tr(6,0)),this.generatePolygon("heptagon",Tr(7,0)),this.generateRoundPolygon("round-heptagon",Tr(7,0)),this.generatePolygon("octagon",Tr(8,0)),this.generateRoundPolygon("round-octagon",Tr(8,0));var n=new Array(20),a=ef(5,0),i=ef(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var l=0;l<i.length/2;l++)i[2*l]*=o,i[2*l+1]*=o;for(l=0;l<5;l++)n[4*l]=a[2*l],n[4*l+1]=a[2*l+1],n[4*l+2]=i[2*l],n[4*l+3]=i[2*l+1];n=Wv(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u),t.makePolygon=function(c){var v,p="polygon-"+c.join("$");return(v=this[p])?v:e.generatePolygon(p,c)}}},cs={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||Mv();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&Ft("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}}},x0=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};cs.startRenderLoop=function(){var t=this,e=t.cy;t.renderLoopStarted||(t.renderLoopStarted=!0,_l(function n(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){x0(t,!0,a);var i=Zn();t.render(t.renderOptions);var o=t.lastDrawTime=Zn();void 0===t.averageRedrawTime&&(t.averageRedrawTime=o-i),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var l=o-i;t.redrawTotalTime+=l,t.lastRedrawTime=l,t.averageRedrawTime=t.averageRedrawTime/2+l/2,t.requestedFrame=!1}else x0(t,!1,a);t.skipFrame=!1,_l(n)}}))};var w0=function(e){this.init(e)},io=w0.prototype;io.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],io.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container();if(zt){var n=zt.document,a=n.head,i="__________cytoscape_stylesheet",o="__________cytoscape_container",l=null!=n.getElementById(i);if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!l){var u=n.createElement("style");u.id=i,u.innerHTML="."+o+" { position: relative; }",a.insertBefore(u,a.children[0])}"static"===zt.getComputedStyle(r).getPropertyValue("position")&&Ct("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Te(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},io.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if("init"===t)return void r.load();if("destroy"===t)return void r.destroy();("add"===t||"remove"===t||"move"===t&&n.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&r.invalidateCachedZSortedEles(),"viewport"===t&&r.redrawHint("select",!0),("load"===t||"resize"===t||"mount"===t)&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},io.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],a=r.target;(a.off||a.removeEventListener).apply(a,r.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}},io.isHeadless=function(){return!1},[wf,b0,_0,ao,ea,cs].forEach(function(t){Ue(io,t)});var Ef=1e3/60,O0_setupDequeueing=function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=ml(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold);a.beforeRender(function(c,d){var p=Zn(),v=a.averageRedrawTime,m=a.lastRedrawTime,y=[],b=a.cy.extent(),g=a.getPixelRatio();for(c||a.flushRenderedStyleQueue();;){var _=Zn(),w=_-p,E=_-d;if(m<Ef){if(E>=e.deqFastCost*(Ef-(c?v:0)))break}else if(c){if(w>=e.deqCost*m||w>=e.deqAvgCost*v)break}else if(E>=e.deqNoDrawCost*Ef)break;var P=e.deq(n,g,b);if(!(P.length>0))break;for(var k=0;k<P.length;k++)y.push(P[k])}y.length>0&&(e.onDeqd(n,y),!c&&e.shouldRedraw(n,y,g,b)&&i())},(e.priority||Wc)(n))}}},ok=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wl;qc(this,t),this.idsByKey=new kn,this.keyForId=new kn,this.cachesByLvl=new kn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Hc(t,[{key:"getIdsFor",value:function(r){null==r&&Ft("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new Hi,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){null!=r&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){null!=r&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return null==r?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id();return this.keyForId.get(n)!==this.getKey(r)}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new kn,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return null!=i&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id());return this.getCache(a,n)}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||0===this.getNumberOfIdsForKey(a)}}]),t}(),oo={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},xk=ir({getKey:null,doesEleInvalidateKey:wl,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Dv,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),fs=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=xk(r);Ue(n,a),n.lookup=new ok(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Xt=fs.prototype;Xt.reasons=oo,Xt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]},Xt.getRetiredTextureQueue=function(t){var r=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return r[t]=r[t]||[]},Xt.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new zo(function(r,n){return n.reqs-r.reqs})},Xt.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Xt.getElement=function(t,e,r,n,a){var i=this,o=this.renderer,l=o.cy.zoom(),u=this.lookup;if(!e||0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(null==n&&(n=Math.ceil(Xc(l*r))),n<-4)n=-4;else if(l>=7.99||n>3)return null;var c=Math.pow(2,n),d=e.h*c,p=e.w*c,v=o.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,v))return null;var y,m=u.get(t,n);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;if(y=d<=25?25:d<=50?50:50*Math.ceil(d/50),d>1024||p>1024)return null;var b=i.getTextureQueue(y),g=b[b.length-2],_=function(){return i.recycleTexture(y,p)||i.addTexture(y,p)};g||(g=b[b.length-1]),g||(g=_()),g.width-g.usedWidth<p&&(g=_());for(var k,w=function(Z){return Z&&Z.scaledLabelShown===v},E=a&&a===oo.dequeue,R=a&&a===oo.highQuality,P=a&&a===oo.downscale,T=n+1;T<=3;T++){var D=u.get(t,T);if(D){k=D;break}}var I=k&&k.level===n+1?k:null,F=function(){g.context.drawImage(I.texture.canvas,I.x,0,I.width,I.height,g.usedWidth,0,p,d)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,p,y),w(I))F();else if(w(k)){if(!R)return i.queueElement(t,k.level-1),k;for(var M=k.level;M>n;M--)I=i.getElement(t,e,r,M,oo.downscale);F()}else{var G;if(!E&&!R&&!P)for(var j=n-1;j>=-4;j--){var z=u.get(t,j);if(z){G=z;break}}if(w(G))return i.queueElement(t,n),G;g.context.translate(g.usedWidth,0),g.context.scale(c,c),this.drawElement(g.context,t,e,v,!1),g.context.scale(1/c,1/c),g.context.translate(-g.usedWidth,0)}return m={x:g.usedWidth,texture:g,level:n,scale:c,width:p,height:d,scaledLabelShown:v},g.usedWidth+=Math.ceil(p+8),g.eleCaches.push(m),u.set(t,n,m),i.checkTextureFullness(g),m},Xt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Xt.invalidateElement=function(t){var e=this,r=e.lookup,n=[];if(r.isInvalid(t)){for(var i=-4;i<=3;i++){var o=r.getForCachedKey(t,i);o&&n.push(o)}if(r.invalidate(t))for(var u=0;u<n.length;u++){var c=n[u],d=c.texture;d.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(d)}e.removeFromQueue(t)}},Xt.checkTextureUtility=function(t){t.invalidatedWidth>=.2*t.width&&this.retireTexture(t)},Xt.checkTextureFullness=function(t){var r=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?_a(r,t):t.fullnessChecks++},Xt.retireTexture=function(t){var r=t.height,n=this.getTextureQueue(r),a=this.lookup;_a(n,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var l=i[o];a.deleteCache(l.key,l.level)}Yc(i),this.getRetiredTextureQueue(r).push(t)},Xt.addTexture=function(t,e){var a={};return this.getTextureQueue(t).push(a),a.eleCaches=[],a.height=t,a.width=Math.max(1024,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=this.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a},Xt.recycleTexture=function(t,e){for(var n=this.getTextureQueue(t),a=this.getRetiredTextureQueue(t),i=0;i<a.length;i++){var o=a[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Yc(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),_a(a,o),n.push(o),o}},Xt.queueElement=function(t,e){var n=this.getElementQueue(),a=this.getElementKeyToQueue(),i=this.getKey(t),o=a[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var l={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(l),a[i]=l}},Xt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,o=0;o<1&&r.size()>0;o++){var l=r.pop(),u=l.key,c=l.eles[0],d=i.hasCache(c,l.level);if(n[u]=null,!d){a.push(l);var p=e.getBoundingBox(c);e.getElement(c,p,t,l.level,oo.dequeue)}}return a},Xt.removeFromQueue=function(t){var r=this.getElementQueue(),n=this.getElementKeyToQueue(),a=this.getKey(t),i=n[a];null!=i&&(1===i.eles.length?(i.reqs=Vc,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))},Xt.onDequeue=function(t){this.onDequeues.push(t)},Xt.offDequeue=function(t){_a(this.onDequeues,t)},Xt.setupDequeueing=O0_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++)(0,e.onDequeues[n])(r)},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,l=0;l<o.length;l++){var u=o[l].boundingBox();if(Qc(u,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var R0=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Zn()-500,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=ml(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},50),n.beforeRender(function(o,l){r.skipping=l-r.lastInvalidationTime<=250},n.beforeRenderPriorities.lyrTxrSkip),r.layersQueue=new zo(function(l,u){return u.reqs-l.reqs}),r.setupDequeueing()},ur=R0.prototype,T0=0,kk=Math.pow(2,53)-1;ur.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:T0=++T0%kk,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=o.context,u=-o.bb.x1,c=-o.bb.y1;return l.scale(r,r),l.translate(u,c),o},ur.getLayers=function(t,e,r){var n=this,o=n.renderer.cy.zoom(),l=n.firstGet;if(n.firstGet=!1,null==r)if((r=Math.ceil(Xc(o*e)))<-4)r=-4;else if(o>=3.99||r>2)return null;n.validateLayersElesOrdering(r,t);var p,m,u=n.layersByLevel,c=Math.pow(2,r),d=u[r]=u[r]||[];if(n.levelIsComplete(r,t))return d;!function(){var F=function(ee){if(n.validateLayersElesOrdering(ee,t),n.levelIsComplete(ee,t))return m=u[ee],!0},M=function(ee){if(!m)for(var Z=r+ee;-4<=Z&&Z<=2&&!F(Z);Z+=ee);};M(1),M(-1);for(var G=d.length-1;G>=0;G--){var j=d[G];j.invalid&&_a(d,j)}}();var g=function(F){var M=(F=F||{}).after;if(function(){if(!p){p=Mr();for(var F=0;F<t.length;F++)OA(p,t[F].boundingBox())}}(),p.w*c*(p.h*c)>16e6)return null;var j=n.makeLayer(p,r);if(null!=M){var z=d.indexOf(M)+1;d.splice(z,0,j)}else(void 0===F.insert||F.insert)&&d.unshift(j);return j};if(n.skipping&&!l)return null;for(var _=null,w=t.length/1,E=!l,R=0;R<t.length;R++){var P=t[R],k=P._private.rscratch,T=k.imgLayerCaches=k.imgLayerCaches||{},D=T[r];if(D)_=D;else{if((!_||_.eles.length>=w||!$v(_.bb,P.boundingBox()))&&!(_=g({insert:!0,after:_})))return null;m||E?n.queueLayer(_,P):n.drawEleInLayer(_,P,r,e),_.eles.push(P),T[r]=_}}return m||(E?null:d)},ur.getEleLevelForLayerLevel=function(t,e){return t},ur.drawEleInLayer=function(t,e,r,n){var i=this.renderer,o=t.context,l=e.boundingBox();0===l.w||0===l.h||!e.visible()||(r=this.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,r,!0),i.setImgSmoothing(o,!0))},ur.levelIsComplete=function(t,e){var n=this.layersByLevel[t];if(!n||0===n.length)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===e.length},ur.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<e.length;o++)if(a.eles[0]===e[o]){i=o;break}if(i<0)this.invalidateLayer(a);else{var l=i;for(o=0;o<a.eles.length;o++)if(a.eles[o]!==e[l+o]){this.invalidateLayer(a);break}}}},ur.updateElementsInLayers=function(t,e){for(var n=qo(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],o=n?t[a]:t[a].ele,l=o._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},c=-4;c<=2;c++){var d=u[c];d&&(i&&this.getEleLevelForLayerLevel(d.level)!==i.level||e(d,o,i))}},ur.haveLayers=function(){for(var e=!1,r=-4;r<=2;r++){var n=this.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e},ur.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=Zn(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))},ur.invalidateLayer=function(t){if(this.lastInvalidationTime=Zn(),!t.invalid){var e=t.level,r=t.eles;_a(this.layersByLevel[e],t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}},ur.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var o=n.replacement;if(o||((o=n.replacement=e.makeLayer(n.bb,n.level)).replaces=n,o.eles=n.eles),!o.reqs)for(var l=0;l<o.eles.length;l++)e.queueLayer(o,o.eles[l])})},ur.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},ur.queueLayer=function(t,e){var n=this.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},ur.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<1&&0!==r.size();){var i=r.peek();if(i.replacement)r.pop();else if(i.replaces&&i!==i.replaces.replacement)r.pop();else if(i.invalid)r.pop();else{var o=i.elesQueue.shift();o&&(e.drawEleInLayer(i,o,i.level,t),a++),0===n.length&&n.push(!0),0===i.elesQueue.length&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}}return n},ur.applyLayerReplacement=function(t){var r=this.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,l=o.imgLayerCaches=o.imgLayerCaches||{};l&&(l[t.level]=t)}this.requestRedraw()}},ur.requestRedraw=ml(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100),ur.setupDequeueing=O0_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,r){return e.dequeue(r)},onDeqd:Wc,shouldRedraw:Dv,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var I0,S0={};function Dk(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function Nk(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];0===a&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function A0(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++)t.lineTo((i=n[a]).x,i.y);var o=r,l=r[0];for(t.moveTo(l.x,l.y),a=1;a<o.length;a++){var i;t.lineTo((i=o[a]).x,i.y)}t.closePath&&t.closePath()}function Lk(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,2*Math.PI,!1);var i=e,o=i[0];t.moveTo(o.x,o.y);for(var l=0;l<i.length;l++){var u=i[l];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function Gk(t,e,r,n){t.arc(e,r,n,0,2*Math.PI,!1)}S0.arrowShapeImpl=function(t){return(I0||(I0={polygon:Dk,"triangle-backcurve":Nk,"triangle-tee":A0,"circle-triangle":Lk,"triangle-cross":A0,circle:Gk}))[t]};var ta={drawElement:function(t,e,r,n,a,i){e.isNode()?this.drawNode(t,e,r,n,a,i):this.drawEdge(t,e,r,n,a,i)},drawElementOverlay:function(t,e){e.isNode()?this.drawNodeOverlay(t,e):this.drawEdgeOverlay(t,e)},drawCachedElementPortion:function(t,e,r,n,a,i,o,l){var u=this,c=r.getBoundingBox(e);if(0!==c.w&&0!==c.h){var d=r.getElement(e,c,n,a,i);if(null!=d){var p=l(u,e);if(0===p)return;var _,w,E,R,P,D,v=o(u,e),m=c.x1,y=c.y1,b=c.w,g=c.h;if(0!==v){var k=r.getRotationPoint(e);t.translate(E=k.x,R=k.y),t.rotate(v),(P=u.getImgSmoothing(t))||u.setImgSmoothing(t,!0);var T=r.getRotationOffset(e);_=T.x,w=T.y}else _=m,w=y;1!==p&&(t.globalAlpha=(D=t.globalAlpha)*p),t.drawImage(d.texture.canvas,d.x,0,d.width,d.height,_,w,b,g),1!==p&&(t.globalAlpha=D),0!==v&&(t.rotate(-v),t.translate(-E,-R),P||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}}},Mk=function(){return 0},zk=function(e,r){return e.getTextAngle(r,null)},Fk=function(e,r){return e.getTextAngle(r,"source")},qk=function(e,r){return e.getTextAngle(r,"target")},Hk=function(e,r){return r.effectiveOpacity()},Rf=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};ta.drawCachedElement=function(t,e,r,n,a,i){var o=this,l=o.data,u=l.eleTxrCache,c=l.lblTxrCache,d=l.slbTxrCache,p=l.tlbTxrCache,v=e.boundingBox(),m=!0===i?u.reasons.highQuality:null;if(0!==v.w&&0!==v.h&&e.visible()&&(!n||Qc(v,n))){var y=e.isEdge(),b=e.element()._private.rscratch.badLine;o.drawCachedElementPortion(t,e,u,r,a,m,Mk,Hk),(!y||!b)&&o.drawCachedElementPortion(t,e,c,r,a,m,zk,Rf),y&&!b&&(o.drawCachedElementPortion(t,e,d,r,a,m,Fk,Rf),o.drawCachedElementPortion(t,e,p,r,a,m,qk,Rf)),o.drawElementOverlay(t,e)}},ta.drawElements=function(t,e){for(var n=0;n<e.length;n++)this.drawElement(t,e[n])},ta.drawCachedElements=function(t,e,r,n){for(var i=0;i<e.length;i++)this.drawCachedElement(t,e[i],r,n)},ta.drawCachedNodes=function(t,e,r,n){for(var i=0;i<e.length;i++){var o=e[i];o.isNode()&&this.drawCachedElement(t,o,r,n)}},ta.drawLayeredElements=function(t,e,r,n){var i=this.data.lyrTxrCache.getLayers(e,r);if(i)for(var o=0;o<i.length;o++){var l=i[o],u=l.bb;0===u.w||0===u.h||t.drawImage(l.canvas,u.x1,u.y1,u.w,u.h)}else this.drawCachedElements(t,e,r,n)};for(var ci={drawEdge:function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,l=e._private.rscratch;if((!i||e.visible())&&!l.badLine&&null!=l.allpts&&!isNaN(l.allpts[0])){var u;r&&t.translate(-(u=r).x1,-u.y1);var c=i?e.pstyle("opacity").value:1,d=i?e.pstyle("line-opacity").value:1,p=e.pstyle("line-style").value,v=e.pstyle("width").pfValue,m=e.pstyle("line-cap").value,y=c*d,b=c*d,g=function(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;t.lineWidth=v,t.lineCap=m,o.eleStrokeStyle(t,e,F),o.drawEdgePath(e,t,l.allpts,p),t.lineCap="butt"},w=function(){o.drawArrowheads(t,e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:b)};if(t.lineJoin="round","yes"===e.pstyle("ghost").value){var P=e.pstyle("ghost-offset-x").pfValue,k=e.pstyle("ghost-offset-y").pfValue,T=e.pstyle("ghost-opacity").value,D=y*T;t.translate(P,k),g(D),w(D),t.translate(-P,-k)}g(),w(),a&&o.drawEdgeOverlay(t,e),o.drawElementText(t,e,null,n),r&&t.translate(u.x1,u.y1)}},drawEdgeOverlay:function(t,e){if(e.visible()){var r=e.pstyle("overlay-opacity").value;if(0!==r){var n=this,a=n.usePaths(),i=e._private.rscratch,l=2*e.pstyle("overlay-padding").pfValue,u=e.pstyle("overlay-color").value;t.lineWidth=l,t.lineCap="self"!==i.edgeType||a?"round":"butt",n.colorStrokeStyle(t,u[0],u[1],u[2],r),n.drawEdgePath(e,t,i.allpts,"solid")}}},drawEdgePath:function(t,e,r,n){var o,a=t._private.rscratch,i=e,l=!1,u=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,d=t.pstyle("line-dash-offset").pfValue;if(u){var p=r.join("$");a.pathCacheKey&&a.pathCacheKey===p?(o=e=a.pathCache,l=!0):(o=e=new Path2D,a.pathCacheKey=p,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(c),i.lineDashOffset=d;break;case"solid":i.setLineDash([])}if(!l&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<r.length;m+=4)e.quadraticCurveTo(r[m],r[m+1],r[m+2],r[m+3]);break;case"straight":case"segments":case"haystack":for(var y=2;y+1<r.length;y+=2)e.lineTo(r[y],r[y+1])}e=i,u?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])},drawArrowheads:function(t,e,r){var n=e._private.rscratch,a="haystack"===n.edgeType;a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},drawArrowhead:function(t,e,r,n,a,i,o){if(!(isNaN(n)||null==n||isNaN(a)||null==a||isNaN(i)||null==i)){var l=this,u=e.pstyle(r+"-arrow-shape").value;if("none"!==u){var c="hollow"===e.pstyle(r+"-arrow-fill").value?"both":"filled",d=e.pstyle(r+"-arrow-fill").value,p=e.pstyle("width").pfValue,v=e.pstyle("opacity").value;void 0===o&&(o=v);var m=t.globalCompositeOperation;(1!==o||"hollow"===d)&&(t.globalCompositeOperation="destination-out",l.colorFillStyle(t,255,255,255,1),l.colorStrokeStyle(t,255,255,255,1),l.drawArrowShape(e,t,c,p,u,n,a,i),t.globalCompositeOperation=m);var y=e.pstyle(r+"-arrow-color").value;l.colorFillStyle(t,y[0],y[1],y[2],o),l.colorStrokeStyle(t,y[0],y[1],y[2],o),l.drawArrowShape(e,t,d,p,u,n,a,i)}}},drawArrowShape:function(t,e,r,n,a,i,o,l){var p,u=this,c=this.usePaths()&&"triangle-cross"!==a,d=!1,v=e,m={x:i,y:o},y=t.pstyle("arrow-scale").value,b=this.getArrowWidth(n,y),g=u.arrowShapes[a];if(c){var _=u.arrowPathCache=u.arrowPathCache||[],w=ri(a),E=_[w];null!=E?(p=e=E,d=!0):(p=e=new Path2D,_[w]=p)}d||(e.beginPath&&e.beginPath(),c?g.draw(e,1,0,{x:0,y:0},1):g.draw(e,b,l,m,n),e.closePath&&e.closePath()),e=v,c&&(e.translate(i,o),e.rotate(l),e.scale(b,b)),("filled"===r||"both"===r)&&(c?e.fill(p):e.fill()),("hollow"===r||"both"===r)&&(e.lineWidth=(g.matchEdgeWidth?n:1)/(c?b:1),e.lineJoin="miter",c?e.stroke(p):e.stroke()),c&&(e.scale(1/b,1/b),e.rotate(-l),e.translate(-i,-o))}},Tf={safeDrawImage:function(t,e,r,n,a,i,o,l,u,c){a<=0||i<=0||u<=0||c<=0||t.drawImage(e,r,n,a,i,o,l,u,c)},drawInscribedImage:function(t,e,r,n,a){var i=this,o=r.position(),l=o.x,u=o.y,c=r.cy().style(),d=c.getIndexedStyle.bind(c),p=d(r,"background-fit","value",n),v=d(r,"background-repeat","value",n),m=r.width(),y=r.height(),b=2*r.padding(),g=m+("inner"===d(r,"background-width-relative-to","value",n)?0:b),_=y+("inner"===d(r,"background-height-relative-to","value",n)?0:b),w=r._private.rscratch,R="node"===d(r,"background-clip","value",n),P=d(r,"background-image-opacity","value",n)*a,k=d(r,"background-image-smoothing","value",n),T=e.width||e.cachedW,D=e.height||e.cachedH;(null==T||null==D)&&(document.body.appendChild(e),T=e.cachedW=e.width||e.offsetWidth,D=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var I=T,F=D;if("auto"!==d(r,"background-width","value",n)&&(I="%"===d(r,"background-width","units",n)?d(r,"background-width","pfValue",n)*g:d(r,"background-width","pfValue",n)),"auto"!==d(r,"background-height","value",n)&&(F="%"===d(r,"background-height","units",n)?d(r,"background-height","pfValue",n)*_:d(r,"background-height","pfValue",n)),0!==I&&0!==F){if("contain"===p)I*=M=Math.min(g/I,_/F),F*=M;else if("cover"===p){var M;I*=M=Math.max(g/I,_/F),F*=M}var G=l-g/2,j=d(r,"background-position-x","units",n),z=d(r,"background-position-x","pfValue",n);G+="%"===j?(g-I)*z:z;var ee=d(r,"background-offset-x","units",n),Z=d(r,"background-offset-x","pfValue",n);G+="%"===ee?(g-I)*Z:Z;var Y=u-_/2,Q=d(r,"background-position-y","units",n),oe=d(r,"background-position-y","pfValue",n);Y+="%"===Q?(_-F)*oe:oe;var le=d(r,"background-offset-y","units",n),ne=d(r,"background-offset-y","pfValue",n);Y+="%"===le?(_-F)*ne:ne,w.pathCache&&(G-=l,Y-=u,l=0,u=0);var ve=t.globalAlpha;t.globalAlpha=P;var ye=i.getImgSmoothing(t),xe=!1;if("no"===k&&ye?(i.setImgSmoothing(t,!1),xe=!0):"yes"===k&&!ye&&(i.setImgSmoothing(t,!0),xe=!0),"no-repeat"===v)R&&(t.save(),w.pathCache?t.clip(w.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,l,u,g,_),t.clip())),i.safeDrawImage(t,e,0,0,T,D,G,Y,I,F),R&&t.restore();else{var me=t.createPattern(e,v);t.fillStyle=me,i.nodeShapes[i.getNodeShape(r)].draw(t,l,u,g,_),t.translate(G,Y),t.fill(),t.translate(-G,-Y)}t.globalAlpha=ve,xe&&i.setImgSmoothing(t,ye)}}},fi={eleTextBiggerThanMin:function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Xc(r*n));e=Math.pow(2,a)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(t,e,r,n,a){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==n){if(i&&!o.eleTextBiggerThanMin(e))return}else if(!1===n)return;if(e.isNode()){var l=e.pstyle("label");if(!l||!l.value)return;var u=o.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,d=e.pstyle("label"),p=e.pstyle("source-label"),v=e.pstyle("target-label");if(c||(!d||!d.value)&&(!p||!p.value)&&(!v||!v.value))return;t.textAlign="center",t.textBaseline="bottom"}var y,m=!r;r&&t.translate(-(y=r).x1,-y.y1),null==a?(o.drawText(t,e,null,m,i),e.isEdge()&&(o.drawText(t,e,"source",m,i),o.drawText(t,e,"target",m,i))):o.drawText(t,e,a,m,i),r&&t.translate(y.x1,y.y1)},getFontCache:function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if((e=this.fontCaches[r]).context===t)return e;return this.fontCaches.push(e={context:t}),e},setupTextStyle:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,l=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*l,c=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],l),this.colorStrokeStyle(t,d[0],d[1],d[2],u)},getTextAngle:function(t,e){var a=t._private.rscratch,o=t.pstyle((e?e+"-":"")+"text-rotation"),l=wn(a,"labelAngle",e);return"autorotate"===o.strValue?t.isEdge()?l:0:"none"===o.strValue?0:o.pfValue},drawText:function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e._private.rscratch,l=a?e.effectiveOpacity():1;if(!a||0!==l&&0!==e.pstyle("text-opacity").value){"main"===r&&(r=null);var d,p,u=wn(o,"labelX",r),c=wn(o,"labelY",r),v=this.getLabelText(e,r);if(null!=v&&""!==v&&!isNaN(u)&&!isNaN(c)){this.setupTextStyle(t,e,a);var P,m=r?r+"-":"",y=wn(o,"labelWidth",r),b=wn(o,"labelHeight",r),g=e.pstyle(m+"text-margin-x").pfValue,_=e.pstyle(m+"text-margin-y").pfValue,w=e.isEdge(),E=e.pstyle("text-halign").value,R=e.pstyle("text-valign").value;switch(w&&(E="center",R="center"),u+=g,c+=_,0!==(P=n?this.getTextAngle(e,r):0)&&(t.translate(d=u,p=c),t.rotate(P),u=0,c=0),R){case"top":break;case"center":c+=b/2;break;case"bottom":c+=b}var k=e.pstyle("text-background-opacity").value,T=e.pstyle("text-border-opacity").value,D=e.pstyle("text-border-width").pfValue,I=e.pstyle("text-background-padding").pfValue;if(k>0||D>0&&T>0){var F=u-I;switch(E){case"left":F-=y;break;case"center":F-=y/2}var M=c-b-I,G=y+2*I,j=b+2*I;if(k>0){var z=t.fillStyle,ee=e.pstyle("text-background-color").value;t.fillStyle="rgba("+ee[0]+","+ee[1]+","+ee[2]+","+k*l+")",0===e.pstyle("text-background-shape").strValue.indexOf("round")?function $k(t,e,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),t.fill()}(t,F,M,G,j,2):t.fillRect(F,M,G,j),t.fillStyle=z}if(D>0&&T>0){var Y=t.strokeStyle,Q=t.lineWidth,oe=e.pstyle("text-border-color").value,le=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+oe[0]+","+oe[1]+","+oe[2]+","+T*l+")",t.lineWidth=D,t.setLineDash)switch(le){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=D/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(F,M,G,j),"double"===le){var ne=D/2;t.strokeRect(F+ne,M+ne,G-2*ne,j-2*ne)}t.setLineDash&&t.setLineDash([]),t.lineWidth=Q,t.strokeStyle=Y}}var ve=2*e.pstyle("text-outline-width").pfValue;if(ve>0&&(t.lineWidth=ve),"wrap"===e.pstyle("text-wrap").value){var ye=wn(o,"labelWrapCachedLines",r),xe=wn(o,"labelLineHeight",r),me=y/2,fe=this.getLabelJustification(e);switch("auto"===fe||("left"===E?"left"===fe?u+=-y:"center"===fe&&(u+=-me):"center"===E?"left"===fe?u+=-me:"right"===fe&&(u+=me):"right"===E&&("center"===fe?u+=me:"right"===fe&&(u+=y))),R){case"top":case"center":case"bottom":c-=(ye.length-1)*xe}for(var J=0;J<ye.length;J++)ve>0&&t.strokeText(ye[J],u,c),t.fillText(ye[J],u,c),c+=xe}else ve>0&&t.strokeText(v,u,c),t.fillText(v,u,c);0!==P&&(t.rotate(-P),t.translate(-d,-p))}}}},ps={drawNode:function(t,e,r){var l,u,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,c=e._private,d=c.rscratch,p=e.position();if(Te(p.x)&&Te(p.y)&&(!i||e.visible())){var y,_,v=i?e.effectiveOpacity():1,m=o.usePaths(),b=!1,g=e.padding();l=e.width()+2*g,u=e.height()+2*g,r&&t.translate(-(_=r).x1,-_.y1);for(var E=e.pstyle("background-image").value,R=new Array(E.length),P=new Array(E.length),k=0,T=0;T<E.length;T++){var D=E[T];if(R[T]=null!=D&&"none"!==D){var F=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",T);k++,P[T]=o.getCachedImage(D,F,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var M=e.pstyle("background-blacken").value,G=e.pstyle("border-width").pfValue,j=e.pstyle("background-opacity").value*v,z=e.pstyle("border-color").value,ee=e.pstyle("border-style").value,Z=e.pstyle("border-opacity").value*v;t.lineJoin="miter";var Y=function(){o.eleFillStyle(t,e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:j)},Q=function(){o.colorStrokeStyle(t,z[0],z[1],z[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z)},oe=e.pstyle("shape").strValue,le=e.pstyle("shape-polygon-points").pfValue;if(m){t.translate(p.x,p.y);var ne=o.nodePathCache=o.nodePathCache||[],ve=Pv("polygon"===oe?oe+","+le.join(","):oe,""+u,""+l),ye=ne[ve];null!=ye?(b=!0,d.pathCache=y=ye):(y=new Path2D,ne[ve]=d.pathCache=y)}var xe=function(){if(!b){var te=p;m&&(te={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(y||t,te.x,te.y,l,u)}m?t.fill(y):t.fill()},me=function(){for(var te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,B=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],ae=c.backgrounding,he=0,se=0;se<P.length;se++){var ce=e.cy().style().getIndexedStyle(e,"background-image-containment","value",se);B&&"over"===ce||!B&&"inside"===ce?he++:R[se]&&P[se].complete&&!P[se].error&&(he++,o.drawInscribedImage(t,P[se],e,se,te))}c.backgrounding=he!==k,ae!==c.backgrounding&&e.updateStyle(!1)},fe=function(){var te=arguments.length>0&&void 0!==arguments[0]&&arguments[0],B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;o.hasPie(e)&&(o.drawPie(t,e,B),te&&(m||o.nodeShapes[o.getNodeShape(e)].draw(t,p.x,p.y,l,u)))},J=function(){var ae=M>0?0:255;0!==M&&(o.colorFillStyle(t,ae,ae,ae,(M>0?M:-M)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:v)),m?t.fill(y):t.fill())},O=function(){if(G>0){if(t.lineWidth=G,t.lineCap="butt",t.setLineDash)switch(ee){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(m?t.stroke(y):t.stroke(),"double"===ee){t.lineWidth=G/3;var te=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(y):t.stroke(),t.globalCompositeOperation=te}t.setLineDash&&t.setLineDash([])}};if("yes"===e.pstyle("ghost").value){var V=e.pstyle("ghost-offset-x").pfValue,H=e.pstyle("ghost-offset-y").pfValue,K=e.pstyle("ghost-opacity").value,pe=K*v;t.translate(V,H),Y(K*j),xe(),me(pe,!0),Q(K*Z),O(),fe(0!==M||0!==G),me(pe,!1),J(pe),t.translate(-V,-H)}Y(),xe(),me(v,!0),Q(),O(),fe(0!==M||0!==G),me(v,!1),J(),m&&t.translate(-p.x,-p.y),o.drawElementText(t,e,null,n),a&&o.drawNodeOverlay(t,e,p,l,u),r&&t.translate(_.x1,_.y1)}},drawNodeOverlay:function(t,e,r,n,a){if(e.visible()){var o=e.pstyle("overlay-padding").pfValue,l=e.pstyle("overlay-opacity").value,u=e.pstyle("overlay-color").value;if(l>0){if(r=r||e.position(),null==n||null==a){var c=e.padding();n=e.width()+2*c,a=e.height()+2*c}this.colorFillStyle(t,u[0],u[1],u[2],l),this.nodeShapes.roundrectangle.draw(t,r.x,r.y,n+2*o,a+2*o),t.fill()}}},hasPie:function(t){return(t=t[0])._private.hasPie},drawPie:function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),o=n.x,l=n.y,u=e.width(),c=e.height(),d=Math.min(u,c)/2,p=0;this.usePaths()&&(o=0,l=0),"%"===i.units?d*=i.pfValue:void 0!==i.pfValue&&(d=i.pfValue/2);for(var m=1;m<=a.pieBackgroundN;m++){var y=e.pstyle("pie-"+m+"-background-size").value,b=e.pstyle("pie-"+m+"-background-color").value,g=e.pstyle("pie-"+m+"-background-opacity").value*r,_=y/100;_+p>1&&(_=1-p);var w=1.5*Math.PI+2*Math.PI*p,R=w+2*Math.PI*_;0===y||p>=1||p+_>1||(t.beginPath(),t.moveTo(o,l),t.arc(o,l,d,w,R),t.closePath(),this.colorFillStyle(t,b[0],b[1],b[2],g),t.fill(),p+=_)}}},Kr={getPixelRatio:function(){var t=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},paintCache:function(t){for(var n,e=this.paintCaches=this.paintCaches||[],r=!0,a=0;a<e.length;a++)if((n=e[a]).context===t){r=!1;break}return r&&e.push(n={context:t}),n},createGradientStyleFor:function(t,e,r,n,a){var i,o=this.usePaths(),l=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===n)if(r.isEdge()){var c=r.sourceEndpoint(),d=r.targetEndpoint(),p=r.midpoint(),v=ni(c,p),m=ni(d,p);i=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(v,m))}else{var y=o?{x:0,y:0}:r.position(),b=r.paddedWidth(),g=r.paddedHeight();i=t.createRadialGradient(y.x,y.y,0,y.x,y.y,Math.max(b,g))}else if(r.isEdge()){var _=r.sourceEndpoint(),w=r.targetEndpoint();i=t.createLinearGradient(_.x,_.y,w.x,w.y)}else{var E=o?{x:0,y:0}:r.position(),k=r.paddedWidth()/2,T=r.paddedHeight()/2;switch(r.pstyle("background-gradient-direction").value){case"to-bottom":i=t.createLinearGradient(E.x,E.y-T,E.x,E.y+T);break;case"to-top":i=t.createLinearGradient(E.x,E.y+T,E.x,E.y-T);break;case"to-left":i=t.createLinearGradient(E.x+k,E.y,E.x-k,E.y);break;case"to-right":i=t.createLinearGradient(E.x-k,E.y,E.x+k,E.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(E.x-k,E.y-T,E.x+k,E.y+T);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(E.x-k,E.y+T,E.x+k,E.y-T);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(E.x+k,E.y-T,E.x-k,E.y+T);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(E.x+k,E.y+T,E.x-k,E.y-T)}}if(!i)return null;for(var I=u.length===l.length,F=l.length,M=0;M<F;M++)i.addColorStop(I?u[M]:M/(F-1),"rgba("+l[M][0]+","+l[M][1]+","+l[M][2]+","+a+")");return i},gradientFillStyle:function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a},colorFillStyle:function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"},eleFillStyle:function(t,e,r){var n=e.pstyle("background-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}},gradientStrokeStyle:function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a},colorStrokeStyle:function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"},eleStrokeStyle:function(t,e,r){var n=e.pstyle("line-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}},matchCanvasSize:function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],o=e.getPixelRatio();(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=e.motionBlurPxRatio);var d,u=a*o,c=i*o;if(u!==e.canvasWidth||c!==e.canvasHeight){e.fontCaches=null;var p=r.canvasContainer;p.style.width=a+"px",p.style.height=i+"px";for(var v=0;v<e.CANVAS_LAYERS;v++)(d=r.canvases[v]).width=u,d.height=c,d.style.width=a+"px",d.style.height=i+"px";for(v=0;v<e.BUFFER_COUNT;v++)(d=r.bufferCanvases[v]).width=u,d.height=c,d.style.width=a+"px",d.style.height=i+"px";e.textureMult=1,o<=1&&(d=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,d.width=u*e.textureMult,d.height=c*e.textureMult),e.canvasWidth=u,e.canvasHeight=c}},renderTo:function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},render:function(t){var e=(t=t||Mv()).forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,a=t.forcedZoom,i=t.forcedPan,o=this,l=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,u=o.cy,c=o.data,d=c.canvasNeedsRedraw,p=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),v=void 0!==t.motionBlur?t.motionBlur:o.motionBlur,m=o.motionBlurPxRatio,y=u.hasCompoundNodes(),b=o.hoverData.draggingEles,_=v=v&&!e&&o.motionBlurEnabled&&!(o.hoverData.selecting||o.touchData.selecting);e||(o.prevPxRatio!==l&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=l),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),v&&(null==o.mbFrames&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(_=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!p&&(d[o.NODE]=!0,d[o.SELECT_BOX]=!0);var w=u.style(),E=u.zoom(),R=void 0!==a?a:E,P=u.pan(),k={x:P.x,y:P.y},T={zoom:E,pan:{x:P.x,y:P.y}},D=o.prevViewport;!(void 0===D||T.zoom!==D.zoom||T.pan.x!==D.pan.x||T.pan.y!==D.pan.y)&&!(b&&!y)&&(o.motionBlurPxRatio=1),i&&(k=i),R*=l,k.x*=l,k.y*=l;var F=o.getCachedZSortedEles();function M(K,pe,we,te,B){var ae=K.globalCompositeOperation;K.globalCompositeOperation="destination-out",o.colorFillStyle(K,255,255,255,o.motionBlurTransparency),K.fillRect(pe,we,te,B),K.globalCompositeOperation=ae}function G(K,pe){var we,te,B,ae;o.clearingMotionBlur||K!==c.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]&&K!==c.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]?(we=k,te=R,B=o.canvasWidth,ae=o.canvasHeight):(we={x:P.x*m,y:P.y*m},te=E*m,B=o.canvasWidth*m,ae=o.canvasHeight*m),K.setTransform(1,0,0,1,0,0),"motionBlur"===pe?M(K,0,0,B,ae):!e&&(void 0===pe||pe)&&K.clearRect(0,0,B,ae),r||(K.translate(we.x,we.y),K.scale(te,te)),i&&K.translate(i.x,i.y),a&&K.scale(a,a)}if(p||(o.textureDrawLastFrame=!1),p){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=u.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var j=o.data.bufferContexts[o.TEXTURE_BUFFER];j.setTransform(1,0,0,1,0,0),j.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:j,drawOnlyNodeLayer:!0,forcedPxRatio:l*o.textureMult}),(T=o.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:o.canvasWidth,height:o.canvasHeight}).mpan={x:(0-T.pan.x)/T.zoom,y:(0-T.pan.y)/T.zoom}}d[o.DRAG]=!1,d[o.NODE]=!1;var ee=o.textureCache.texture;T=o.textureCache.viewport,(z=c.contexts[o.NODE]).setTransform(1,0,0,1,0,0),v?M(z,0,0,T.width,T.height):z.clearRect(0,0,T.width,T.height);var Z=w.core("outside-texture-bg-color").value,Y=w.core("outside-texture-bg-opacity").value;o.colorFillStyle(z,Z[0],Z[1],Z[2],Y),z.fillRect(0,0,T.width,T.height),E=u.zoom(),G(z,!1),z.clearRect(T.mpan.x,T.mpan.y,T.width/T.zoom/l,T.height/T.zoom/l),z.drawImage(ee,T.mpan.x,T.mpan.y,T.width/T.zoom/l,T.height/T.zoom/l)}else o.textureOnViewport&&!e&&(o.textureCache=null);var Q=u.extent(),oe=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),le=o.hideEdgesOnViewport&&oe,ne=[];if(ne[o.NODE]=!d[o.NODE]&&v&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,ne[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),ne[o.DRAG]=!d[o.DRAG]&&v&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,ne[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),d[o.NODE]||r||n||ne[o.NODE]){var ve=v&&!ne[o.NODE]&&1!==m;G(z=e||(ve?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:c.contexts[o.NODE]),v&&!ve?"motionBlur":void 0),le?o.drawCachedNodes(z,F.nondrag,l,Q):o.drawLayeredElements(z,F.nondrag,l,Q),o.debug&&o.drawDebugPoints(z,F.nondrag),!r&&!v&&(d[o.NODE]=!1)}if(!n&&(d[o.DRAG]||r||ne[o.DRAG])&&(ve=v&&!ne[o.DRAG]&&1!==m,G(z=e||(ve?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:c.contexts[o.DRAG]),v&&!ve?"motionBlur":void 0),le?o.drawCachedNodes(z,F.drag,l,Q):o.drawCachedElements(z,F.drag,l,Q),o.debug&&o.drawDebugPoints(z,F.drag),!r&&!v&&(d[o.DRAG]=!1)),o.showFps||!n&&d[o.SELECT_BOX]&&!r){var z;if(G(z=e||c.contexts[o.SELECT_BOX]),1==o.selection[4]&&(o.hoverData.selecting||o.touchData.selecting)){E=o.cy.zoom();var xe=w.core("selection-box-border-width").value/E;z.lineWidth=xe,z.fillStyle="rgba("+w.core("selection-box-color").value[0]+","+w.core("selection-box-color").value[1]+","+w.core("selection-box-color").value[2]+","+w.core("selection-box-opacity").value+")",z.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),xe>0&&(z.strokeStyle="rgba("+w.core("selection-box-border-color").value[0]+","+w.core("selection-box-border-color").value[1]+","+w.core("selection-box-border-color").value[2]+","+w.core("selection-box-opacity").value+")",z.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(c.bgActivePosistion&&!o.hoverData.selecting){E=o.cy.zoom();var me=c.bgActivePosistion;z.fillStyle="rgba("+w.core("active-bg-color").value[0]+","+w.core("active-bg-color").value[1]+","+w.core("active-bg-color").value[2]+","+w.core("active-bg-opacity").value+")",z.beginPath(),z.arc(me.x,me.y,w.core("active-bg-size").pfValue/E,0,2*Math.PI),z.fill()}var fe=o.lastRedrawTime;if(o.showFps&&fe){fe=Math.round(fe);var J=Math.round(1e3/fe);z.setTransform(1,0,0,1,0,0),z.fillStyle="rgba(255, 0, 0, 0.75)",z.strokeStyle="rgba(255, 0, 0, 0.75)",z.lineWidth=1,z.fillText("1 frame = "+fe+" ms = "+J+" fps",0,20),z.strokeRect(0,30,250,20),z.fillRect(0,30,250*Math.min(J/60,1),20)}r||(d[o.SELECT_BOX]=!1)}if(v&&1!==m){var q=c.contexts[o.DRAG],V=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],H=function(pe,we,te){pe.setTransform(1,0,0,1,0,0),te||!_?pe.clearRect(0,0,o.canvasWidth,o.canvasHeight):M(pe,0,0,o.canvasWidth,o.canvasHeight),pe.drawImage(we,0,0,o.canvasWidth*m,o.canvasHeight*m,0,0,o.canvasWidth,o.canvasHeight)};(d[o.NODE]||ne[o.NODE])&&(H(c.contexts[o.NODE],o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],ne[o.NODE]),d[o.NODE]=!1),(d[o.DRAG]||ne[o.DRAG])&&(H(q,V,ne[o.DRAG]),d[o.DRAG]=!1)}o.prevViewport=T,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),v&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!p,o.mbFrames=0,d[o.NODE]=!0,d[o.DRAG]=!0,o.redraw()},100)),e||u.emit("render")}},Aa={drawPolygonPath:function(t,e,r,n,a,i){var o=n/2,l=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*i[0],r+l*i[1]);for(var u=1;u<i.length/2;u++)t.lineTo(e+o*i[2*u],r+l*i[2*u+1]);t.closePath()},drawRoundPolygonPath:function(t,e,r,n,a,i){var o=n/2,l=a/2,u=tf(n,a);t.beginPath&&t.beginPath();for(var c=0;c<i.length/4;c++){var p,d;d=0===c?i.length-2:4*c-2,p=4*c+2;var v=e+o*i[4*c],m=r+l*i[4*c+1],b=u/Math.tan(Math.acos(-i[d]*i[p]-i[d+1]*i[p+1])/2),g=v-b*i[d],_=m-b*i[d+1],w=v+b*i[p],E=m+b*i[p+1];0===c?t.moveTo(g,_):t.lineTo(g,_),t.arcTo(v,m,w,E,u)}t.closePath()},drawRoundRectanglePath:function(t,e,r,n,a){var i=n/2,o=a/2,l=Xo(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+i,r-o,e+i,r,l),t.arcTo(e+i,r+o,e,r+o,l),t.arcTo(e-i,r+o,e-i,r,l),t.arcTo(e-i,r-o,e,r-o,l),t.lineTo(e,r-o),t.closePath()},drawBottomRoundRectanglePath:function(t,e,r,n,a){var i=n/2,o=a/2,l=Xo(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+i,r-o),t.lineTo(e+i,r),t.arcTo(e+i,r+o,e,r+o,l),t.arcTo(e-i,r+o,e-i,r,l),t.lineTo(e-i,r-o),t.lineTo(e,r-o),t.closePath()},drawCutRectanglePath:function(t,e,r,n,a){var i=n/2,o=a/2;t.beginPath&&t.beginPath(),t.moveTo(e-i+8,r-o),t.lineTo(e+i-8,r-o),t.lineTo(e+i,r-o+8),t.lineTo(e+i,r+o-8),t.lineTo(e+i-8,r+o),t.lineTo(e-i+8,r+o),t.lineTo(e-i,r+o-8),t.lineTo(e-i,r-o+8),t.closePath()},drawBarrelPath:function(t,e,r,n,a){var i=n/2,o=a/2,l=e-i,u=e+i,c=r-o,d=r+o,p=rf(n,a),v=p.widthOffset,m=p.heightOffset,y=p.ctrlPtOffsetPct*v;t.beginPath&&t.beginPath(),t.moveTo(l,c+m),t.lineTo(l,d-m),t.quadraticCurveTo(l+y,d,l+v,d),t.lineTo(u-v,d),t.quadraticCurveTo(u-y,d,u,d-m),t.lineTo(u,c+m),t.quadraticCurveTo(u-y,c,u-v,c),t.lineTo(l+v,c),t.quadraticCurveTo(l+y,c,l,c+m),t.closePath()}},B0=Math.sin(0),P0=Math.cos(0),Sf={},If={},k0=Math.PI/40,so=0*Math.PI;so<2*Math.PI;so+=k0)Sf[so]=Math.sin(so),If[so]=Math.cos(so);Aa.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,l=n/2,u=a/2,c=0*Math.PI;c<2*Math.PI;c+=k0)i=e-l*Sf[c]*B0+l*If[c]*P0,o=r+u*If[c]*B0+u*Sf[c]*P0,0===c?t.moveTo(i,o):t.lineTo(i,o);t.closePath()};var hs={};function D0(t){var e=t.indexOf(",");return t.substr(e+1)}function N0(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Ki(function(a,i){try{e.toBlob(function(o){null!=o?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){i(o)}});case"blob":return function jk(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}(D0(n()),r);case"base64":return D0(n());default:return n()}}hs.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]},hs.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements().boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],o=t.full?Math.ceil(n.h):a[3],l=Te(t.maxWidth)||Te(t.maxHeight),u=this.getPixelRatio(),c=1;if(void 0!==t.scale)i*=t.scale,o*=t.scale,c=t.scale;else if(l){var d=1/0,p=1/0;Te(t.maxWidth)&&(d=c*t.maxWidth/i),Te(t.maxHeight)&&(p=c*t.maxHeight/o),i*=c=Math.min(d,p),o*=c}l||(i*=u,o*=u,c*=u);var v=document.createElement("canvas");v.width=i,v.height=o,v.style.width=i+"px",v.style.height=o+"px";var m=v.getContext("2d");if(i>0&&o>0){m.clearRect(0,0,i,o),m.globalCompositeOperation="source-over";var y=this.getCachedZSortedEles();if(t.full)m.translate(-n.x1*c,-n.y1*c),m.scale(c,c),this.drawElements(m,y),m.scale(1/c,1/c),m.translate(n.x1*c,n.y1*c);else{var b=e.pan(),g={x:b.x*c,y:b.y*c};c*=e.zoom(),m.translate(g.x,g.y),m.scale(c,c),this.drawElements(m,y),m.scale(1/c,1/c),m.translate(-g.x,-g.y)}t.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=t.bg,m.rect(0,0,i,o),m.fill())}return v},hs.png=function(t){return N0(t,this.bufferCanvasImage(t),"image/png")},hs.jpg=function(t){return N0(t,this.bufferCanvasImage(t),"image/jpeg")};var Vk=G0,gt=G0.prototype;function G0(t){var e=this;e.data={canvases:new Array(gt.CANVAS_LAYERS),contexts:new Array(gt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(gt.CANVAS_LAYERS),bufferCanvases:new Array(gt.BUFFER_COUNT),bufferContexts:new Array(gt.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,a.position="relative",a.zIndex="0",a.overflow="hidden";var i=t.cy.container();i.appendChild(e.data.canvasContainer),i.style[r]=n;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};_v&&_v.userAgent.match(/msie|trident|edge/i)&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var l=0;l<gt.CANVAS_LAYERS;l++){var u=e.data.canvases[l]=document.createElement("canvas");e.data.contexts[l]=u.getContext("2d"),Object.keys(o).forEach(function(fe){u.style[fe]=o[fe]}),u.style.position="absolute",u.setAttribute("data-id","layer"+l),u.style.zIndex=String(gt.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(u),e.data.canvasNeedsRedraw[l]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[gt.NODE].setAttribute("data-id","layer"+gt.NODE+"-node"),e.data.canvases[gt.SELECT_BOX].setAttribute("data-id","layer"+gt.SELECT_BOX+"-selectbox"),e.data.canvases[gt.DRAG].setAttribute("data-id","layer"+gt.DRAG+"-drag"),l=0;l<gt.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=document.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var c=Mr(),p=function(J){return{x:-J.w/2,y:-J.h/2}},P=function(J){return J.boundingBox(),J[0]._private.bodyBounds},k=function(J){return J.boundingBox(),J[0]._private.labelBounds.main||c},T=function(J){return J.boundingBox(),J[0]._private.labelBounds.source||c},D=function(J){return J.boundingBox(),J[0]._private.labelBounds.target||c},I=function(J,O){return O},M=function(J,O,S){var L=J?J+"-":"";return{x:O.x+S.pstyle(L+"text-margin-x").pfValue,y:O.y+S.pstyle(L+"text-margin-y").pfValue}},G=function(J,O,S){var L=J[0]._private.rscratch;return{x:L[O],y:L[S]}},le=e.data.eleTxrCache=new fs(e,{getKey:function(J){return J[0]._private.nodeKey},doesEleInvalidateKey:function(J){var O=J[0]._private;return!(O.oldBackgroundTimestamp===O.backgroundTimestamp)},drawElement:function(J,O,S,L,q){return e.drawElement(J,O,S,!1,!1,q)},getBoundingBox:P,getRotationPoint:function(J){return function(J){return{x:(J.x1+J.x2)/2,y:(J.y1+J.y2)/2}}(P(J))},getRotationOffset:function(J){return p(P(J))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ne=e.data.lblTxrCache=new fs(e,{getKey:function(J){return J[0]._private.labelStyleKey},drawElement:function(J,O,S,L,q){return e.drawElementText(J,O,S,L,"main",q)},getBoundingBox:k,getRotationPoint:function(J){return M("",G(J,"labelX","labelY"),J)},getRotationOffset:function(J){var O=k(J),S=p(k(J));if(J.isNode()){switch(J.pstyle("text-halign").value){case"left":S.x=-O.w;break;case"right":S.x=0}switch(J.pstyle("text-valign").value){case"top":S.y=-O.h;break;case"bottom":S.y=0}}return S},isVisible:I}),ve=e.data.slbTxrCache=new fs(e,{getKey:function(J){return J[0]._private.sourceLabelStyleKey},drawElement:function(J,O,S,L,q){return e.drawElementText(J,O,S,L,"source",q)},getBoundingBox:T,getRotationPoint:function(J){return M("source",G(J,"sourceLabelX","sourceLabelY"),J)},getRotationOffset:function(J){return p(T(J))},isVisible:I}),ye=e.data.tlbTxrCache=new fs(e,{getKey:function(J){return J[0]._private.targetLabelStyleKey},drawElement:function(J,O,S,L,q){return e.drawElementText(J,O,S,L,"target",q)},getBoundingBox:D,getRotationPoint:function(J){return M("target",G(J,"targetLabelX","targetLabelY"),J)},getRotationOffset:function(J){return p(D(J))},isVisible:I}),xe=e.data.lyrTxrCache=new R0(e);e.onUpdateEleCalcs(function(J,O){le.invalidateElements(O),ne.invalidateElements(O),ve.invalidateElements(O),ye.invalidateElements(O),xe.invalidateElements(O);for(var S=0;S<O.length;S++){var L=O[S]._private;L.oldBackgroundTimestamp=L.backgroundTimestamp}});var me=function(J){for(var O=0;O<J.length;O++)xe.enqueueElementRefinement(J[O].ele)};le.onDequeue(me),ne.onDequeue(me),ve.onDequeue(me),ye.onDequeue(me)}gt.CANVAS_LAYERS=3,gt.SELECT_BOX=0,gt.DRAG=1,gt.NODE=2,gt.BUFFER_COUNT=3,gt.TEXTURE_BUFFER=0,gt.MOTIONBLUR_BUFFER_NODE=1,gt.MOTIONBLUR_BUFFER_DRAG=2,gt.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[gt.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[gt.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[gt.SELECT_BOX]=e}};var Wk=typeof Path2D<"u";gt.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},gt.usePaths=function(){return Wk&&this.pathsEnabled},gt.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},gt.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},gt.makeOffscreenCanvas=function(t,e){var r;return"undefined"!==(typeof OffscreenCanvas>"u"?"undefined":Wt(OffscreenCanvas))?r=new OffscreenCanvas(t,e):((r=document.createElement("canvas")).width=t,r.height=e),r},[S0,ta,ci,Tf,fi,ps,Kr,Aa,hs,{nodeShapeImpl:function(t,e,r,n,a,i,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}}}].forEach(function(t){Ue(gt,t)});var Kk=[{type:"layout",extensions:rk},{type:"renderer",extensions:[{name:"null",impl:c0},{name:"base",impl:w0},{name:"canvas",impl:Vk}]}],M0={},z0={};function F0(t,e,r){var n=r,a=function(D){Ft("Can not register `"+e+"` for `"+t+"` since `"+D+"` already exists in the prototype and can not be overridden")};if("core"===t){if(ls.prototype[e])return a(e);ls.prototype[e]=r}else if("collection"===t){if(sr.prototype[e])return a(e);sr.prototype[e]=r}else if("layout"===t){for(var i=function(D){this.options=D,r.call(this,D),dt(this._private)||(this._private={}),this._private.cy=D.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),l=[],u=0;u<l.length;u++){var c=l[u];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var d=r.prototype.stop;o.stop=function(){var T=this.options;if(T&&T.animate){var D=this.animations;if(D)for(var I=0;I<D.length;I++)D[I].stop()}return d?d.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var p=function(D){return D._private.cy},v={addEventFields:function(D,I){I.layout=D,I.cy=p(D),I.target=D},bubble:function(){return!0},parent:function(D){return p(D)}};Ue(o,{createEmitter:function(){return this._private.emitter=new Gl(v,this),this},emitter:function(){return this._private.emitter},on:function(D,I){return this.emitter().on(D,I),this},one:function(D,I){return this.emitter().one(D,I),this},once:function(D,I){return this.emitter().one(D,I),this},removeListener:function(D,I){return this.emitter().removeListener(D,I),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(D,I){return this.emitter().emit(D,I),this}}),yt.eventAliasesOn(o),n=i}else if("renderer"===t&&"null"!==e&&"base"!==e){var m=q0("renderer","base"),y=m.prototype,b=r,g=r.prototype,_=function(){m.apply(this,arguments),b.apply(this,arguments)},w=_.prototype;for(var E in y){var R=y[E];if(null!=g[E])return a(E);w[E]=R}for(var k in g)w[k]=g[k];y.clientFunctions.forEach(function(T){w[T]=w[T]||function(){Ft("Renderer does not implement `renderer."+T+"()` on its prototype")}}),n=_}return Tv({map:M0,keys:[t,e],value:n})}function q0(t,e){return Sv({map:M0,keys:[t,e]})}function Xk(t,e,r,n,a){return Tv({map:z0,keys:[t,e,r,n],value:a})}function Zk(t,e,r,n){return Sv({map:z0,keys:[t,e,r,n]})}var Af=function(){return 2===arguments.length?q0.apply(null,arguments):3===arguments.length?F0.apply(null,arguments):4===arguments.length?Zk.apply(null,arguments):5===arguments.length?Xk.apply(null,arguments):void Ft("Invalid extension access syntax")};ls.prototype.extension=Af,Kk.forEach(function(t){t.extensions.forEach(function(e){F0(t.type,e.name,e.impl)})});var H0=function t(){if(!(this instanceof t))return new t;this.length=0},di=H0.prototype;di.instanceString=function(){return"stylesheet"},di.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},di.css=function(t,e){var r=this.length-1;if(ze(t))this[r].properties.push({name:t,value:e});else if(dt(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],l=n[o];if(null!=l){var u=gr.properties[o]||gr.properties[bl(o)];null!=u&&this[r].properties.push({name:u.name,value:l})}}return this},di.style=di.css,di.generateStyle=function(t){var e=new gr(t);return this.appendToStyle(e)},di.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],a=r.properties;t.selector(r.selector);for(var i=0;i<a.length;i++){var o=a[i];t.css(o.name,o.value)}}return t};var pi=function(e){return void 0===e&&(e={}),dt(e)?new ls(e):ze(e)?Af.apply(Af,arguments):void 0};pi.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(pi),t.apply(null,e),this},pi.warnings=function(t){return Lv(t)},pi.version="3.19.0",pi.stylesheet=pi.Stylesheet=H0;var au,Bf=pi;try{au=Qh}catch{}au||(au=window.graphlib);var ou,Cn=au,vs=function nD(t,e,r){if(!Lr(r))return!1;var n=typeof e;return!!("number"==n?Vn(r)&&Js(e,r.length):"string"==n&&e in r)&&Si(r[e],t)},$0=Object.prototype,aD=$0.hasOwnProperty,iD=cl(function(t,e){t=Object(t);var r=-1,n=e.length,a=n>2?e[2]:void 0;for(a&&vs(e[0],e[1],a)&&(n=1);++r<n;)for(var i=e[r],o=Ya(i),l=-1,u=o.length;++l<u;){var c=o[l],d=t[c];(void 0===d||Si(d,$0[c])&&!aD.call(t,c))&&(t[c]=i[c])}return t}),oD=iD,uD=/\s/,dD=/^\s+/,hD=function pD(t){return t&&t.slice(0,function cD(t){for(var e=t.length;e--&&uD.test(t.charAt(e)););return e}(t)+1).replace(dD,"")},vD=/^[-+]0x[0-9a-f]+$/i,gD=/^0b[01]+$/i,mD=/^0o[0-7]+$/i,yD=parseInt,iu=function wD(t){return t?1/0===(t=function bD(t){if("number"==typeof t)return t;if(Qa(t))return NaN;if(Lr(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Lr(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=hD(t);var r=gD.test(t);return r||mD.test(t)?yD(t.slice(2),r?2:8):vD.test(t)?NaN:+t}(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},CD=Math.max,ID=function sD(t){return function(e,r,n){var a=Object(e);if(!Vn(e)){var i=Wn(r);e=ga(e),r=function(l){return i(a[l],l,a)}}var o=t(e,r,n);return o>-1?a[i?e[o]:o]:void 0}}(function RD(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var a=null==r?0:function OD(t){var e=iu(t),r=e%1;return e==e?r?e-r:e:0}(r);return a<0&&(a=CD(n+a,0)),zh(t,Wn(e),a)}),V0=function AD(t){return null!=t&&t.length?Ic(t,1):[]},Pf=function GD(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],o=e(i);if(null!=o&&(void 0===l?o==o&&!Qa(o):r(o,l)))var l=o,u=i}return u},zD=function MD(t,e){return t>e},kf=function HD(t,e,r){(void 0!==r&&!Si(t[e],r)||void 0===r&&!(e in t))&&Zs(t,e,r)},W0=Function.prototype.toString,VD=Object.prototype.hasOwnProperty,WD=W0.call(Object),Df=function XD(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},eN=function JD(t,e,r,n,a,i,o){var l=Df(t,r),u=Df(e,r),c=o.get(u);if(c)kf(t,r,c);else{var d=i?i(l,u,r+"",t,e,o):void 0,p=void 0===d;if(p){var v=Mt(u),m=!v&&Wa(u),y=!v&&!m&&Lo(u);d=u,v||m||y?Mt(l)?d=l:Fh(l)?d=Bp(l):m?(p=!1,d=Ap(u,!0)):y?(p=!1,d=Up(u,!0)):d=[]:function YD(t){if(!xn(t)||"[object Object]"!=va(t))return!1;var e=rl(t);if(null===e)return!0;var r=VD.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&W0.call(r)==WD}(u)||Di(u)?(d=l,Di(l)?d=function ZD(t){return No(t,Ya(t))}(l):(!Lr(l)||Po(l))&&(d=Wp(u))):p=!1}p&&(o.set(u,d),a(d,u,n,i,o),o.delete(u)),kf(t,r,d)}},tN=function Y0(t,e,r,n,a){t!==e&&xc(e,function(i,o){if(a||(a=new ki),Lr(i))eN(t,e,o,r,Y0,n,a);else{var l=n?n(Df(t,o),i,o+"",t,e,a):void 0;void 0===l&&(l=i),kf(t,o,l)}},Ya)},aN=function rN(t){return cl(function(e,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(a--,i):void 0,o&&vs(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),e=Object(e);++n<a;){var l=r[n];l&&t(e,l,n,i)}return e})}(function(t,e,r){tN(t,e,r)}),iN=aN,K0=function oN(t,e){return t<e},hN=function pN(t,e,r,n){if(!Lr(t))return t;for(var a=-1,i=(e=ll(e,t)).length,o=i-1,l=t;null!=l&&++a<i;){var u=Go(e[a]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(a!=o){var d=l[u];void 0===(c=n?n(d,u,l):void 0)&&(c=Lr(d)?d:Js(e[a+1])?[]:{})}Qs(l,u,c),l=l[u]}return t},yN=function mN(t,e){return function vN(t,e,r){for(var n=-1,a=e.length,i={};++n<a;){var o=e[n],l=ul(t,o);r(l,o)&&hN(i,ll(o,t),l)}return i}(t,e,function(r,n){return bh(t,n)})},xN=function bN(t){return Mh(Gh(t,void 0,V0),t+"")}(function(t,e){return null==t?{}:yN(t,e)}),wN=xN,ON=Math.ceil,EN=Math.max,AN=function TN(t){return function(e,r,n){return n&&"number"!=typeof n&&vs(e,r,n)&&(r=n=void 0),e=iu(e),void 0===r?(r=e,e=0):r=iu(r),function CN(t,e,r,n){for(var a=-1,i=EN(ON((e-t)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=t,t+=r;return o}(e,r,n=void 0===n?e<r?1:-1:iu(n),t)}}(),DN=function kN(t,e){if(t!==e){var r=void 0!==t,n=null===t,a=t==t,i=Qa(t),o=void 0!==e,l=null===e,u=e==e,c=Qa(e);if(!l&&!c&&!i&&t>e||i&&o&&u&&!l&&!c||n&&o&&u||!r&&u||!a)return 1;if(!n&&!i&&!c&&t<e||c&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!u)return-1}return 0},MN=function GN(t,e,r){e=e.length?Gi(e,function(i){return Mt(i)?function(o){return ul(o,1===i.length?i[0]:i)}:i}):[Za];var n=-1;return e=Gi(e,el(Wn)),function BN(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(Eh(t,function(i,o,l){return{criteria:Gi(e,function(c){return c(i)}),index:++n,value:i}}),function(i,o){return function NN(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,o=a.length,l=r.length;++n<o;){var u=DN(a[n],i[n]);if(u)return n>=l?u:u*("desc"==r[n]?-1:1)}return t.index-e.index}(i,o,r)})},zN=cl(function(t,e){if(null==t)return[];var r=e.length;return r>1&&vs(t,e[0],e[1])?e=[]:r>2&&vs(e[0],e[1],e[2])&&(e=[e[0]]),MN(t,Ic(e,1),[])}),FN=zN,qN=0;try{ou={cloneDeep:function tD(t){return Jp(t,5)},constant:_c,defaults:oD,each:rh,filter:xh,find:ID,flatten:V0,forEach:th,forIn:function BD(t,e){return null==t?t:xc(t,eh(e),Ya)},has:wh,isUndefined:Oh,last:function kD(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},map:Ch,mapValues:function ND(t,e){var r={};return e=Wn(e),wc(t,function(n,a,i){Zs(r,a,e(n,a,i))}),r},max:function FD(t){return t&&t.length?Pf(t,Za,zD):void 0},merge:iN,min:function sN(t){return t&&t.length?Pf(t,Za,K0):void 0},minBy:function uN(t,e){return t&&t.length?Pf(t,Wn(e),K0):void 0},now:function(){return _n.Date.now()},pick:wN,range:AN,reduce:Rh,sortBy:FN,uniqueId:function HN(t){var e=++qN;return mh(t)+e},values:qh,zipObject:function VN(t,e){return function UN(t,e,r){for(var n=-1,a=t.length,i=e.length,o={};++n<a;)r(o,t[n],n<i?e[n]:void 0);return o}(t||[],e||[],Qs)}}}catch{}ou||(ou=window._);var $=ou,YN=su;function su(){var t={};t._next=t._prev=t,this._sentinel=t}function X0(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function KN(t,e){if("_next"!==t&&"_prev"!==t)return e}su.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return X0(e),e},su.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&X0(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},su.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,KN)),r=r._prev;return"["+t.join(", ")+"]"};var XN=Cn.Graph,QN=$.constant(1);function Nf(t,e,r,n,a){var i=a?[]:void 0;return $.forEach(t.inEdges(n.v),function(o){var l=t.edge(o),u=t.node(o.v);a&&i.push({v:o.v,w:o.w}),u.out-=l,Lf(e,r,u)}),$.forEach(t.outEdges(n.v),function(o){var l=t.edge(o),c=t.node(o.w);c.in-=l,Lf(e,r,c)}),t.removeNode(n.v),i}function Lf(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}var Z0_run=function rL(t){var e="greedy"===t.graph().acyclicer?function JN(t,e){if(t.nodeCount()<=1)return[];var r=function tL(t,e){var r=new XN,n=0,a=0;$.forEach(t.nodes(),function(l){r.setNode(l,{v:l,in:0,out:0})}),$.forEach(t.edges(),function(l){var u=r.edge(l.v,l.w)||0,c=e(l);r.setEdge(l.v,l.w,u+c),a=Math.max(a,r.node(l.v).out+=c),n=Math.max(n,r.node(l.w).in+=c)});var i=$.range(a+n+3).map(function(){return new YN}),o=n+1;return $.forEach(r.nodes(),function(l){Lf(i,o,r.node(l))}),{graph:r,buckets:i,zeroIdx:o}}(t,e||QN),n=function eL(t,e,r){for(var o,n=[],a=e[e.length-1],i=e[0];t.nodeCount();){for(;o=i.dequeue();)Nf(t,e,r,o);for(;o=a.dequeue();)Nf(t,e,r,o);if(t.nodeCount())for(var l=e.length-2;l>0;--l)if(o=e[l].dequeue()){n=n.concat(Nf(t,e,r,o,!0));break}}return n}(r.graph,r.buckets,r.zeroIdx);return $.flatten($.map(n,function(a){return t.outEdges(a.v,a.w)}),!0)}(t,function r(n){return function(a){return n.edge(a).weight}}(t)):function nL(t){var e=[],r={},n={};return $.forEach(t.nodes(),function a(i){$.has(n,i)||(n[i]=!0,r[i]=!0,$.forEach(t.outEdges(i),function(o){$.has(r,o.w)?e.push(o):a(o.w)}),delete r[i])}),e}(t);$.forEach(e,function(n){var a=t.edge(n);t.removeEdge(n),a.forwardName=n.name,a.reversed=!0,t.setEdge(n.w,n.v,a,$.uniqueId("rev"))})},Z0_undo=function aL(t){$.forEach(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})},Q0=Cn.Graph,er={addDummyNode:J0,simplify:function iL(t){var e=(new Q0).setGraph(t.graph());return $.forEach(t.nodes(),function(r){e.setNode(r,t.node(r))}),$.forEach(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},a=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+a.weight,minlen:Math.max(n.minlen,a.minlen)})}),e},asNonCompoundGraph:function oL(t){var e=new Q0({multigraph:t.isMultigraph()}).setGraph(t.graph());return $.forEach(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),$.forEach(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e},successorWeights:function sL(t){var e=$.map(t.nodes(),function(r){var n={};return $.forEach(t.outEdges(r),function(a){n[a.w]=(n[a.w]||0)+t.edge(a).weight}),n});return $.zipObject(t.nodes(),e)},predecessorWeights:function lL(t){var e=$.map(t.nodes(),function(r){var n={};return $.forEach(t.inEdges(r),function(a){n[a.v]=(n[a.v]||0)+t.edge(a).weight}),n});return $.zipObject(t.nodes(),e)},intersectRect:function uL(t,e){var u,c,r=t.x,n=t.y,a=e.x-r,i=e.y-n,o=t.width/2,l=t.height/2;if(!a&&!i)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(i)*o>Math.abs(a)*l?(i<0&&(l=-l),u=l*a/i,c=l):(a<0&&(o=-o),u=o,c=o*i/a),{x:r+u,y:n+c}},buildLayerMatrix:function cL(t){var e=$.map($.range(em(t)+1),function(){return[]});return $.forEach(t.nodes(),function(r){var n=t.node(r),a=n.rank;$.isUndefined(a)||(e[a][n.order]=r)}),e},normalizeRanks:function fL(t){var e=$.min($.map(t.nodes(),function(r){return t.node(r).rank}));$.forEach(t.nodes(),function(r){var n=t.node(r);$.has(n,"rank")&&(n.rank-=e)})},removeEmptyRanks:function dL(t){var e=$.min($.map(t.nodes(),function(i){return t.node(i).rank})),r=[];$.forEach(t.nodes(),function(i){var o=t.node(i).rank-e;r[o]||(r[o]=[]),r[o].push(i)});var n=0,a=t.graph().nodeRankFactor;$.forEach(r,function(i,o){$.isUndefined(i)&&o%a!=0?--n:n&&$.forEach(i,function(l){t.node(l).rank+=n})})},addBorderNode:function pL(t,e,r,n){var a={width:0,height:0};return arguments.length>=4&&(a.rank=r,a.order=n),J0(t,"border",a,e)},maxRank:em,partition:function hL(t,e){var r={lhs:[],rhs:[]};return $.forEach(t,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r},time:function vL(t,e){var r=$.now();try{return e()}finally{console.log(t+" time: "+($.now()-r)+"ms")}},notime:function gL(t,e){return e()}};function J0(t,e,r,n){var a;do{a=$.uniqueId(n)}while(t.hasNode(a));return r.dummy=e,t.setNode(a,r),a}function em(t){return $.max($.map(t.nodes(),function(e){var r=t.node(e).rank;if(!$.isUndefined(r))return r}))}var tm_run=function mL(t){t.graph().dummyChains=[],$.forEach(t.edges(),function(e){!function yL(t,e){var r=e.v,n=t.node(r).rank,a=e.w,i=t.node(a).rank,o=e.name,l=t.edge(e),u=l.labelRank;if(i!==n+1){var c,d,p;for(t.removeEdge(e),p=0,++n;n<i;++p,++n)l.points=[],c=er.addDummyNode(t,"edge",d={width:0,height:0,edgeLabel:l,edgeObj:e,rank:n},"_d"),n===u&&(d.width=l.width,d.height=l.height,d.dummy="edge-label",d.labelpos=l.labelpos),t.setEdge(r,c,{weight:l.weight},o),0===p&&t.graph().dummyChains.push(c),r=c;t.setEdge(r,a,{weight:l.weight},o)}}(t,e)})},tm_undo=function bL(t){$.forEach(t.graph().dummyChains,function(e){var a,r=t.node(e),n=r.edgeLabel;for(t.setEdge(r.edgeObj,n);r.dummy;)a=t.successors(e)[0],t.removeNode(e),n.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),r=t.node(e=a)})},lu_longestPath=function _L(t){var e={};$.forEach(t.sources(),function r(n){var a=t.node(n);if($.has(e,n))return a.rank;e[n]=!0;var i=$.min($.map(t.outEdges(n),function(o){return r(o.w)-t.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||null==i)&&(i=0),a.rank=i})},lu_slack=function xL(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen},wL=Cn.Graph,uu=lu_slack,rm=function OL(t){var a,i,e=new wL({directed:!1}),r=t.nodes()[0],n=t.nodeCount();for(e.setNode(r,{});EL(e,t)<n;)a=CL(e,t),i=e.hasNode(a.v)?uu(t,a):-uu(t,a),RL(e,t,i);return e};function EL(t,e){return $.forEach(t.nodes(),function r(n){$.forEach(e.nodeEdges(n),function(a){var i=a.v,o=n===i?a.w:i;!t.hasNode(o)&&!uu(e,a)&&(t.setNode(o,{}),t.setEdge(n,o,{}),r(o))})}),t.nodeCount()}function CL(t,e){return $.minBy(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return uu(e,r)})}function RL(t,e,r){$.forEach(t.nodes(),function(n){e.node(n).rank+=r})}var TL=lu_slack,SL=lu_longestPath,IL=Cn.alg.preorder,AL=Cn.alg.postorder,BL=er.simplify,PL=hi;function hi(t){t=BL(t),SL(t);var r,e=rm(t);for(Mf(e),Gf(e,t);r=im(e);)sm(e,t,r,om(e,t,r))}function Gf(t,e){var r=AL(t,t.nodes());r=r.slice(0,r.length-1),$.forEach(r,function(n){!function kL(t,e,r){var n=t.node(r);t.edge(r,n.parent).cutvalue=nm(t,e,r)}(t,e,n)})}function nm(t,e,r){var a=t.node(r).parent,i=!0,o=e.edge(r,a),l=0;return o||(i=!1,o=e.edge(a,r)),l=o.weight,$.forEach(e.nodeEdges(r),function(u){var c=u.v===r,d=c?u.w:u.v;if(d!==a){var p=c===i,v=e.edge(u).weight;if(l+=p?v:-v,function NL(t,e,r){return t.hasEdge(e,r)}(t,r,d)){var m=t.edge(r,d).cutvalue;l+=p?-m:m}}}),l}function Mf(t,e){arguments.length<2&&(e=t.nodes()[0]),am(t,{},1,e)}function am(t,e,r,n,a){var i=r,o=t.node(n);return e[n]=!0,$.forEach(t.neighbors(n),function(l){$.has(e,l)||(r=am(t,e,r,l,n))}),o.low=i,o.lim=r++,a?o.parent=a:delete o.parent,r}function im(t){return $.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function om(t,e,r){var n=r.v,a=r.w;e.hasEdge(n,a)||(n=r.w,a=r.v);var i=t.node(n),o=t.node(a),l=i,u=!1;i.lim>o.lim&&(l=o,u=!0);var c=$.filter(e.edges(),function(d){return u===lm(0,t.node(d.v),l)&&u!==lm(0,t.node(d.w),l)});return $.minBy(c,function(d){return TL(e,d)})}function sm(t,e,r,n){t.removeEdge(r.v,r.w),t.setEdge(n.v,n.w,{}),Mf(t),Gf(t,e),function DL(t,e){var r=$.find(t.nodes(),function(a){return!e.node(a).parent}),n=IL(t,r);n=n.slice(1),$.forEach(n,function(a){var i=t.node(a).parent,o=e.edge(a,i),l=!1;o||(o=e.edge(i,a),l=!0),e.node(a).rank=e.node(i).rank+(l?o.minlen:-o.minlen)})}(t,e)}function lm(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}hi.initLowLimValues=Mf,hi.initCutValues=Gf,hi.calcCutValue=nm,hi.leaveEdge=im,hi.enterEdge=om,hi.exchangeEdges=sm;var um=lu_longestPath,LL=function GL(t){switch(t.graph().ranker){case"network-simplex":default:!function cm(t){PL(t)}(t);break;case"tight-tree":!function zL(t){um(t),rm(t)}(t);break;case"longest-path":ML(t)}},ML=um;var fm_run=function UL(t){var e=er.addDummyNode(t,"root",{},"_root"),r=function jL(t){var e={};function r(n,a){var i=t.children(n);i&&i.length&&$.forEach(i,function(o){r(o,a+1)}),e[n]=a}return $.forEach(t.children(),function(n){r(n,1)}),e}(t),n=$.max($.values(r))-1,a=2*n+1;t.graph().nestingRoot=e,$.forEach(t.edges(),function(o){t.edge(o).minlen*=a});var i=function VL(t){return $.reduce(t.edges(),function(e,r){return e+t.edge(r).weight},0)}(t)+1;$.forEach(t.children(),function(o){dm(t,e,a,i,n,r,o)}),t.graph().nodeRankFactor=a},fm_cleanup=function WL(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,$.forEach(t.edges(),function(r){t.edge(r).nestingEdge&&t.removeEdge(r)})};function dm(t,e,r,n,a,i,o){var l=t.children(o);if(l.length){var u=er.addBorderNode(t,"_bt"),c=er.addBorderNode(t,"_bb"),d=t.node(o);t.setParent(u,o),d.borderTop=u,t.setParent(c,o),d.borderBottom=c,$.forEach(l,function(p){dm(t,e,r,n,a,i,p);var v=t.node(p),m=v.borderTop?v.borderTop:p,y=v.borderBottom?v.borderBottom:p,b=v.borderTop?n:2*n,g=m!==y?1:a-i[o]+1;t.setEdge(u,m,{weight:b,minlen:g,nestingEdge:!0}),t.setEdge(y,c,{weight:b,minlen:g,nestingEdge:!0})}),t.parent(o)||t.setEdge(e,u,{weight:0,minlen:a+i[o]})}else o!==e&&t.setEdge(e,o,{weight:0,minlen:r})}function pm(t,e,r,n,a,i){var l=a[e][i-1],u=er.addDummyNode(t,"border",{width:0,height:0,rank:i,borderType:e},r);a[e][i]=u,t.setParent(u,n),l&&t.setEdge(l,u,{weight:1})}var hm_adjust=function XL(t){var e=t.graph().rankdir.toLowerCase();("lr"===e||"rl"===e)&&vm(t)},hm_undo=function ZL(t){var e=t.graph().rankdir.toLowerCase();("bt"===e||"rl"===e)&&function QL(t){$.forEach(t.nodes(),function(e){zf(t.node(e))}),$.forEach(t.edges(),function(e){var r=t.edge(e);$.forEach(r.points,zf),$.has(r,"y")&&zf(r)})}(t),("lr"===e||"rl"===e)&&(function JL(t){$.forEach(t.nodes(),function(e){Ff(t.node(e))}),$.forEach(t.edges(),function(e){var r=t.edge(e);$.forEach(r.points,Ff),$.has(r,"x")&&Ff(r)})}(t),vm(t))};function vm(t){$.forEach(t.nodes(),function(e){gm(t.node(e))}),$.forEach(t.edges(),function(e){gm(t.edge(e))})}function gm(t){var e=t.width;t.width=t.height,t.height=e}function zf(t){t.y=-t.y}function Ff(t){var e=t.x;t.x=t.y,t.y=e}var r5=function n5(t,e){for(var r=0,n=1;n<e.length;++n)r+=a5(t,e[n-1],e[n]);return r};function a5(t,e,r){for(var n=$.zipObject(r,$.map(r,function(c,d){return d})),a=$.flatten($.map(e,function(c){return $.sortBy($.map(t.outEdges(c),function(d){return{pos:n[d.w],weight:t.edge(d).weight}}),"pos")}),!0),i=1;i<r.length;)i<<=1;var o=2*i-1;i-=1;var l=$.map(new Array(o),function(){return 0}),u=0;return $.forEach(a.forEach(function(c){var d=c.pos+i;l[d]+=c.weight;for(var p=0;d>0;)d%2&&(p+=l[d+1]),l[d=d-1>>1]+=c.weight;u+=c.weight*p})),u}function mm(t,e,r){for(var n;e.length&&(n=$.last(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}var h5=function ym(t,e,r,n){var a=t.children(e),i=t.node(e),o=i?i.borderLeft:void 0,l=i?i.borderRight:void 0,u={};o&&(a=$.filter(a,function(y){return y!==o&&y!==l}));var c=function o5(t,e){return $.map(e,function(r){var n=t.inEdges(r);if(n.length){var a=$.reduce(n,function(i,o){var l=t.edge(o),u=t.node(o.v);return{sum:i.sum+l.weight*u.order,weight:i.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:a.sum/a.weight,weight:a.weight}}return{v:r}})}(t,a);$.forEach(c,function(y){if(t.children(y.v).length){var b=ym(t,y.v,r,n);u[y.v]=b,$.has(b,"barycenter")&&function g5(t,e){$.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}(y,b)}});var d=function l5(t,e){var r={};return $.forEach(t,function(a,i){var o=r[a.v]={indegree:0,in:[],out:[],vs:[a.v],i};$.isUndefined(a.barycenter)||(o.barycenter=a.barycenter,o.weight=a.weight)}),$.forEach(e.edges(),function(a){var i=r[a.v],o=r[a.w];!$.isUndefined(i)&&!$.isUndefined(o)&&(o.indegree++,i.out.push(r[a.w]))}),function u5(t){var e=[];function r(i){return function(o){o.merged||($.isUndefined(o.barycenter)||$.isUndefined(i.barycenter)||o.barycenter>=i.barycenter)&&function c5(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}(i,o)}}function n(i){return function(o){o.in.push(i),0==--o.indegree&&t.push(o)}}for(;t.length;){var a=t.pop();e.push(a),$.forEach(a.in.reverse(),r(a)),$.forEach(a.out,n(a))}return $.map($.filter(e,function(i){return!i.merged}),function(i){return $.pick(i,["vs","i","barycenter","weight"])})}($.filter(r,function(a){return!a.indegree}))}(c,r);!function v5(t,e){$.forEach(t,function(r){r.vs=$.flatten(r.vs.map(function(n){return e[n]?e[n].vs:n}),!0)})}(d,u);var p=function d5(t,e){var r=er.partition(t,function(d){return $.has(d,"barycenter")}),n=r.lhs,a=$.sortBy(r.rhs,function(d){return-d.i}),i=[],o=0,l=0,u=0;n.sort(function p5(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}(!!e)),u=mm(i,a,u),$.forEach(n,function(d){u+=d.vs.length,i.push(d.vs),o+=d.barycenter*d.weight,l+=d.weight,u=mm(i,a,u)});var c={vs:$.flatten(i,!0)};return l&&(c.barycenter=o/l,c.weight=l),c}(d,n);if(o&&(p.vs=$.flatten([o,p.vs,l],!0),t.predecessors(o).length)){var v=t.node(t.predecessors(o)[0]),m=t.node(t.predecessors(l)[0]);$.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+v.order+m.order)/(p.weight+2),p.weight+=2}return p},m5=Cn.Graph,O5=Cn.Graph,E5=function C5(t){var e=er.maxRank(t),r=bm(t,$.range(1,e+1),"inEdges"),n=bm(t,$.range(e-1,-1,-1),"outEdges"),a=function t5(t){var e={},r=$.filter(t.nodes(),function(l){return!t.children(l).length}),n=$.max($.map(r,function(l){return t.node(l).rank})),a=$.map($.range(n+1),function(){return[]}),o=$.sortBy(r,function(l){return t.node(l).rank});return $.forEach(o,function i(l){if(!$.has(e,l)){e[l]=!0;var u=t.node(l);a[u.rank].push(l),$.forEach(t.successors(l),i)}}),a}(t);_m(t,a);for(var o,i=Number.POSITIVE_INFINITY,l=0,u=0;u<4;++l,++u){R5(l%2?r:n,l%4>=2),a=er.buildLayerMatrix(t);var c=r5(t,a);c<i&&(u=0,o=$.cloneDeep(a),i=c)}_m(t,o)};function bm(t,e,r){return $.map(e,function(n){return function b5(t,e,r){var n=function _5(t){for(var e;t.hasNode(e=$.uniqueId("_root")););return e}(t),a=new m5({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(i){return t.node(i)});return $.forEach(t.nodes(),function(i){var o=t.node(i),l=t.parent(i);(o.rank===e||o.minRank<=e&&e<=o.maxRank)&&(a.setNode(i),a.setParent(i,l||n),$.forEach(t[r](i),function(u){var c=u.v===i?u.w:u.v,d=a.edge(c,i),p=$.isUndefined(d)?0:d.weight;a.setEdge(c,i,{weight:t.edge(u).weight+p})}),$.has(o,"minRank")&&a.setNode(i,{borderLeft:o.borderLeft[e],borderRight:o.borderRight[e]}))}),a}(t,n,r)})}function R5(t,e){var r=new O5;$.forEach(t,function(n){var a=n.graph().root,i=h5(n,a,r,e);$.forEach(i.vs,function(o,l){n.node(o).order=l}),function w5(t,e,r){var a,n={};$.forEach(r,function(i){for(var l,u,o=t.parent(i);o;){if((l=t.parent(o))?(u=n[l],n[l]=o):(u=a,a=o),u&&u!==o)return void e.setEdge(u,o);o=l}})}(n,r,i.vs)})}function _m(t,e){$.forEach(e,function(r){$.forEach(r,function(n,a){t.node(n).order=a})})}var T5=Cn.Graph;function qf(t,e,r){if(e>r){var n=e;e=r,r=n}var a=t[e];a||(t[e]=a={}),a[r]=!0}function Om(t,e,r){if(e>r){var n=e;e=r,r=n}return $.has(t[e],r)}var D5=function B5(t){var a,e=er.buildLayerMatrix(t),r=$.merge(function xm(t,e){var r={};return $.reduce(e,function n(a,i){var o=0,l=0,u=a.length,c=$.last(i);return $.forEach(i,function(d,p){var v=function I5(t,e){if(t.node(e).dummy)return $.find(t.predecessors(e),function(r){return t.node(r).dummy})}(t,d),m=v?t.node(v).order:u;(v||d===c)&&($.forEach(i.slice(l,p+1),function(y){$.forEach(t.predecessors(y),function(b){var g=t.node(b),_=g.order;(_<o||m<_)&&(!g.dummy||!t.node(y).dummy)&&qf(r,b,y)})}),l=p+1,o=m)}),i}),r}(t,e),function wm(t,e){var r={};function n(i,o,l,u,c){var d;$.forEach($.range(o,l),function(p){t.node(d=i[p]).dummy&&$.forEach(t.predecessors(d),function(v){var m=t.node(v);m.dummy&&(m.order<u||m.order>c)&&qf(r,v,d)})})}return $.reduce(e,function a(i,o){var u,l=-1,c=0;return $.forEach(o,function(d,p){if("border"===t.node(d).dummy){var v=t.predecessors(d);v.length&&(u=t.node(v[0]).order,n(o,c,p,l,u),c=p,l=u)}n(o,c,o.length,u,i.length)}),o}),r}(t,e)),n={};$.forEach(["u","d"],function(o){a="u"===o?e:$.values(e).reverse(),$.forEach(["l","r"],function(l){"r"===l&&(a=$.map(a,function(p){return $.values(p).reverse()}));var u=("u"===o?t.predecessors:t.successors).bind(t),c=function Em(t,e,r,n){var a={},i={},o={};return $.forEach(e,function(l){$.forEach(l,function(u,c){a[u]=u,i[u]=u,o[u]=c})}),$.forEach(e,function(l){var u=-1;$.forEach(l,function(c){var d=n(c);if(d.length)for(var p=((d=$.sortBy(d,function(b){return o[b]})).length-1)/2,v=Math.floor(p),m=Math.ceil(p);v<=m;++v){var y=d[v];i[c]===c&&u<o[y]&&!Om(r,c,y)&&(i[y]=c,i[c]=a[c]=a[y],u=o[y])}})}),{root:a,align:i}}(0,a,r,u),d=function Cm(t,e,r,n,a){var i={},o=function A5(t,e,r,n){var a=new T5,i=t.graph(),o=function P5(t,e,r){return function(n,a,i){var c,o=n.node(a),l=n.node(i),u=0;if(u+=o.width/2,$.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2}if(c&&(u+=r?c:-c),c=0,u+=(o.dummy?e:t)/2,u+=(l.dummy?e:t)/2,u+=l.width/2,$.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":c=l.width/2;break;case"r":c=-l.width/2}return c&&(u+=r?c:-c),c=0,u}}(i.nodesep,i.edgesep,n);return $.forEach(e,function(l){var u;$.forEach(l,function(c){var d=r[c];if(a.setNode(d),u){var p=r[u],v=a.edge(p,d);a.setEdge(p,d,Math.max(o(t,c,u),v||0))}u=c})}),a}(t,e,r,a),l=a?"borderLeft":"borderRight";function u(p,v){for(var m=o.nodes(),y=m.pop(),b={};y;)b[y]?p(y):(b[y]=!0,m.push(y),m=m.concat(v(y))),y=m.pop()}return u(function c(p){i[p]=o.inEdges(p).reduce(function(v,m){return Math.max(v,i[m.v]+o.edge(m))},0)},o.predecessors.bind(o)),u(function d(p){var v=o.outEdges(p).reduce(function(y,b){return Math.min(y,i[b.w]-o.edge(b))},Number.POSITIVE_INFINITY),m=t.node(p);v!==Number.POSITIVE_INFINITY&&m.borderType!==l&&(i[p]=Math.max(i[p],v))},o.successors.bind(o)),$.forEach(n,function(p){i[p]=i[r[p]]}),i}(t,a,c.root,c.align,"r"===l);"r"===l&&(d=$.mapValues(d,function(p){return-p})),n[o+l]=d})});var i=function Rm(t,e){return $.minBy($.values(e),function(r){var n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return $.forIn(r,function(i,o){var l=function k5(t,e){return t.node(e).width}(t,o)/2;n=Math.max(i+l,n),a=Math.min(i-l,a)}),n-a})}(t,n);return function Tm(t,e){var r=$.values(e),n=$.min(r),a=$.max(r);$.forEach(["u","d"],function(i){$.forEach(["l","r"],function(o){var c,l=i+o,u=t[l];if(u!==e){var d=$.values(u);(c="l"===o?n-$.min(d):a-$.max(d))&&(t[l]=$.mapValues(u,function(p){return p+c}))}})})}(n,i),function Sm(t,e){return $.mapValues(t.ul,function(r,n){if(e)return t[e.toLowerCase()][n];var a=$.sortBy($.map(t,n));return(a[1]+a[2])/2})}(n,t.graph().align)},M5=er.normalizeRanks,z5=er.removeEmptyRanks,Ba=er,F5=Cn.Graph,j5=["nodesep","edgesep","ranksep","marginx","marginy"],V5={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},W5=["acyclicer","ranker","rankdir","align"],Y5=["width","height"],K5={width:0,height:0},X5=["minlen","weight","width","height","labeloffset"],Z5={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Q5=["labelpos"];function Hf(t,e){return $.mapValues($.pick(t,e),Number)}function $f(t){var e={};return $.forEach(t,function(r,n){e[n.toLowerCase()]=r}),e}var dG=Cn.Graph,pG={debugOrdering:function hG(t){var e=er.buildLayerMatrix(t),r=new dG({compound:!0,multigraph:!0}).setGraph({});return $.forEach(t.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+t.node(n).rank)}),$.forEach(t.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),$.forEach(e,function(n,a){r.setNode("layer"+a,{rank:"same"}),$.reduce(n,function(o,l){return r.setEdge(o,l,{style:"invis"}),l})}),r}},gG={graphlib:Cn,layout:function H5(t,e){var r=e&&e.debugTiming?Ba.time:Ba.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return function J5(t){var e=new F5({multigraph:!0,compound:!0}),r=$f(t.graph());return e.setGraph($.merge({},V5,Hf(r,j5),$.pick(r,W5))),$.forEach(t.nodes(),function(n){var a=$f(t.node(n));e.setNode(n,$.defaults(Hf(a,Y5),K5)),e.setParent(n,t.parent(n))}),$.forEach(t.edges(),function(n){var a=$f(t.edge(n));e.setEdge(n,$.merge({},Z5,Hf(a,X5),$.pick(a,Q5)))}),e}(t)});r("  runLayout",function(){!function $5(t,e){e("    makeSpaceForEdgeLabels",function(){!function eG(t){var e=t.graph();e.ranksep/=2,$.forEach(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function uG(t){$.forEach(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){Z0_run(t)}),e("    nestingGraph.run",function(){fm_run(t)}),e("    rank",function(){LL(Ba.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){!function tG(t){$.forEach(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),a=t.node(e.w);Ba.addDummyNode(t,"edge-proxy",{rank:(a.rank-n.rank)/2+n.rank,e},"_ep")}})}(t)}),e("    removeEmptyRanks",function(){z5(t)}),e("    nestingGraph.cleanup",function(){fm_cleanup(t)}),e("    normalizeRanks",function(){M5(t)}),e("    assignRankMinMax",function(){!function rG(t){var e=0;$.forEach(t.nodes(),function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=$.max(e,n.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function nG(t){$.forEach(t.nodes(),function(e){var r=t.node(e);"edge-proxy"===r.dummy&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){tm_run(t)}),e("    parentDummyChains",function(){!function qL(t){var e=function $L(t){var e={},r=0;return $.forEach(t.children(),function n(a){var i=r;$.forEach(t.children(a),n),e[a]={low:i,lim:r++}}),e}(t);$.forEach(t.graph().dummyChains,function(r){for(var n=t.node(r),a=n.edgeObj,i=function HL(t,e,r,n){var u,c,a=[],i=[],o=Math.min(e[r].low,e[n].low),l=Math.max(e[r].lim,e[n].lim);u=r;do{u=t.parent(u),a.push(u)}while(u&&(e[u].low>o||l>e[u].lim));for(c=u,u=n;(u=t.parent(u))!==c;)i.push(u);return{path:a.concat(i.reverse()),lca:c}}(t,e,a.v,a.w),o=i.path,l=i.lca,u=0,c=o[u],d=!0;r!==a.w;){if(n=t.node(r),d){for(;(c=o[u])!==l&&t.node(c).maxRank<n.rank;)u++;c===l&&(d=!1)}if(!d){for(;u<o.length-1&&t.node(c=o[u+1]).minRank<=n.rank;)u++;c=o[u]}t.setParent(r,c),r=t.successors(r)[0]}})}(t)}),e("    addBorderSegments",function(){!function KL(t){$.forEach(t.children(),function e(r){var n=t.children(r),a=t.node(r);if(n.length&&$.forEach(n,e),$.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var i=a.minRank,o=a.maxRank+1;i<o;++i)pm(t,"borderLeft","_bl",r,a,i),pm(t,"borderRight","_br",r,a,i)}})}(t)}),e("    order",function(){E5(t)}),e("    insertSelfEdges",function(){!function cG(t){var e=Ba.buildLayerMatrix(t);$.forEach(e,function(r){var n=0;$.forEach(r,function(a,i){var o=t.node(a);o.order=i+n,$.forEach(o.selfEdges,function(l){Ba.addDummyNode(t,"selfedge",{width:l.label.width,height:l.label.height,rank:o.rank,order:i+ ++n,e:l.e,label:l.label},"_se")}),delete o.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){hm_adjust(t)}),e("    position",function(){!function L5(t){(function G5(t){var e=er.buildLayerMatrix(t),r=t.graph().ranksep,n=0;$.forEach(e,function(a){var i=$.max($.map(a,function(o){return t.node(o).height}));$.forEach(a,function(o){t.node(o).y=n+i/2}),n+=i+r})})(t=er.asNonCompoundGraph(t)),$.forEach(D5(t),function(e,r){t.node(r).x=e})}(t)}),e("    positionSelfEdges",function(){!function fG(t){$.forEach(t.nodes(),function(e){var r=t.node(e);if("selfedge"===r.dummy){var n=t.node(r.e.v),a=n.x+n.width/2,i=n.y,o=r.x-a,l=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:a+2*o/3,y:i-l},{x:a+5*o/6,y:i-l},{x:a+o,y:i},{x:a+5*o/6,y:i+l},{x:a+2*o/3,y:i+l}],r.label.x=r.x,r.label.y=r.y}})}(t)}),e("    removeBorderNodes",function(){!function lG(t){$.forEach(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),n=t.node(r.borderTop),a=t.node(r.borderBottom),i=t.node($.last(r.borderLeft)),o=t.node($.last(r.borderRight));r.width=Math.abs(o.x-i.x),r.height=Math.abs(a.y-n.y),r.x=i.x+r.width/2,r.y=n.y+r.height/2}}),$.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){tm_undo(t)}),e("    fixupEdgeLabelCoords",function(){!function oG(t){$.forEach(t.edges(),function(e){var r=t.edge(e);if($.has(r,"x"))switch(("l"===r.labelpos||"r"===r.labelpos)&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){hm_undo(t)}),e("    translateGraph",function(){!function aG(t){var e=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,a=0,i=t.graph(),o=i.marginx||0,l=i.marginy||0;function u(c){var d=c.x,p=c.y,v=c.width,m=c.height;e=Math.min(e,d-v/2),r=Math.max(r,d+v/2),n=Math.min(n,p-m/2),a=Math.max(a,p+m/2)}$.forEach(t.nodes(),function(c){u(t.node(c))}),$.forEach(t.edges(),function(c){var d=t.edge(c);$.has(d,"x")&&u(d)}),e-=o,n-=l,$.forEach(t.nodes(),function(c){var d=t.node(c);d.x-=e,d.y-=n}),$.forEach(t.edges(),function(c){var d=t.edge(c);$.forEach(d.points,function(p){p.x-=e,p.y-=n}),$.has(d,"x")&&(d.x-=e),$.has(d,"y")&&(d.y-=n)}),i.width=r-e+o,i.height=a-n+l}(t)}),e("    assignNodeIntersects",function(){!function iG(t){$.forEach(t.edges(),function(e){var i,o,r=t.edge(e),n=t.node(e.v),a=t.node(e.w);r.points?(i=r.points[0],o=r.points[r.points.length-1]):(r.points=[],i=a,o=n),r.points.unshift(Ba.intersectRect(n,i)),r.points.push(Ba.intersectRect(a,o))})}(t)}),e("    reversePoints",function(){!function sG(t){$.forEach(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}(t)}),e("    acyclic.undo",function(){Z0_undo(t)})}(n,r)}),r("  updateInputGraph",function(){!function U5(t,e){$.forEach(t.nodes(),function(r){var n=t.node(r),a=e.node(r);n&&(n.x=a.x,n.y=a.y,e.children(r).length&&(n.width=a.width,n.height=a.height))}),$.forEach(t.edges(),function(r){var n=t.edge(r),a=e.edge(r);n.points=a.points,$.has(a,"x")&&(n.x=a.x,n.y=a.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,n)})})},debug:pG,util:{time:er.time,notime:er.notime},version:"0.8.5"},mG=Ua(function(t,e){var r;t.exports=(r=gG,function(n){var a={};function i(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=a,i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:u})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,l){if(1&l&&(o=i(o)),8&l||4&l&&"object"==typeof o&&o&&o.__esModule)return o;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),2&l&&"string"!=typeof o)for(var c in o)i.d(u,c,function(d){return o[d]}.bind(null,c));return u},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=0)}([function(n,a,i){var o=i(1),l=function(c){c&&c("layout","dagre",o)};typeof cytoscape<"u"&&l(cytoscape),n.exports=l},function(n,a,i){function o(v){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(v)}var u=i(2),c=i(3),d=i(4);function p(v){this.options=c({},u,v)}p.prototype.run=function(){var v=this.options,y=v.cy,b=v.eles,g=function(ne,ve){return function(m){return"function"==typeof m}(ve)?ve.apply(ne,[ne]):ve},_=v.boundingBox||{x1:0,y1:0,w:y.width(),h:y.height()};void 0===_.x2&&(_.x2=_.x1+_.w),void 0===_.w&&(_.w=_.x2-_.x1),void 0===_.y2&&(_.y2=_.y1+_.h),void 0===_.h&&(_.h=_.y2-_.y1);var Q,w=new d.graphlib.Graph({multigraph:!0,compound:!0}),E={},R=function(ne,ve){null!=ve&&(E[ne]=ve)};R("nodesep",v.nodeSep),R("edgesep",v.edgeSep),R("ranksep",v.rankSep),R("rankdir",v.rankDir),R("align",v.align),R("ranker",v.ranker),R("acyclicer",v.acyclicer),w.setGraph(E),w.setDefaultEdgeLabel(function(){return{}}),w.setDefaultNodeLabel(function(){return{}});for(var P=b.nodes(),k=0;k<P.length;k++){var T=P[k],D=T.layoutDimensions(v);w.setNode(T.id(),{width:D.w,height:D.h,name:T.id()})}for(var I=0;I<P.length;I++){var F=P[I];F.isChild()&&w.setParent(F.id(),F.parent().id())}for(var M=b.edges().stdFilter(function(le){return!le.source().isParent()&&!le.target().isParent()}),G=0;G<M.length;G++){var j=M[G];w.setEdge(j.source().id(),j.target().id(),{minlen:g(j,v.minLen),weight:g(j,v.edgeWeight),name:j.id()},j.id())}d.layout(w);for(var z=w.nodes(),ee=0;ee<z.length;ee++){var Z=z[ee],Y=w.node(Z);y.getElementById(Z).scratch().dagre=Y}v.boundingBox?(Q={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},P.forEach(function(le){var ne=le.scratch().dagre;Q.x1=Math.min(Q.x1,ne.x),Q.x2=Math.max(Q.x2,ne.x),Q.y1=Math.min(Q.y1,ne.y),Q.y2=Math.max(Q.y2,ne.y)}),Q.w=Q.x2-Q.x1,Q.h=Q.y2-Q.y1):Q=_;return P.layoutPositions(this,v,function(le){var ne=(le="object"===o(le)?le:this).scratch().dagre;return function(ne){return v.boundingBox?{x:_.x1+(0===Q.w?0:(ne.x-Q.x1)/Q.w)*_.w,y:_.y1+(0===Q.h?0:(ne.y-Q.y1)/Q.h)*_.h}:ne}({x:ne.x,y:ne.y})}),this},n.exports=p},function(n,a){n.exports={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,ranker:void 0,minLen:function(l){return 1},edgeWeight:function(l){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(l,u){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(l,u){return u},ready:function(){},stop:function(){}}},function(n,a){n.exports=null!=Object.assign?Object.assign.bind(Object):function(i){for(var o=arguments.length,l=new Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];return l.forEach(function(c){Object.keys(c).forEach(function(d){return i[d]=c[d]})}),i}},function(n,a){n.exports=r}]))});const Im=R_(mG);function Am(t){return typeof t>"u"||null===t}var Ir={isNothing:Am,isObject:function yG(t){return"object"==typeof t&&null!==t},toArray:function bG(t){return Array.isArray(t)?t:Am(t)?[]:[t]},repeat:function xG(t,e){var n,r="";for(n=0;n<e;n+=1)r+=t;return r},isNegativeZero:function wG(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},extend:function _G(t,e){var r,n,a,i;if(e)for(r=0,n=(i=Object.keys(e)).length;r<n;r+=1)t[a=i[r]]=e[a];return t}};function Bm(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+="\n\n"+t.mark.snippet),n+" "+r):n}function gs(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Bm(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(gs.prototype=Object.create(Error.prototype)).constructor=gs,gs.prototype.toString=function(e){return this.name+": "+Bm(this,e)};var ra=gs;function Uf(t,e,r,n,a){var i="",o="",l=Math.floor(a/2)-1;return n-e>l&&(e=n-l+(i=" ... ").length),r-n>l&&(r=n+l-(o=" ...").length),{str:i+t.slice(e,r).replace(/\t/g,"\u2192")+o,pos:n-e+i.length}}function jf(t,e){return Ir.repeat(" ",e-t.length)+t}var AG=function IG(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),"number"!=typeof e.indent&&(e.indent=1),"number"!=typeof e.linesBefore&&(e.linesBefore=3),"number"!=typeof e.linesAfter&&(e.linesAfter=2);for(var i,r=/\r?\n|\r|\0/g,n=[0],a=[],o=-1;i=r.exec(t.buffer);)a.push(i.index),n.push(i.index+i[0].length),t.position<=i.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var u,c,l="",d=Math.min(t.line+e.linesAfter,a.length).toString().length,p=e.maxLength-(e.indent+d+3);for(u=1;u<=e.linesBefore&&!(o-u<0);u++)c=Uf(t.buffer,n[o-u],a[o-u],t.position-(n[o]-n[o-u]),p),l=Ir.repeat(" ",e.indent)+jf((t.line-u+1).toString(),d)+" | "+c.str+"\n"+l;for(c=Uf(t.buffer,n[o],a[o],t.position,p),l+=Ir.repeat(" ",e.indent)+jf((t.line+1).toString(),d)+" | "+c.str+"\n",l+=Ir.repeat("-",e.indent+d+3+c.pos)+"^\n",u=1;u<=e.linesAfter&&!(o+u>=a.length);u++)c=Uf(t.buffer,n[o+u],a[o+u],t.position-(n[o]-n[o+u]),p),l+=Ir.repeat(" ",e.indent)+jf((t.line+u+1).toString(),d)+" | "+c.str+"\n";return l.replace(/\n$/,"")},BG=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],PG=["scalar","sequence","mapping"],yr=function DG(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(-1===BG.indexOf(r))throw new ra('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=function kG(t){var e={};return null!==t&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}(e.styleAliases||null),-1===PG.indexOf(this.kind))throw new ra('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')};function Pm(t,e){var r=[];return t[e].forEach(function(n){var a=r.length;r.forEach(function(i,o){i.tag===n.tag&&i.kind===n.kind&&i.multi===n.multi&&(a=o)}),r[a]=n}),r}function Vf(t){return this.extend(t)}Vf.prototype.extend=function(e){var r=[],n=[];if(e instanceof yr)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new ra("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}r.forEach(function(i){if(!(i instanceof yr))throw new ra("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&"scalar"!==i.loadKind)throw new ra("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new ra("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(i){if(!(i instanceof yr))throw new ra("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Vf.prototype);return a.implicit=(this.implicit||[]).concat(r),a.explicit=(this.explicit||[]).concat(n),a.compiledImplicit=Pm(a,"implicit"),a.compiledExplicit=Pm(a,"explicit"),a.compiledTypeMap=function NG(){var e,r,t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(a){a.multi?(t.multi[a.kind].push(a),t.multi.fallback.push(a)):t[a.kind][a.tag]=t.fallback[a.tag]=a}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}(a.compiledImplicit,a.compiledExplicit),a};var LG=Vf,GG=new yr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}}),MG=new yr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}}),zG=new yr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}}),FG=new LG({explicit:[GG,MG,zG]}),UG=new yr("tag:yaml.org,2002:null",{kind:"scalar",resolve:function qG(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function HG(){return null},predicate:function $G(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),YG=new yr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function jG(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function VG(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function WG(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function KG(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function XG(t){return 48<=t&&t<=55}function ZG(t){return 48<=t&&t<=57}var tM=new yr("tag:yaml.org,2002:int",{kind:"scalar",resolve:function QG(t){if(null===t)return!1;var a,e=t.length,r=0,n=!1;if(!e)return!1;if(("-"===(a=t[r])||"+"===a)&&(a=t[++r]),"0"===a){if(r+1===e)return!0;if("b"===(a=t[++r])){for(r++;r<e;r++)if("_"!==(a=t[r])){if("0"!==a&&"1"!==a)return!1;n=!0}return n&&"_"!==a}if("x"===a){for(r++;r<e;r++)if("_"!==(a=t[r])){if(!KG(t.charCodeAt(r)))return!1;n=!0}return n&&"_"!==a}if("o"===a){for(r++;r<e;r++)if("_"!==(a=t[r])){if(!XG(t.charCodeAt(r)))return!1;n=!0}return n&&"_"!==a}}if("_"===a)return!1;for(;r<e;r++)if("_"!==(a=t[r])){if(!ZG(t.charCodeAt(r)))return!1;n=!0}return!(!n||"_"===a)},construct:function JG(t){var n,e=t,r=1;if(-1!==e.indexOf("_")&&(e=e.replace(/_/g,"")),("-"===(n=e[0])||"+"===n)&&("-"===n&&(r=-1),n=(e=e.slice(1))[0]),"0"===e)return 0;if("0"===n){if("b"===e[1])return r*parseInt(e.slice(2),2);if("x"===e[1])return r*parseInt(e.slice(2),16);if("o"===e[1])return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)},predicate:function eM(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!Ir.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),rM=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),iM=/^[-+]?[0-9]+e/,lM=new yr("tag:yaml.org,2002:float",{kind:"scalar",resolve:function nM(t){return!(null===t||!rM.test(t)||"_"===t[t.length-1])},construct:function aM(t){var e,r;return r="-"===(e=t.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:r*parseFloat(e,10)},predicate:function sM(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||Ir.isNegativeZero(t))},represent:function oM(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ir.isNegativeZero(t))return"-0.0";return r=t.toString(10),iM.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"}),cM=FG.extend({implicit:[UG,YG,tM,lM]}),km=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Dm=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),hM=new yr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function fM(t){return null!==t&&(null!==km.exec(t)||null!==Dm.exec(t))},construct:function dM(t){var e,r,n,a,i,o,l,v,u=0,c=null;if(null===(e=km.exec(t))&&(e=Dm.exec(t)),null===e)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,a=+e[3],!e[4])return new Date(Date.UTC(r,n,a));if(i=+e[4],o=+e[5],l=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(c=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(c=-c)),v=new Date(Date.UTC(r,n,a,i,o,l,u)),c&&v.setTime(v.getTime()-c),v},instanceOf:Date,represent:function pM(t){return t.toISOString()}}),gM=new yr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function vM(t){return"<<"===t||null===t}}),Wf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",xM=new yr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function mM(t){if(null===t)return!1;var e,r,n=0,a=t.length,i=Wf;for(r=0;r<a;r++)if(!((e=i.indexOf(t.charAt(r)))>64)){if(e<0)return!1;n+=6}return n%8==0},construct:function yM(t){var e,r,n=t.replace(/[\r\n=]/g,""),a=n.length,i=Wf,o=0,l=[];for(e=0;e<a;e++)e%4==0&&e&&(l.push(o>>16&255),l.push(o>>8&255),l.push(255&o)),o=o<<6|i.indexOf(n.charAt(e));return 0==(r=a%4*6)?(l.push(o>>16&255),l.push(o>>8&255),l.push(255&o)):18===r?(l.push(o>>10&255),l.push(o>>2&255)):12===r&&l.push(o>>4&255),new Uint8Array(l)},predicate:function _M(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)},represent:function bM(t){var n,a,e="",r=0,i=t.length,o=Wf;for(n=0;n<i;n++)n%3==0&&n&&(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[63&r]),r=(r<<8)+t[n];return 0==(a=i%3)?(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[63&r]):2===a?(e+=o[r>>10&63],e+=o[r>>4&63],e+=o[r<<2&63],e+=o[64]):1===a&&(e+=o[r>>2&63],e+=o[r<<4&63],e+=o[64],e+=o[64]),e}}),wM=Object.prototype.hasOwnProperty,OM=Object.prototype.toString,RM=new yr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function EM(t){if(null===t)return!0;var r,n,a,i,o,e=[],l=t;for(r=0,n=l.length;r<n;r+=1){if(o=!1,"[object Object]"!==OM.call(a=l[r]))return!1;for(i in a)if(wM.call(a,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==e.indexOf(i))return!1;e.push(i)}return!0},construct:function CM(t){return null!==t?t:[]}}),TM=Object.prototype.toString,AM=new yr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function SM(t){if(null===t)return!0;var e,r,n,a,i,o=t;for(i=new Array(o.length),e=0,r=o.length;e<r;e+=1){if("[object Object]"!==TM.call(n=o[e])||1!==(a=Object.keys(n)).length)return!1;i[e]=[a[0],n[a[0]]]}return!0},construct:function IM(t){if(null===t)return[];var e,r,n,a,i,o=t;for(i=new Array(o.length),e=0,r=o.length;e<r;e+=1)n=o[e],a=Object.keys(n),i[e]=[a[0],n[a[0]]];return i}}),BM=Object.prototype.hasOwnProperty,DM=new yr("tag:yaml.org,2002:set",{kind:"mapping",resolve:function PM(t){if(null===t)return!0;var e,r=t;for(e in r)if(BM.call(r,e)&&null!==r[e])return!1;return!0},construct:function kM(t){return null!==t?t:{}}}),NM=cM.extend({implicit:[hM,gM],explicit:[xM,RM,AM,DM]}),Pa=Object.prototype.hasOwnProperty,cu=1,Nm=2,Lm=3,fu=4,Yf=1,LM=2,Gm=3,GM=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,MM=/[\x85\u2028\u2029]/,zM=/[,\[\]\{\}]/,Mm=/^(?:!|!!|![a-z\-]+!)$/i,zm=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Fm(t){return Object.prototype.toString.call(t)}function Ln(t){return 10===t||13===t}function vi(t){return 9===t||32===t}function Fr(t){return 9===t||32===t||10===t||13===t}function lo(t){return 44===t||91===t||93===t||123===t||125===t}function FM(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function qM(t){return 120===t?2:117===t?4:85===t?8:0}function HM(t){return 48<=t&&t<=57?t-48:-1}function qm(t){return 48===t?"\0":97===t?"\x07":98===t?"\b":116===t||9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"\x1b":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"\x85":95===t?"\xa0":76===t?"\u2028":80===t?"\u2029":""}function $M(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var Hm=new Array(256),$m=new Array(256),uo=0;uo<256;uo++)Hm[uo]=qm(uo)?1:0,$m[uo]=qm(uo);function UM(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||NM,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Um(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=AG(r),new ra(e,r)}function Fe(t,e){throw Um(t,e)}function du(t,e){t.onWarning&&t.onWarning.call(null,Um(t,e))}var jm={YAML:function(e,r,n){var a,i,o;null!==e.version&&Fe(e,"duplication of %YAML directive"),1!==n.length&&Fe(e,"YAML directive accepts exactly one argument"),null===(a=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&Fe(e,"ill-formed argument of the YAML directive"),i=parseInt(a[1],10),o=parseInt(a[2],10),1!==i&&Fe(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&du(e,"unsupported YAML version of the document")},TAG:function(e,r,n){var a,i;2!==n.length&&Fe(e,"TAG directive accepts exactly two arguments"),i=n[1],Mm.test(a=n[0])||Fe(e,"ill-formed tag handle (first argument) of the TAG directive"),Pa.call(e.tagMap,a)&&Fe(e,'there is a previously declared suffix for "'+a+'" tag handle'),zm.test(i)||Fe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{Fe(e,"tag prefix is malformed: "+i)}e.tagMap[a]=i}};function ka(t,e,r,n){var a,i,o,l;if(e<r){if(l=t.input.slice(e,r),n)for(a=0,i=l.length;a<i;a+=1)9===(o=l.charCodeAt(a))||32<=o&&o<=1114111||Fe(t,"expected valid JSON character");else GM.test(l)&&Fe(t,"the stream contains non-printable characters");t.result+=l}}function Vm(t,e,r,n){var a,i,o,l;for(Ir.isObject(r)||Fe(t,"cannot merge mappings; the provided source object is unacceptable"),o=0,l=(a=Object.keys(r)).length;o<l;o+=1)Pa.call(e,i=a[o])||(e[i]=r[i],n[i]=!0)}function co(t,e,r,n,a,i,o,l,u){var c,d;if(Array.isArray(a))for(c=0,d=(a=Array.prototype.slice.call(a)).length;c<d;c+=1)Array.isArray(a[c])&&Fe(t,"nested arrays are not supported inside keys"),"object"==typeof a&&"[object Object]"===Fm(a[c])&&(a[c]="[object Object]");if("object"==typeof a&&"[object Object]"===Fm(a)&&(a="[object Object]"),a=String(a),null===e&&(e={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(i))for(c=0,d=i.length;c<d;c+=1)Vm(t,e,i[c],r);else Vm(t,e,i,r);else!t.json&&!Pa.call(r,a)&&Pa.call(e,a)&&(t.line=o||t.line,t.lineStart=l||t.lineStart,t.position=u||t.position,Fe(t,"duplicated mapping key")),"__proto__"===a?Object.defineProperty(e,a,{configurable:!0,enumerable:!0,writable:!0,value:i}):e[a]=i,delete r[a];return e}function Kf(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):Fe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Yt(t,e,r){for(var n=0,a=t.input.charCodeAt(t.position);0!==a;){for(;vi(a);)9===a&&-1===t.firstTabInLine&&(t.firstTabInLine=t.position),a=t.input.charCodeAt(++t.position);if(e&&35===a)do{a=t.input.charCodeAt(++t.position)}while(10!==a&&13!==a&&0!==a);if(!Ln(a))break;for(Kf(t),a=t.input.charCodeAt(t.position),n++,t.lineIndent=0;32===a;)t.lineIndent++,a=t.input.charCodeAt(++t.position)}return-1!==r&&0!==n&&t.lineIndent<r&&du(t,"deficient indentation"),n}function pu(t){var r,e=t.position;return!(45!==(r=t.input.charCodeAt(e))&&46!==r||r!==t.input.charCodeAt(e+1)||r!==t.input.charCodeAt(e+2)||(e+=3,r=t.input.charCodeAt(e),0!==r&&!Fr(r)))}function Xf(t,e){1===e?t.result+=" ":e>1&&(t.result+=Ir.repeat("\n",e-1))}function Wm(t,e){var r,u,n=t.tag,a=t.anchor,i=[],l=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=i),u=t.input.charCodeAt(t.position);0!==u&&(-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,Fe(t,"tab characters must not be used in indentation")),45===u&&Fr(t.input.charCodeAt(t.position+1)));)if(l=!0,t.position++,Yt(t,!0,-1)&&t.lineIndent<=e)i.push(null),u=t.input.charCodeAt(t.position);else if(r=t.line,fo(t,e,Lm,!1,!0),i.push(t.result),Yt(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&0!==u)Fe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!l&&(t.tag=n,t.anchor=a,t.kind="sequence",t.result=i,!0)}function ZM(t){var e,a,i,o,r=!1,n=!1;if(33!==(o=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&Fe(t,"duplication of a tag property"),60===(o=t.input.charCodeAt(++t.position))?(r=!0,o=t.input.charCodeAt(++t.position)):33===o?(n=!0,a="!!",o=t.input.charCodeAt(++t.position)):a="!",e=t.position,r){do{o=t.input.charCodeAt(++t.position)}while(0!==o&&62!==o);t.position<t.length?(i=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):Fe(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==o&&!Fr(o);)33===o&&(n?Fe(t,"tag suffix cannot contain exclamation marks"):(a=t.input.slice(e-1,t.position+1),Mm.test(a)||Fe(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);i=t.input.slice(e,t.position),zM.test(i)&&Fe(t,"tag suffix cannot contain flow indicator characters")}i&&!zm.test(i)&&Fe(t,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{Fe(t,"tag name is malformed: "+i)}return r?t.tag=i:Pa.call(t.tagMap,a)?t.tag=t.tagMap[a]+i:"!"===a?t.tag="!"+i:"!!"===a?t.tag="tag:yaml.org,2002:"+i:Fe(t,'undeclared tag handle "'+a+'"'),!0}function QM(t){var e,r;if(38!==(r=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&Fe(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!Fr(r)&&!lo(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Fe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function fo(t,e,r,n,a){var i,o,l,p,v,m,y,b,g,u=1,c=!1,d=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,i=o=l=fu===r||Lm===r,n&&Yt(t,!0,-1)&&(c=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),1===u)for(;ZM(t)||QM(t);)Yt(t,!0,-1)?(c=!0,l=i,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):l=!1;if(l&&(l=c||a),(1===u||fu===r)&&(b=cu===r||Nm===r?e:e+1,g=t.position-t.lineStart,1===u?l&&(Wm(t,g)||function XM(t,e,r){var n,a,i,o,l,u,w,c=t.tag,d=t.anchor,p={},v=Object.create(null),m=null,y=null,b=null,g=!1,_=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=p),w=t.input.charCodeAt(t.position);0!==w;){if(!g&&-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,Fe(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),i=t.line,63!==w&&58!==w||!Fr(n)){if(o=t.line,l=t.lineStart,u=t.position,!fo(t,r,Nm,!1,!0))break;if(t.line===i){for(w=t.input.charCodeAt(t.position);vi(w);)w=t.input.charCodeAt(++t.position);if(58===w)Fr(w=t.input.charCodeAt(++t.position))||Fe(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(co(t,p,v,m,y,null,o,l,u),m=y=b=null),_=!0,g=!1,a=!1,m=t.tag,y=t.result;else{if(!_)return t.tag=c,t.anchor=d,!0;Fe(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!_)return t.tag=c,t.anchor=d,!0;Fe(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===w?(g&&(co(t,p,v,m,y,null,o,l,u),m=y=b=null),_=!0,g=!0,a=!0):g?(g=!1,a=!0):Fe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,w=n;if((t.line===i||t.lineIndent>e)&&(g&&(o=t.line,l=t.lineStart,u=t.position),fo(t,e,fu,!0,a)&&(g?y=t.result:b=t.result),g||(co(t,p,v,m,y,b,o,l,u),m=y=b=null),Yt(t,!0,-1),w=t.input.charCodeAt(t.position)),(t.line===i||t.lineIndent>e)&&0!==w)Fe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&co(t,p,v,m,y,null,o,l,u),_&&(t.tag=c,t.anchor=d,t.kind="mapping",t.result=p),_}(t,g,b))||function YM(t,e){var n,a,i,l,d,p,v,m,b,g,_,w,r=!0,o=t.tag,u=t.anchor,y=Object.create(null);if(91===(w=t.input.charCodeAt(t.position)))d=93,m=!1,l=[];else{if(123!==w)return!1;d=125,m=!0,l={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=l),w=t.input.charCodeAt(++t.position);0!==w;){if(Yt(t,!0,e),(w=t.input.charCodeAt(t.position))===d)return t.position++,t.tag=o,t.anchor=u,t.kind=m?"mapping":"sequence",t.result=l,!0;r?44===w&&Fe(t,"expected the node content, but found ','"):Fe(t,"missed comma between flow collection entries"),_=null,p=v=!1,63===w&&Fr(t.input.charCodeAt(t.position+1))&&(p=v=!0,t.position++,Yt(t,!0,e)),n=t.line,a=t.lineStart,i=t.position,fo(t,e,cu,!1,!0),g=t.tag,b=t.result,Yt(t,!0,e),w=t.input.charCodeAt(t.position),(v||t.line===n)&&58===w&&(p=!0,w=t.input.charCodeAt(++t.position),Yt(t,!0,e),fo(t,e,cu,!1,!0),_=t.result),m?co(t,l,y,g,b,_,n,a,i):l.push(p?co(t,null,y,g,b,_,n,a,i):b),Yt(t,!0,e),44===(w=t.input.charCodeAt(t.position))?(r=!0,w=t.input.charCodeAt(++t.position)):r=!1}Fe(t,"unexpected end of the stream within a flow collection")}(t,b)?d=!0:(o&&function KM(t,e){var r,n,d,p,a=Yf,i=!1,o=!1,l=e,u=0,c=!1;if(124===(p=t.input.charCodeAt(t.position)))n=!1;else{if(62!==p)return!1;n=!0}for(t.kind="scalar",t.result="";0!==p;)if(43===(p=t.input.charCodeAt(++t.position))||45===p)Yf===a?a=43===p?Gm:LM:Fe(t,"repeat of a chomping mode identifier");else{if(!((d=HM(p))>=0))break;0===d?Fe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Fe(t,"repeat of an indentation width identifier"):(l=e+d-1,o=!0)}if(vi(p)){do{p=t.input.charCodeAt(++t.position)}while(vi(p));if(35===p)do{p=t.input.charCodeAt(++t.position)}while(!Ln(p)&&0!==p)}for(;0!==p;){for(Kf(t),t.lineIndent=0,p=t.input.charCodeAt(t.position);(!o||t.lineIndent<l)&&32===p;)t.lineIndent++,p=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>l&&(l=t.lineIndent),Ln(p))u++;else{if(t.lineIndent<l){a===Gm?t.result+=Ir.repeat("\n",i?1+u:u):a===Yf&&i&&(t.result+="\n");break}for(n?vi(p)?(c=!0,t.result+=Ir.repeat("\n",i?1+u:u)):c?(c=!1,t.result+=Ir.repeat("\n",u+1)):0===u?i&&(t.result+=" "):t.result+=Ir.repeat("\n",u):t.result+=Ir.repeat("\n",i?1+u:u),i=!0,o=!0,u=0,r=t.position;!Ln(p)&&0!==p;)p=t.input.charCodeAt(++t.position);ka(t,r,t.position,!1)}}return!0}(t,b)||function VM(t,e){var r,n,a;if(39!==(r=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=a=t.position;0!==(r=t.input.charCodeAt(t.position));)if(39===r){if(ka(t,n,t.position,!0),39!==(r=t.input.charCodeAt(++t.position)))return!0;n=t.position,t.position++,a=t.position}else Ln(r)?(ka(t,n,a,!0),Xf(t,Yt(t,!1,e)),n=a=t.position):t.position===t.lineStart&&pu(t)?Fe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,a=t.position);Fe(t,"unexpected end of the stream within a single quoted scalar")}(t,b)||function WM(t,e){var r,n,a,i,o,l;if(34!==(l=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;0!==(l=t.input.charCodeAt(t.position));){if(34===l)return ka(t,r,t.position,!0),t.position++,!0;if(92===l){if(ka(t,r,t.position,!0),Ln(l=t.input.charCodeAt(++t.position)))Yt(t,!1,e);else if(l<256&&Hm[l])t.result+=$m[l],t.position++;else if((o=qM(l))>0){for(a=o,i=0;a>0;a--)(o=FM(l=t.input.charCodeAt(++t.position)))>=0?i=(i<<4)+o:Fe(t,"expected hexadecimal character");t.result+=$M(i),t.position++}else Fe(t,"unknown escape sequence");r=n=t.position}else Ln(l)?(ka(t,r,n,!0),Xf(t,Yt(t,!1,e)),r=n=t.position):t.position===t.lineStart&&pu(t)?Fe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}Fe(t,"unexpected end of the stream within a double quoted scalar")}(t,b)?d=!0:function JM(t){var e,r,n;if(42!==(n=t.input.charCodeAt(t.position)))return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!Fr(n)&&!lo(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Fe(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Pa.call(t.anchorMap,r)||Fe(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],Yt(t,!0,-1),!0}(t)?(d=!0,(null!==t.tag||null!==t.anchor)&&Fe(t,"alias node should not have any properties")):function jM(t,e,r){var a,i,o,l,u,c,d,m,p=t.kind,v=t.result;if(Fr(m=t.input.charCodeAt(t.position))||lo(m)||35===m||38===m||42===m||33===m||124===m||62===m||39===m||34===m||37===m||64===m||96===m||(63===m||45===m)&&(Fr(a=t.input.charCodeAt(t.position+1))||r&&lo(a)))return!1;for(t.kind="scalar",t.result="",i=o=t.position,l=!1;0!==m;){if(58===m){if(Fr(a=t.input.charCodeAt(t.position+1))||r&&lo(a))break}else if(35===m){if(Fr(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&pu(t)||r&&lo(m))break;if(Ln(m)){if(u=t.line,c=t.lineStart,d=t.lineIndent,Yt(t,!1,-1),t.lineIndent>=e){l=!0,m=t.input.charCodeAt(t.position);continue}t.position=o,t.line=u,t.lineStart=c,t.lineIndent=d;break}}l&&(ka(t,i,o,!1),Xf(t,t.line-u),i=o=t.position,l=!1),vi(m)||(o=t.position+1),m=t.input.charCodeAt(++t.position)}return ka(t,i,o,!1),!!t.result||(t.kind=p,t.result=v,!1)}(t,b,cu===r)&&(d=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===u&&(d=l&&Wm(t,g))),null===t.tag)null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);else if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&Fe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),p=0,v=t.implicitTypes.length;p<v;p+=1)if((y=t.implicitTypes[p]).resolve(t.result)){t.result=y.construct(t.result),t.tag=y.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else if("!"!==t.tag){if(Pa.call(t.typeMap[t.kind||"fallback"],t.tag))y=t.typeMap[t.kind||"fallback"][t.tag];else for(y=null,p=0,v=(m=t.typeMap.multi[t.kind||"fallback"]).length;p<v;p+=1)if(t.tag.slice(0,m[p].tag.length)===m[p].tag){y=m[p];break}y||Fe(t,"unknown tag !<"+t.tag+">"),null!==t.result&&y.kind!==t.kind&&Fe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+y.kind+'", not "'+t.kind+'"'),y.resolve(t.result,t.tag)?(t.result=y.construct(t.result,t.tag),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):Fe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||d}function e3(t){var r,n,a,o,e=t.position,i=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);0!==(o=t.input.charCodeAt(t.position))&&(Yt(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==o));){for(i=!0,o=t.input.charCodeAt(++t.position),r=t.position;0!==o&&!Fr(o);)o=t.input.charCodeAt(++t.position);for(a=[],(n=t.input.slice(r,t.position)).length<1&&Fe(t,"directive name must not be less than one character in length");0!==o;){for(;vi(o);)o=t.input.charCodeAt(++t.position);if(35===o){do{o=t.input.charCodeAt(++t.position)}while(0!==o&&!Ln(o));break}if(Ln(o))break;for(r=t.position;0!==o&&!Fr(o);)o=t.input.charCodeAt(++t.position);a.push(t.input.slice(r,t.position))}0!==o&&Kf(t),Pa.call(jm,n)?jm[n](t,n,a):du(t,'unknown document directive "'+n+'"')}Yt(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,Yt(t,!0,-1)):i&&Fe(t,"directives end mark is expected"),fo(t,t.lineIndent-1,fu,!1,!0),Yt(t,!0,-1),t.checkLineBreaks&&MM.test(t.input.slice(e,t.position))&&du(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&pu(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,Yt(t,!0,-1)):t.position<t.length-1&&Fe(t,"end of the stream or a document separator is expected")}function Ym(t,e){e=e||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var r=new UM(t,e),n=t.indexOf("\0");for(-1!==n&&(r.position=n,Fe(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)e3(r);return r.documents}var o3=function r3(t,e){var r=Ym(t,e);if(0!==r.length){if(1===r.length)return r[0];throw new ra("expected a single document in the stream, but found more")}};class l3{constructor(){this.url="https://current.geneontology.org/metadata/db-xrefs.json",this.dbxrefs=null,this.isInitialized=!1,this.hasInitError=!1}getURL(e,r,n){if(!this.dbxrefs)throw new Error("Database not initialized. Call init() first");let i,a=this.dbxrefs.filter(o=>o.database.toLowerCase()===e.toLowerCase()||o.synonyms&&o.synonyms.includes(e));if(a&&0!==a.length)return i=r?a[0].entity_types.filter(o=>o.type_name.toLowerCase()===r.toLowerCase()):[a[0].entity_types[0]],i&&0!==i.length?(i=i[0],i.url_syntax.replace("[example_id]",n)):void console.warn("@geneontology/dbxrefs: entity ",r," not found in database ",e);console.warn("@geneontology/dbxrefs: database ",e," not found for requested id ",n)}init(){var e=this;return(0,ha.A)(function*(){try{const r=yield fetch(e.url);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=yield r.text();e.dbxrefs=o3(n),e.isInitialized=!0}catch(r){throw e.hasInitError=!0,e.isInitialized=!0,r}})()}isReady(){return this.isInitialized}hasError(){return this.hasInitError}getDBXrefs(){return this.dbxrefs}}Bf.use(Im);const ms="gomodel:",Km=class{constructor(t){(0,Ae.r)(this,t),this.nodeOver=(0,Ae.c)(this,"nodeOver",7),this.nodeOut=(0,Ae.c)(this,"nodeOut",7),this.nodeClick=(0,Ae.c)(this,"nodeClick",7),this.layoutChange=(0,Ae.c)(this,"layoutChange",7),this.dbxrefService=new l3,this.configService=new qS,this.graphService=new SS(this.configService,this.dbxrefService),this.currentGraph=void 0,this.cy=void 0,this.dbXrefsReady=!1,this.selectedNode=void 0,this.selectedEvent=void 0,this.timerPopup=void 0,this.delayPopup=400,this.defaultNodeStyle={content:"data(label)",width:"data(width)",height:55,backgroundColor:"data(backgroundColor)","border-width":1,"border-color":"black","font-size":20,"min-zoomed-font-size":1,"text-valign":"center",color:"black",shape:"data(shape)","text-wrap":"wrap","text-max-width":"data(textwidth)"},this.defaultParentStyle={content:"data(label)",width:"data(width)",height:55,backgroundColor:"data(backgroundColor)","border-width":1,"border-color":"black","font-size":12,"min-zoomed-font-size":1,"text-valign":"top","text-halign":"center",color:"black",shape:"rectangle","text-wrap":"wrap","text-max-width":"data(textwidth)"},this.defaultEdgeStyle={"line-color":"data(color)","line-style":"data(lineStyle)","target-arrow-color":"data(color)","target-arrow-shape":"data(glyph)","curve-style":"bezier","text-rotation":"autorotate","text-margin-y":"-6px","text-margin-x":"-3px","target-arrow-fill":"filled","font-size":6,"min-zoomed-font-size":1,color:"white","text-outline-width":1,"text-outline-color":"#222222",width:"data(width)"},this.layout_opts={cose:{name:"cose",padding:10,animate:!0,directed:!0,fit:!0},"cose-bilkent":{name:"cose-bilkent",padding:10,quality:"proof",nodeDimensionsIncludeLabels:!0,randomize:!0,spacingFactor:.8,idealEdgeLength:90,edgeElasticity:.45,gravityCompound:1,gravityRangeCompound:1.5,numIter:2500,nodeRepulsion:45e3,tile:!0,fit:!0},random:{name:"random",fit:!0},grid:{name:"grid",fit:!0,padding:30,rows:void 0,columns:void 0},circle:{name:"circle",fit:!0,sort:function(e,r){return e.data("degree")-r.data("degree")}},breadthfirst:{name:"breadthfirst",directed:!0,fit:!0,spacingFactor:1,padding:30,circle:!1},dagre:{name:"dagre",rankDir:"TB",align:"UR"},cola:{}},this.previousPanelElt=void 0,this.gocamId=void 0,this.apiUrl="https://api.geneontology.org/api/go-cam/%ID",this.showLegend=!0,this.loading=!1,this.error=!1,this.cam=void 0,this.title=void 0,this.expandComplex=!1}newSelection(t){if(t.detail){let e=t.detail;this.cy.zoom(1),this.center(e.nodeId)}}selectGOCAM(t){t.detail&&(this.gocamId=t.detail.id)}watchGoCamIdAndApiUrl(t,e,r){t!==e&&this.loadGoCam()}initCytoscape(){Bf.use(Im)}initDBXrefs(){var t=this;return(0,ha.A)(function*(){try{for(yield t.dbxrefService.init();!t.dbxrefService.isReady();)yield new Promise(e=>setTimeout(e,100));if(t.dbxrefService.hasError())throw new Error("Failed to initialize dbxrefs");t.dbXrefsReady=!0}catch(e){console.error("Failed to initialize dbxrefs:",e),t.dbXrefsReady=!1}})()}loadGoCam(){if(!this.gocamId||!this.apiUrl)return;this.graphDiv.innerHTML="",this.loading=!0,this.error=!1,this.cam=void 0;let t=this.gocamId;t.startsWith(ms)||(t=ms+t);const e=this.apiUrl.replace("%ID",t);fetch(e).then(r=>r.json()).catch(r=>{console.error("Error while fetching gocam ",e)}).then(r=>{var n;let a=null!==(n=r.activeModel)&&void 0!==n?n:r;a&&this.setModelData(a)})}renderGoCam(t,e=!1,r="dagre"){const n=this,a=[],i=[];t.activities.forEach(l=>{if(l.visible){let u;u=l.activityType===Ke.molecule?n.createMolecule(l):l.activityType===Ke.proteinComplex?n.createComplex(l,e):n.createNode(l),a.push(...u)}}),t.causalRelations.forEach(l=>{if(l.predicate.visible&&l.isTripleComplete()&&this.configService.isAllowedEdge(l.predicate.edge.id)){const u=l.predicate.isReverseLink?l.object:l.subject,c=l.predicate.isReverseLink?l.subject:l.object;let d=function WS(t){return t?Mc[t]||(console.warn(`No glyph found for relation '${t}'`),{glyph:Ne_GLYPHS_NONE,label:t,color:Ne_COLORS_GREY}):(console.warn("No relation provided to glyph function"),{glyph:Ne_GLYPHS_NONE,label:"",color:Ne_COLORS_GREY})}(l.predicate.edge.id);i.push({group:"edges",data:{id:l.predicate.uuid,source:u.id,target:c.id,label:l.predicate.edge.label,color:d.color?d.color:"black",glyph:d.glyph?d.glyph:"circle",lineStyle:d.lineStyle?d.lineStyle:"solid",width:d.width?d.width:2}})}}),this.renderCytoscape(t,{nodes:a,edges:i},r)}createNode(t){var e;const r=(null===(e=t.gpNode)||void 0===e?void 0:e.term.label)||t.label||"",n=this.configService.getGeneShorthand(r);return[{group:"nodes",data:{id:t.id,label:n,width:Math.max(115,11*n.length),textwidth:Math.max(115,9*n.length),"text-valign":"top","text-halign":"left",shape:"rectangle",backgroundColor:t.backgroundColor||"white"}}]}createComplex(t,e=!1){var r,n;const a=(null===(r=t.gpNode)||void 0===r?void 0:r.term.label)||t.label||"";let i;const o=t.getEdges(null===(n=t.pccNode)||void 0===n?void 0:n.id);if(e&&o){const l=o.filter(d=>{var p,v;return(null===(v=null===(p=d.predicate)||void 0===p?void 0:p.edge)||void 0===v?void 0:v.id)===W.edge.hasPart.id}).map(d=>{var p;return this.configService.getGeneShorthand(null===(p=d.object.term)||void 0===p?void 0:p.label)}),u=l.slice(0,3);let c=u.join(", ");l.length>u.length&&(c+=" and "+(l.length-u.length).toString()+" more"),i={group:"nodes",data:{id:t.id,label:`${c}`,height:200,width:Math.max(115,11*c.length),textwidth:Math.max(115,9*c.length),shape:"rectangle",backgroundColor:t.backgroundColor||"white"}}}else i={group:"nodes",data:{id:t.id,label:a,width:Math.max(115,11*a.length),textwidth:Math.max(115,9*a.length),shape:"rectangle",backgroundColor:t.backgroundColor||"white"}};return[i]}createMolecule(t){var e;const r=t.rootNode,n=r?.term.label||t.label||"",a=null!==(e=this.configService.getGeneShorthand(n))&&void 0!==e?e:n;return[{group:"nodes",data:{shape:"ellipse",id:t.id,label:a,width:Math.max(115,11*a.length),textwidth:Math.max(115,9*a.length),"text-valign":"top","text-halign":"left",backgroundColor:t.backgroundColor||"white"}}]}renderCytoscape(t,e,r){this.cy=Bf({container:this.graphDiv,elements:e,layout:this.layout_opts[r],style:[{selector:"node",style:this.defaultNodeStyle},{selector:":parent",style:this.defaultParentStyle},{selector:"edge",style:this.defaultEdgeStyle}],minZoom:.1,maxZoom:3,zoomingEnabled:!0,userZoomingEnabled:!0,wheelSensitivity:.25,panningEnabled:!0,userPanningEnabled:!0,boxSelectionEnabled:!0,selectionType:"single",touchTapThreshold:8,desktopTapThreshold:4,autolock:!1,autoungrabify:!1,autounselectify:!1,ready:this.finishRendering}),setTimeout(()=>{this.resetView()},1e3),this.loading=!1,this.cy.nodes().on("click",n=>this.onMouseClick(n)),this.cy.on("pan",n=>this.onLayoutChange(n)),this.cy.on("zoom",n=>this.onLayoutChange(n)),this.cy.on("viewport",n=>this.onLayoutChange(n)),this.cy.on("resize",n=>this.onLayoutChange(n)),this.genesPanel&&(this.genesPanel.parentCy=this.cy)}finishRendering(){}highlight(t){let e=this.cy.elements('[id="'+t+'"]');e.size()>0&&(e.style("border-width","2px"),e.style("border-color","blue"),this.selectedNode=e)}clearHighlight(t){t&&(t.style("border-width","1px"),t.style("border-color","black"))}center(t){let e=this.cy.elements('[id="'+t+'"]');e.size()>0&&this.cy.center(e)}resetView(){var t=this;return(0,ha.A)(function*(){t.cy.fit(),t.cy.center()})()}toggleComplex(){var t=this;return(0,ha.A)(function*(){t.expandComplex=!t.expandComplex,t.renderGoCam(t.cam,t.expandComplex),t.cy.fit(),t.cy.center()})()}setAutoFocus(t){var e=this;return(0,ha.A)(function*(){e.cy.userZoomingEnabled(t)})()}setModelData(t){var e=this;return(0,ha.A)(function*(){e.cam=e.graphService.getCam(t),e.currentGraph=e.cam.graph,e.renderGoCam(e.cam,e.expandComplex)})()}isAutoFocusing(){return this.cy.userZoomingEnabled}scrollDiv(t,e){t.scroll(0,(n=>{var a=0;if(n.offsetParent){do{a+=n.offsetTop}while(n=n.offsetParent);return a}})(e))}onMouseOver(t){if(t&&t.target&&t.target.id&&(this.highlight(t.target.id()),this.selectedNode=t.target,this.selectedEvent=t),t.target&&t.target.length){let e=document.getElementById("gp_item_"+t.target.id());e&&!e.classList.contains("gp_item_selected")&&(e.classList.add("gp_item_selected"),this.previousPanelElt=e)}}onMouseOut(t){this.timerPopup&&clearTimeout(this.timerPopup),this.previousPanelElt&&this.previousPanelElt.classList&&(this.previousPanelElt.classList.contains("gp_item_selected")&&(this.previousPanelElt.classList.remove("gp_item_selected"),this.previousPanelElt.style["box-shadow"]=""),this.previousPanelElt=void 0),this.selectedNode&&(this.selectedNode.style("background-color",this.defaultNodeStyle["background-color"]),this.selectedNode.style("border-width","1px"),this.selectedNode.style("border-color","black"),this.selectedNode=void 0),t&&t.target&&t.target.id&&t.target.id().startsWith(ms)&&this.nodeOut.emit(t),this.timerPopup=void 0}onMouseClick(t){this.selectedEvent&&(this.selectedEvent.target.id().startsWith(ms)&&this.nodeOut.emit(this.selectedEvent),this.selectedEvent=void 0),this.selectedNode&&(this.selectedNode.style("background-color",this.defaultNodeStyle["background-color"]),this.selectedNode=void 0),this.genesPanel&&this.genesPanel.highlightActivity(t.target.id()),this.nodeClick.emit(t)}onLayoutChange(t){this.selectedEvent&&(this.selectedEvent.target.id().startsWith(ms)&&this.nodeOut.emit(this.selectedEvent),this.selectedEvent=void 0),this.selectedNode&&(this.selectedNode.style("background-color",this.defaultNodeStyle["background-color"]),this.selectedNode=void 0),this.layoutChange.emit(t)}componentWillLoad(){var t=this;return(0,ha.A)(function*(){yield t.initDBXrefs(),t.initCytoscape()})()}componentDidLoad(){this.loadGoCam();let t=this.gocamviz;const e=()=>{var r;return null===(r=this.cy)||void 0===r?void 0:r.renderer().invalidateContainerClientCoordsCache()};for(;null!=t;)t.addEventListener("transitionend",e),t.addEventListener("animationend",e),t.addEventListener("scroll",e),t=t.parentNode}render(){var t;return this.genesPanel&&!this.genesPanel.parentCy&&(this.genesPanel.parentCy=this.cy),(0,Ae.h)(Ae.H,null,(0,Ae.h)("div",{class:"gocam-graph-and-activities-container"},(0,Ae.h)("div",{class:"panel w-8",part:"gocam-panel"},(0,Ae.h)("div",{class:"panel-header"},(0,Ae.h)("div",{part:"gocam-title"},null===(t=this.cam)||void 0===t?void 0:t.title),(0,Ae.h)("div",{class:"gocam-panel-header-buttons"},(0,Ae.h)("button",{onClick:()=>this.toggleComplex()},this.expandComplex?"Collapse Protein Complexes":"Expand Protein Complexes"),(0,Ae.h)("button",{onClick:()=>this.resetView()},"Reset View"))),(0,Ae.h)("div",{class:"panel-body"},(0,Ae.h)("div",{class:"gocam-graph",part:"gocam-graph",ref:e=>this.graphDiv=e},this.loading&&(0,Ae.h)("go-loading-spinner",{message:`Loading GO-CAM ${this.gocamId}`})))),(0,Ae.h)("div",{class:"panel w-4",part:"activities-panel"},(0,Ae.h)("div",{class:"panel-header"},"Processes and Activities"),(0,Ae.h)("div",{class:"panel-body"},(0,Ae.h)("wc-genes-panel",{cam:this.cam,exportparts:"process, process-label, activity, gene-product, function-label",ref:e=>this.genesPanel=e})))),this.showLegend&&(0,Ae.h)("div",{class:"panel"},(0,Ae.h)("wc-gocam-legend",{exportparts:"header : legend-header, sections : legend-sections, section : legend-section"})))}get gocamviz(){return(0,Ae.g)(this)}static get watchers(){return{gocamId:["watchGoCamIdAndApiUrl"],apiUrl:["watchGoCamIdAndApiUrl"]}}};Km.style=".panel{flex:1 0 0;display:flex;flex-direction:column;min-width:0}.panel-header{box-sizing:border-box;display:flex;flex-direction:column;justify-content:center}.panel-body{flex:1 1 auto}@media (min-width: 992px){.panel-header{flex-direction:row;align-items:center;justify-content:space-between}.panel.w-8{flex:0 0 auto;width:66.66666667%}.panel.w-4{flex:0 0 auto;width:33.33333333%}}:host{--border-color:rgba(0, 0, 0, 0.125);--panel-border-width:0;--panel-border-color:var(--border-color);--panel-header-background:none;--panel-header-border-color:var(--border-color);--panel-header-border-width:0;--panel-header-color:inherit;--panel-header-padding:0;--panel-header-font-weight:700;--button-background-hover:none;--button-background:none;--button-border-color:none;--button-border-radius:0.2em;--button-border-width:0;--button-color:inherit;--graph-height:800px;--graph-padding:0;--legend-border-width:0;--legend-border-color:var(--border-color);--legend-padding:0;--legend-margin:1rem 0 0 0;--legend-header-background:none;--legend-header-border-color:var(--border-color);--legend-header-border-width:0;--legend-header-color:inherit;--legend-header-padding:0;--process-background:none;--process-border-color:var(--border-color);--process-border-width:0;--process-color:inherit;--process-padding:0;--process-label-background:none;--process-label-border-color:var(--border-color);--process-label-border-width:0 0 2px 0;--process-label-color:inherit;--process-label-padding:0;--activity-background:none;--activity-border-color:var(--border-color);--activity-border-width:0 0 1px 0;--activity-color:inherit;--activity-padding:0.25em 0;--activity-background-active:#f0f0f0;--activity-color-active:black;--gene-product-background:none;--gene-product-border-color:var(--border-color);--gene-product-border-width:0;--gene-product-color:inherit;--gene-product-padding:0;--function-label-background:none;--function-label-border-color:var(--border-color);--function-label-border-width:0;--function-label-color:inherit;--function-label-padding:0;--node-background:none;--node-border-color:var(--border-color);--node-border-width:0;--node-color:inherit;--node-padding:0;--function-nodes-padding:0}.gocam-graph-and-activities-container{display:flex;align-items:flex-start}.panel{border-color:var(--panel-border-color);border-style:solid;border-width:var(--panel-border-width)}.panel-header{background:var(--panel-header-background);border-color:var(--panel-header-border-color);border-style:solid;border-width:var(--panel-header-border-width);color:var(--panel-header-color);padding:var(--panel-header-padding);min-height:3em;font-weight:var(--panel-header-font-weight)}.gocam-panel-header-buttons{white-space:nowrap}button{color:var(--button-color);background-color:var(--button-background);padding:0.3em 0.6em;font-size:0.875em;border-radius:var(--button-border-radius);display:inline-block;font-weight:400;line-height:1.5;text-align:center;text-decoration:none;border-width:var(--button-border-width);border-style:solid;border-color:var(--button-border-color);vertical-align:middle;cursor:pointer;user-select:none}button:focus,button:hover{background-color:var(--button-background-hover)}button:first-child{margin-right:0.5em}.gocam-graph{padding:var(--graph-padding);height:var(--graph-height);box-sizing:border-box;position:relative}wc-gocam-legend{margin:var(--legend-margin);--border-width:var(--legend-border-width);--border-color:var(--legend-border-color);--padding:var(--legend-padding);--header-background:var(--legend-header-background);--header-border-color:var(--legend-header-border-color);--header-border-width:var(--legend-header-border-width);--header-color:var(--legend-header-color);--header-padding:var(--legend-header-padding)}wc-genes-panel{--height:var(--graph-height)}"}}]);